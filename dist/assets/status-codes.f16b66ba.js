import{i as No,j as ot,w as ho,k as go,l as Ao,m as me,n as nt,t as Po,p as Fo,q as So,s as Uo,v as xo,d as L,x as V,o as E,c as m,a as h,y as B,e as I,z as w,A as F,F as M,B as bo,C as Mo,D as j,E as G,G as pe,b as U,f as $,H as _e,I as Co,K as Lo,L as it,M as Vo,N as Te,O as Me,P as Ce}from"./index.dad407f1.js";/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let lt;const Le=e=>lt=e,ko=Symbol();function Ue(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var se;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(se||(se={}));const wo=!1,at=()=>{};function Ge(e,t,n,o=at){e.push(t);const l=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),o())};return!n&&So()&&Uo(l),l}function te(e,...t){e.slice().forEach(n=>{n(...t)})}const Go=e=>e();function xe(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,o)=>e.set(o,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],l=e[n];Ue(l)&&Ue(o)&&e.hasOwnProperty(n)&&!me(o)&&!nt(o)?e[n]=xe(l,o):e[n]=o}return e}const jo=Symbol();function Ho(e){return!Ue(e)||!e.hasOwnProperty(jo)}const{assign:z}=Object;function Yo(e){return!!(me(e)&&e.effect)}function Bo(e,t,n,o){const{state:l,actions:a,getters:r}=t,i=n.state.value[e];let d;function c(){!i&&(n.state.value[e]=l?l():{});const u=bo(n.state.value[e]);return z(u,a,Object.keys(r||{}).reduce((O,s)=>(O[s]=Mo(V(()=>{Le(n);const T=n._s.get(e);return r[s].call(T,T)})),O),{}))}return d=rt(e,c,t,n,o,!0),d}function rt(e,t,n={},o,l,a){let r;const i=z({actions:{}},n),d={deep:!0};let c,u,O=[],s=[],T;const v=o.state.value[e];!a&&!v&&(o.state.value[e]={}),ot({});let N;function S(D){let P;c=u=!1,typeof D=="function"?(D(o.state.value[e]),P={type:se.patchFunction,storeId:e,events:T}):(xe(o.state.value[e],D),P={type:se.patchObject,payload:D,storeId:e,events:T});const x=N=Symbol();xo().then(()=>{N===x&&(c=!0)}),u=!0,te(O,P,o.state.value[e])}const _=a?function(){const{state:D}=n,P=D?D():{};this.$patch(x=>{z(x,P)})}:at;function f(){r.stop(),O=[],s=[],o._s.delete(e)}function p(D,P){return function(){Le(o);const x=Array.from(arguments),K=[],Z=[];function q(H){K.push(H)}function yo(H){Z.push(H)}te(s,{args:x,name:D,store:R,after:q,onError:yo});let ae;try{ae=P.apply(this&&this.$id===e?this:R,x)}catch(H){throw te(Z,H),H}return ae instanceof Promise?ae.then(H=>(te(K,H),H)).catch(H=>(te(Z,H),Promise.reject(H))):(te(K,ae),ae)}}const y={_p:o,$id:e,$onAction:Ge.bind(null,s),$patch:S,$reset:_,$subscribe(D,P={}){const x=Ge(O,D,P.detached,()=>K()),K=r.run(()=>ho(()=>o.state.value[e],Z=>{(P.flush==="sync"?u:c)&&D({storeId:e,type:se.direct,events:T},Z)},z({},d,P)));return x},$dispose:f},R=go(y);o._s.set(e,R);const g=(o._a&&o._a.runWithContext||Go)(()=>o._e.run(()=>(r=Ao()).run(t)));for(const D in g){const P=g[D];if(me(P)&&!Yo(P)||nt(P))a||(v&&Ho(P)&&(me(P)?P.value=v[D]:xe(P,v[D])),o.state.value[e][D]=P);else if(typeof P=="function"){const x=p(D,P);g[D]=x,i.actions[D]=P}}return z(R,g),z(Po(R),g),Object.defineProperty(R,"$state",{get:()=>o.state.value[e],set:D=>{S(P=>{z(P,D)})}}),o._p.forEach(D=>{z(R,r.run(()=>D({store:R,app:o._a,pinia:o,options:i})))}),v&&a&&n.hydrate&&n.hydrate(R.$state,v),c=!0,u=!0,R}function Qo(e,t,n){let o,l;const a=typeof t=="function";typeof e=="string"?(o=e,l=a?n:t):(l=e,o=e.id);function r(i,d){const c=Fo();return i=i||(c?No(ko,null):null),i&&Le(i),i=lt,i._s.has(o)||(a?rt(o,t,l,i):Bo(o,l,i)),i._s.get(o)}return r.$id=o,r}var b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $o(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var l=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return e[o]}})}),n}var ee={};ee.__esModule=!0;var qo=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return e.isGuid=function(t){var n=t.toString();return t&&(t instanceof e||e.validator.test(n))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(t){return new e(t)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(t){for(var n="",o=0;o<t;o++)n+=((1+Math.random())*65536|0).toString(16).substring(1);return n},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}(),oe=ee.Guid=qo,C={};Object.defineProperty(C,"__esModule",{value:!0});var dt=C.eState=C.CompositeFieldType=C.InfoSectionType=C.OptionFieldType=C.MonolingualFieldType=C.TextType=C.FieldType=void 0,je;(function(e){e[e.ShortAnswer=0]="ShortAnswer",e[e.Paragraph=1]="Paragraph",e[e.RichText=2]="RichText",e[e.Date=3]="Date",e[e.DateTime=4]="DateTime",e[e.Decimal=5]="Decimal",e[e.Integer=6]="Integer",e[e.Email=7]="Email",e[e.Checkboxes=8]="Checkboxes",e[e.DataList=9]="DataList",e[e.RadioButtons=10]="RadioButtons",e[e.DropDown=11]="DropDown",e[e.InfoSection=12]="InfoSection",e[e.AttachmentField=13]="AttachmentField",e[e.CompositeField=14]="CompositeField",e[e.CheckboxGrid=15]="CheckboxGrid"})(je||(C.FieldType=je={}));var He;(function(e){e[e.ShortAnswer=0]="ShortAnswer",e[e.Paragraph=1]="Paragraph",e[e.RichText=2]="RichText",e[e.AttachmentField=13]="AttachmentField"})(He||(C.TextType=He={}));var Ye;(function(e){e[e.Date=3]="Date",e[e.DateTime=4]="DateTime",e[e.Decimal=5]="Decimal",e[e.Integer=6]="Integer",e[e.Email=7]="Email"})(Ye||(C.MonolingualFieldType=Ye={}));var Be;(function(e){e[e.Checkboxes=8]="Checkboxes",e[e.CheckboxGrid=15]="CheckboxGrid",e[e.DataList=9]="DataList",e[e.RadioButtons=10]="RadioButtons",e[e.DropDown=11]="DropDown"})(Be||(C.OptionFieldType=Be={}));var Qe;(function(e){e[e.InfoSection=12]="InfoSection"})(Qe||(C.InfoSectionType=Qe={}));var $e;(function(e){e[e.CompositeField=14]="CompositeField"})($e||(C.CompositeFieldType=$e={}));var qe;(function(e){e.Draft="Draft",e.Active="Active",e.Archived="Archived",e.Inactive="Inactive",e.Deleted="Deleted"})(qe||(dt=C.eState=qe={}));var We={},Ve={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getConcatenatedValues=e.cloneTextCollection=e.getTextValue=e.createGuid=e.createText=e.createTextCollection=void 0;const t=ee,n=d=>{const c={id:t.Guid.create().toString(),values:[]};return(typeof d=="string"?[d]:d).forEach(u=>{c.values.push({id:t.Guid.create().toString(),lang:u,value:""})}),c};e.createTextCollection=n;const o=d=>({id:t.Guid.create().toString(),value:"",lang:d||"en"});e.createText=o;const l=()=>t.Guid.create().toString();e.createGuid=l;const a=(d,c,u)=>{var O,s;let T;return c?T=(O=d==null?void 0:d.values)===null||O===void 0?void 0:O.filter(v=>v.lang===c).map(v=>v.value):T=(s=d==null?void 0:d.values)===null||s===void 0?void 0:s.map(v=>v.value),u?T.join(u):T};e.getTextValue=a;const r=d=>{const c=JSON.parse(JSON.stringify(d));return c.id=(0,e.createGuid)(),c.values.forEach(u=>{u.id=(0,e.createGuid)()}),c};e.cloneTextCollection=r;const i=(d,c)=>{var u,O,s="",T=[];return d.multilingualTextValues&&((u=d.multilingualTextValues)===null||u===void 0?void 0:u.length)>0?d.multilingualTextValues.forEach(v=>{s+=(0,e.getTextValue)(v,null,c)}):d.monolingualTextValues&&((O=d.monolingualTextValues)===null||O===void 0?void 0:O.length)>0&&(d.monolingualTextValues.forEach(v=>{T.push(v.value)}),s=T==null?void 0:T.join(c)),s};e.getConcatenatedValues=i})(Ve);var Y={},Je;function Wo(){if(Je)return Y;Je=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.cloneOption=Y.getOptionValues=Y.getOptionText=Y.createOption=void 0;const e=ee,t=ve();function n(r,i){return{id:e.Guid.create().toString(),isExtendedInput:!1,isExtendedInputRequired:!1,optionText:i||(0,t.createTextCollection)(r)}}Y.createOption=n;const o=(r,i)=>l(r.optionText,i);Y.getOptionText=o;function l(r,i){var d,c,u;return i?(c=(d=r==null?void 0:r.values)===null||d===void 0?void 0:d.filter(O=>O.lang===i).map(O=>O.value))===null||c===void 0?void 0:c.at(0):(u=r==null?void 0:r.values)===null||u===void 0?void 0:u.map(O=>O.value)}Y.getOptionValues=l;const a=r=>{const i=JSON.parse(JSON.stringify(r));return i.id=e.Guid.create().toString(),i.optionText.id=e.Guid.create().toString(),i.optionText.values.forEach(d=>d.id=e.Guid.create().toString()),i};return Y.cloneOption=a,Y}var Ee={},A={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CompositeFieldType=e.FieldType=e.InfoSectionType=e.OptionFieldType=e.MonolingualFieldType=e.TextType=void 0;var t=C;Object.defineProperty(e,"TextType",{enumerable:!0,get:function(){return t.TextType}}),Object.defineProperty(e,"MonolingualFieldType",{enumerable:!0,get:function(){return t.MonolingualFieldType}}),Object.defineProperty(e,"OptionFieldType",{enumerable:!0,get:function(){return t.OptionFieldType}}),Object.defineProperty(e,"InfoSectionType",{enumerable:!0,get:function(){return t.InfoSectionType}}),Object.defineProperty(e,"FieldType",{enumerable:!0,get:function(){return t.FieldType}}),Object.defineProperty(e,"CompositeFieldType",{enumerable:!0,get:function(){return t.CompositeFieldType}})})(A);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getFieldDataFromFormData=e.isCompositeField=e.createMissingFieldData=e.createFormData=e.createCompositeFieldData=e.createFieldData=e.getFieldDescription=e.getFieldTitle=e.isTextInputField=e.isMonolingualTextInputField=e.isMultilingualTextInputField=e.isOptionField=void 0;const t=ee,n=A,o=Ve,l=C,a=_=>Object.values(n.OptionFieldType).map(f=>f).includes(_.type);e.isOptionField=a;const r=_=>Object.values(n.TextType).map(f=>f).includes(_.type);e.isMultilingualTextInputField=r;const i=_=>Object.values(n.MonolingualFieldType).map(f=>f).includes(_.type);e.isMonolingualTextInputField=i;const d=_=>Object.values(n.MonolingualFieldType).map(f=>f).includes(_.type);e.isTextInputField=d;const c=(_,f)=>{const p=(0,o.getTextValue)(_.title,f);return(p==null?void 0:p.length)>0?p[0]:null};e.getFieldTitle=c;const u=(_,f)=>{const p=(0,o.getTextValue)(_.description,f);return(p==null?void 0:p.length)>0?p[0]:null};e.getFieldDescription=u;const O=(_,f)=>{var p;const y={id:t.Guid.create().toString(),fieldId:_.id,isValid:!0};if((0,e.isOptionField)(_))y.selectedOptionIds=[],_.allowCustomOptionValues&&(y.customOptionValues=[]),!((p=_.options)===null||p===void 0)&&p.find(R=>R.isExtendedInput)&&(y.extendedOptionValues=[]);else if((0,e.isMultilingualTextInputField)(_)){const R=typeof f=="string"?[f]:f;y.multilingualTextValues=[(0,o.createTextCollection)(R)]}else(0,e.isMonolingualTextInputField)(_)?y.monolingualTextValues=[(0,o.createText)(null)]:(0,e.isCompositeField)(_)&&(y.compositeFieldDataValues=[(0,e.createCompositeFieldData)(_,f)]);return y};e.createFieldData=O;const s=(_,f)=>{var p;const y={id:t.Guid.create().toString(),formId:_.id,fieldData:[]};return(p=_.fields)===null||p===void 0||p.forEach(R=>{f||(f="en");let g=(0,e.createFieldData)(R,f);y.fieldData.push(g)}),y};e.createCompositeFieldData=s;const T=(_,f)=>{var p;const y={id:t.Guid.EMPTY,formId:_.id,fieldData:[]};return(p=_.fields)===null||p===void 0||p.forEach(R=>{if(R.type!=l.FieldType.InfoSection){const g=(0,e.createFieldData)(R,f);y.fieldData.push(g)}}),y};e.createFormData=T;const v=(_,f,p)=>{var y;(y=_.fields)===null||y===void 0||y.forEach(R=>{if(R.type!=l.FieldType.InfoSection&&!f.fieldData.find(g=>g.fieldId==R.id)){const g=(0,e.createFieldData)(R,p);f.fieldData.push(g)}})};e.createMissingFieldData=v;const N=_=>Object.values(n.CompositeFieldType).map(f=>f).includes(_.type);e.isCompositeField=N;const S=(_,f)=>_==null?void 0:_.fieldData.find(p=>p.fieldId===f);e.getFieldDataFromFormData=S})(Ee);var Ke;function ve(){return Ke||(Ke=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getFieldDataFromFormData=e.isCompositeField=e.createFormData=e.createFieldData=e.getFieldDescription=e.getFieldTitle=e.isTextInputField=e.isMonolingualTextInputField=e.isMultilingualTextInputField=e.isOptionField=e.cloneOption=e.getOptionText=e.createOption=e.getTextValue=e.createGuid=e.createText=e.cloneTextCollection=e.createTextCollection=void 0;var t=Ve;Object.defineProperty(e,"createTextCollection",{enumerable:!0,get:function(){return t.createTextCollection}}),Object.defineProperty(e,"cloneTextCollection",{enumerable:!0,get:function(){return t.cloneTextCollection}}),Object.defineProperty(e,"createText",{enumerable:!0,get:function(){return t.createText}}),Object.defineProperty(e,"createGuid",{enumerable:!0,get:function(){return t.createGuid}}),Object.defineProperty(e,"getTextValue",{enumerable:!0,get:function(){return t.getTextValue}});var n=Wo();Object.defineProperty(e,"createOption",{enumerable:!0,get:function(){return n.createOption}}),Object.defineProperty(e,"getOptionText",{enumerable:!0,get:function(){return n.getOptionText}}),Object.defineProperty(e,"cloneOption",{enumerable:!0,get:function(){return n.cloneOption}});var o=Ee;Object.defineProperty(e,"isOptionField",{enumerable:!0,get:function(){return o.isOptionField}}),Object.defineProperty(e,"isMultilingualTextInputField",{enumerable:!0,get:function(){return o.isMultilingualTextInputField}}),Object.defineProperty(e,"isMonolingualTextInputField",{enumerable:!0,get:function(){return o.isMonolingualTextInputField}}),Object.defineProperty(e,"isTextInputField",{enumerable:!0,get:function(){return o.isTextInputField}}),Object.defineProperty(e,"getFieldTitle",{enumerable:!0,get:function(){return o.getFieldTitle}}),Object.defineProperty(e,"getFieldDescription",{enumerable:!0,get:function(){return o.getFieldDescription}}),Object.defineProperty(e,"createFieldData",{enumerable:!0,get:function(){return o.createFieldData}}),Object.defineProperty(e,"createFormData",{enumerable:!0,get:function(){return o.createFormData}}),Object.defineProperty(e,"isCompositeField",{enumerable:!0,get:function(){return o.isCompositeField}}),Object.defineProperty(e,"getFieldDataFromFormData",{enumerable:!0,get:function(){return o.getFieldDataFromFormData}})}(We)),We}var k=ve(),Oe={},ut={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getOptionIds=e.getFieldType=e.toFormData=e.getSolrFieldValues=e.getSolrFieldNameSuffix=e.createSolrFieldData=e.toSolrDocJson=void 0;const t=ee,n=A,o=ve(),l=Ee,a=(s,T,v)=>{var N;const S={id:s.id,fields:[]};return(N=s.fieldData)===null||N===void 0||N.forEach(_=>{var f,p,y;const R=(f=v.fields)===null||f===void 0?void 0:f.find(D=>D.id===_.fieldId),g=R==null?void 0:R.type;if(g!=n.FieldType.InfoSection)if(g==n.FieldType.CompositeField){const D={name:`container_${_.fieldId}`,childDocuments:[]};S.fields.push(D),(p=_.compositeFieldDataValues)===null||p===void 0||p.forEach(P=>{const x=(0,e.toSolrDocJson)(P,"data",R);D.childDocuments.push(x)})}else{const D=(0,e.createSolrFieldData)(_,v,T,g);D.constructor.name==="Array"?D.forEach(P=>{var x;(x=S.fields)===null||x===void 0||x.push(P)}):(y=S.fields)===null||y===void 0||y.push(D)}}),S};e.toSolrDocJson=a;const r=(s,T,v,N)=>{const S=T.id,_=s.fieldId,f=(0,e.getSolrFieldNameSuffix)(N,s),p=`${v}_${S}_${_}_${f}`,y=(0,e.getSolrFieldValues)(s,T.fields);if(y.constructor.name==="Array"){const R=[];return y.forEach(g=>{const D={name:p,value:g};R.push(D)}),R}else return{name:p,value:y}};e.createSolrFieldData=r;const i=(s,T)=>{var v,N,S,_,f;let p="";return((v=T.monolingualTextValues)===null||v===void 0?void 0:v.length)>0?s==n.FieldType.Email?(console.log("email"),p="ts"):s==n.FieldType.Date||s==n.FieldType.DateTime?p="dts":s==n.FieldType.Integer?p="is":s==n.FieldType.Decimal&&(p="ds"):(((N=T.multilingualTextValues)===null||N===void 0?void 0:N.length)>0||((S=T.selectedOptionIds)===null||S===void 0?void 0:S.length)>0||((_=T.customOptionValues)===null||_===void 0?void 0:_.length)>0||((f=T.compositeFieldDataValues)===null||f===void 0?void 0:f.length)>0)&&(p="ts"),p};e.getSolrFieldNameSuffix=i;const d=(s,T)=>{var v,N,S,_,f,p,y,R;if(s.multilingualTextValues&&((v=s.multilingualTextValues)===null||v===void 0?void 0:v.length)>0){let g=[];return(N=s.multilingualTextValues)===null||N===void 0||N.forEach(D=>{var P;g=(P=D.values)===null||P===void 0?void 0:P.map(x=>x==null?void 0:x.value)}),g.length>0?g:[]}else if(s.monolingualTextValues&&((S=s.monolingualTextValues)===null||S===void 0?void 0:S.length)>0){let g="";return(_=s.monolingualTextValues)===null||_===void 0||_.forEach(D=>{g=D.value}),g.length>0?g:""}else if(s.selectedOptionIds&&((f=s.selectedOptionIds)===null||f===void 0?void 0:f.length)>0){const g=s.fieldId;let D=[];return(p=s.selectedOptionIds)===null||p===void 0||p.forEach(P=>{var x;const K=(x=T==null?void 0:T.filter(q=>q.id===g).find(q=>q.options))===null||x===void 0?void 0:x.options,Z=K==null?void 0:K.filter(q=>q.id===P).find(q=>q.optionText);D.push((0,o.getOptionText)(Z,"en"))}),D}else if(s.extendedOptionValues&&((y=s.extendedOptionValues)===null||y===void 0?void 0:y.length)>0)return(R=s.extendedOptionValues)===null||R===void 0?void 0:R.find(g=>g==null?void 0:g.values);return""};e.getSolrFieldValues=d;const c=(s,T,v="en")=>{var N;const S={id:s.id,formId:T.id,fieldData:[]};return(N=s.data)===null||N===void 0||N.forEach(_=>{const f=_.key.toString().split("_");if((f[0]=="data"||f[0]=="metadata"||f[0]=="container")&&f[2]!="ss"){let p={id:t.Guid.create().toString(),fieldId:f[2],isValid:!0};if(S.fieldData.push(p),f[0]=="data"||f[0]=="metadata")(0,e.getFieldType)(p.fieldId,T)===n.FieldType.ShortAnswer||(0,e.getFieldType)(p.fieldId,T)===n.FieldType.Paragraph||(0,e.getFieldType)(p.fieldId,T)===n.FieldType.RichText?(p.multilingualTextValues=[],_.value.map(y=>{var R;const g={id:t.Guid.create().toString(),values:[{id:t.Guid.create().toString(),lang:v,value:y}]};(R=p.multilingualTextValues)===null||R===void 0||R.push(g)})):(0,e.getFieldType)(p.fieldId,T)===n.FieldType.Email||(0,e.getFieldType)(p.fieldId,T)===n.FieldType.Date||(0,e.getFieldType)(p.fieldId,T)===n.FieldType.DateTime||(0,e.getFieldType)(p.fieldId,T)===n.FieldType.Integer||(0,e.getFieldType)(p.fieldId,T)===n.FieldType.Decimal?(p.monolingualTextValues=[],_.value.map(y=>{var R;const g={id:t.Guid.create().toString(),value:y,lang:v};(R=p.monolingualTextValues)===null||R===void 0||R.push(g)})):((0,e.getFieldType)(p.fieldId,T)===n.FieldType.CheckboxGrid||(0,e.getFieldType)(p.fieldId,T)===n.FieldType.Checkboxes||(0,e.getFieldType)(p.fieldId,T)===n.FieldType.DataList||(0,e.getFieldType)(p.fieldId,T)===n.FieldType.DropDown||(0,e.getFieldType)(p.fieldId,T)===n.FieldType.RadioButtons)&&(p.selectedOptionIds=[],p.selectedOptionIds=(0,e.getOptionIds)(p.fieldId,_.value,T));else if(f[0]=="container"&&f[f.length-1]!="ss"){const y=f[1];p.fieldId=y;const R=T.fields.find(D=>D.id==y),g=_.value;p.compositeFieldDataValues=[],g.forEach(D=>{var P;const x=(0,e.toFormData)(D,R);x.fieldData.length>0&&((P=p.compositeFieldDataValues)===null||P===void 0||P.push(x))})}}}),(0,l.createMissingFieldData)(T,S,v),S};e.toFormData=c;const u=(s,T)=>T.fields.find(v=>v.id===s).type;e.getFieldType=u;const O=(s,T,v)=>{var N;const S=(N=v.fields)===null||N===void 0?void 0:N.find(f=>f.id===s),_=[];return T.forEach(f=>{var p;const y=(p=S==null?void 0:S.options)===null||p===void 0?void 0:p.find(R=>R.optionText.values.find(g=>g.value===f));(y==null?void 0:y.id)!=null&&_.push(y==null?void 0:y.id)}),_};e.getOptionIds=O})(ut);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toFormData=e.toSolrDocJson=void 0;var t=ut;Object.defineProperty(e,"toSolrDocJson",{enumerable:!0,get:function(){return t.toSolrDocJson}}),Object.defineProperty(e,"toFormData",{enumerable:!0,get:function(){return t.toFormData}})})(Oe);var st=202,ct=502,Et=400,pt=409,Tt=100,mt=201,Ot=417,Jo=424,ft=403,_t=504,vt=410,It=505,Rt=418,Dt=419,yt=507,Nt=500,ht=411,gt=423,At=420,Pt=405,Ft=301,St=302,Ut=207,xt=300,bt=511,Mt=204,Ct=203,Lt=406,Vt=404,kt=501,wt=304,Gt=200,jt=206,Ht=402,Yt=308,Bt=412,Qt=428,$t=102,qt=407,Wt=431,Jt=408,Kt=413,Xt=414,zt=416,Zt=205,eo=303,to=503,oo=101,no=307,io=429,lo=401,ao=422,ro=415,uo=305;const Ko={ACCEPTED:st,BAD_GATEWAY:ct,BAD_REQUEST:Et,CONFLICT:pt,CONTINUE:Tt,CREATED:mt,EXPECTATION_FAILED:Ot,FORBIDDEN:ft,GATEWAY_TIMEOUT:_t,GONE:vt,HTTP_VERSION_NOT_SUPPORTED:It,IM_A_TEAPOT:Rt,INSUFFICIENT_SPACE_ON_RESOURCE:Dt,INSUFFICIENT_STORAGE:yt,INTERNAL_SERVER_ERROR:Nt,LENGTH_REQUIRED:ht,LOCKED:gt,METHOD_FAILURE:At,METHOD_NOT_ALLOWED:Pt,MOVED_PERMANENTLY:Ft,MOVED_TEMPORARILY:St,MULTI_STATUS:Ut,MULTIPLE_CHOICES:xt,NETWORK_AUTHENTICATION_REQUIRED:bt,NO_CONTENT:Mt,NON_AUTHORITATIVE_INFORMATION:Ct,NOT_ACCEPTABLE:Lt,NOT_FOUND:Vt,NOT_IMPLEMENTED:kt,NOT_MODIFIED:wt,OK:Gt,PARTIAL_CONTENT:jt,PAYMENT_REQUIRED:Ht,PERMANENT_REDIRECT:Yt,PRECONDITION_FAILED:Bt,PRECONDITION_REQUIRED:Qt,PROCESSING:$t,PROXY_AUTHENTICATION_REQUIRED:qt,REQUEST_HEADER_FIELDS_TOO_LARGE:Wt,REQUEST_TIMEOUT:Jt,REQUEST_TOO_LONG:Kt,REQUEST_URI_TOO_LONG:Xt,REQUESTED_RANGE_NOT_SATISFIABLE:zt,RESET_CONTENT:Zt,SEE_OTHER:eo,SERVICE_UNAVAILABLE:to,SWITCHING_PROTOCOLS:oo,TEMPORARY_REDIRECT:no,TOO_MANY_REQUESTS:io,UNAUTHORIZED:lo,UNPROCESSABLE_ENTITY:ao,UNSUPPORTED_MEDIA_TYPE:ro,USE_PROXY:uo};var Xo={202:"Accepted",502:"Bad Gateway",400:"Bad Request",409:"Conflict",100:"Continue",201:"Created",417:"Expectation Failed",424:"Failed Dependency",403:"Forbidden",504:"Gateway Timeout",410:"Gone",505:"HTTP Version Not Supported",418:"I'm a teapot",419:"Insufficient Space on Resource",507:"Insufficient Storage",500:"Internal Server Error",411:"Length Required",423:"Locked",420:"Method Failure",405:"Method Not Allowed",301:"Moved Permanently",302:"Moved Temporarily",207:"Multi-Status",300:"Multiple Choices",511:"Network Authentication Required",204:"No Content",203:"Non Authoritative Information",406:"Not Acceptable",404:"Not Found",501:"Not Implemented",304:"Not Modified",200:"OK",206:"Partial Content",402:"Payment Required",308:"Permanent Redirect",412:"Precondition Failed",428:"Precondition Required",102:"Processing",103:"Early Hints",426:"Upgrade Required",407:"Proxy Authentication Required",431:"Request Header Fields Too Large",408:"Request Timeout",413:"Request Entity Too Large",414:"Request-URI Too Long",416:"Requested Range Not Satisfiable",205:"Reset Content",303:"See Other",503:"Service Unavailable",101:"Switching Protocols",307:"Temporary Redirect",429:"Too Many Requests",401:"Unauthorized",451:"Unavailable For Legal Reasons",422:"Unprocessable Entity",415:"Unsupported Media Type",305:"Use Proxy",421:"Misdirected Request"},zo={Accepted:202,"Bad Gateway":502,"Bad Request":400,Conflict:409,Continue:100,Created:201,"Expectation Failed":417,"Failed Dependency":424,Forbidden:403,"Gateway Timeout":504,Gone:410,"HTTP Version Not Supported":505,"I'm a teapot":418,"Insufficient Space on Resource":419,"Insufficient Storage":507,"Internal Server Error":500,"Length Required":411,Locked:423,"Method Failure":420,"Method Not Allowed":405,"Moved Permanently":301,"Moved Temporarily":302,"Multi-Status":207,"Multiple Choices":300,"Network Authentication Required":511,"No Content":204,"Non Authoritative Information":203,"Not Acceptable":406,"Not Found":404,"Not Implemented":501,"Not Modified":304,OK:200,"Partial Content":206,"Payment Required":402,"Permanent Redirect":308,"Precondition Failed":412,"Precondition Required":428,Processing:102,"Early Hints":103,"Upgrade Required":426,"Proxy Authentication Required":407,"Request Header Fields Too Large":431,"Request Timeout":408,"Request Entity Too Large":413,"Request-URI Too Long":414,"Requested Range Not Satisfiable":416,"Reset Content":205,"See Other":303,"Service Unavailable":503,"Switching Protocols":101,"Temporary Redirect":307,"Too Many Requests":429,Unauthorized:401,"Unavailable For Legal Reasons":451,"Unprocessable Entity":422,"Unsupported Media Type":415,"Use Proxy":305,"Misdirected Request":421};function so(e){var t=Xo[e.toString()];if(!t)throw new Error("Status code does not exist: "+e);return t}function co(e){var t=zo[e];if(!t)throw new Error("Reason phrase does not exist: "+e);return t}var Eo=so,ce;(function(e){e[e.CONTINUE=100]="CONTINUE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.PROCESSING=102]="PROCESSING",e[e.EARLY_HINTS=103]="EARLY_HINTS",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.MULTI_STATUS=207]="MULTI_STATUS",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.MOVED_TEMPORARILY=302]="MOVED_TEMPORARILY",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.USE_PROXY=305]="USE_PROXY",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.REQUEST_TOO_LONG=413]="REQUEST_TOO_LONG",e[e.REQUEST_URI_TOO_LONG=414]="REQUEST_URI_TOO_LONG",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.IM_A_TEAPOT=418]="IM_A_TEAPOT",e[e.INSUFFICIENT_SPACE_ON_RESOURCE=419]="INSUFFICIENT_SPACE_ON_RESOURCE",e[e.METHOD_FAILURE=420]="METHOD_FAILURE",e[e.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",e[e.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",e[e.LOCKED=423]="LOCKED",e[e.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",e[e.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",e[e.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",e[e.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",e[e.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",e[e.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED"})(ce||(ce={}));var be;(function(e){e.ACCEPTED="Accepted",e.BAD_GATEWAY="Bad Gateway",e.BAD_REQUEST="Bad Request",e.CONFLICT="Conflict",e.CONTINUE="Continue",e.CREATED="Created",e.EXPECTATION_FAILED="Expectation Failed",e.FAILED_DEPENDENCY="Failed Dependency",e.FORBIDDEN="Forbidden",e.GATEWAY_TIMEOUT="Gateway Timeout",e.GONE="Gone",e.HTTP_VERSION_NOT_SUPPORTED="HTTP Version Not Supported",e.IM_A_TEAPOT="I'm a teapot",e.INSUFFICIENT_SPACE_ON_RESOURCE="Insufficient Space on Resource",e.INSUFFICIENT_STORAGE="Insufficient Storage",e.INTERNAL_SERVER_ERROR="Internal Server Error",e.LENGTH_REQUIRED="Length Required",e.LOCKED="Locked",e.METHOD_FAILURE="Method Failure",e.METHOD_NOT_ALLOWED="Method Not Allowed",e.MOVED_PERMANENTLY="Moved Permanently",e.MOVED_TEMPORARILY="Moved Temporarily",e.MULTI_STATUS="Multi-Status",e.MULTIPLE_CHOICES="Multiple Choices",e.NETWORK_AUTHENTICATION_REQUIRED="Network Authentication Required",e.NO_CONTENT="No Content",e.NON_AUTHORITATIVE_INFORMATION="Non Authoritative Information",e.NOT_ACCEPTABLE="Not Acceptable",e.NOT_FOUND="Not Found",e.NOT_IMPLEMENTED="Not Implemented",e.NOT_MODIFIED="Not Modified",e.OK="OK",e.PARTIAL_CONTENT="Partial Content",e.PAYMENT_REQUIRED="Payment Required",e.PERMANENT_REDIRECT="Permanent Redirect",e.PRECONDITION_FAILED="Precondition Failed",e.PRECONDITION_REQUIRED="Precondition Required",e.PROCESSING="Processing",e.EARLY_HINTS="Early Hints",e.UPGRADE_REQUIRED="Upgrade Required",e.PROXY_AUTHENTICATION_REQUIRED="Proxy Authentication Required",e.REQUEST_HEADER_FIELDS_TOO_LARGE="Request Header Fields Too Large",e.REQUEST_TIMEOUT="Request Timeout",e.REQUEST_TOO_LONG="Request Entity Too Large",e.REQUEST_URI_TOO_LONG="Request-URI Too Long",e.REQUESTED_RANGE_NOT_SATISFIABLE="Requested Range Not Satisfiable",e.RESET_CONTENT="Reset Content",e.SEE_OTHER="See Other",e.SERVICE_UNAVAILABLE="Service Unavailable",e.SWITCHING_PROTOCOLS="Switching Protocols",e.TEMPORARY_REDIRECT="Temporary Redirect",e.TOO_MANY_REQUESTS="Too Many Requests",e.UNAUTHORIZED="Unauthorized",e.UNAVAILABLE_FOR_LEGAL_REASONS="Unavailable For Legal Reasons",e.UNPROCESSABLE_ENTITY="Unprocessable Entity",e.UNSUPPORTED_MEDIA_TYPE="Unsupported Media Type",e.USE_PROXY="Use Proxy",e.MISDIRECTED_REQUEST="Misdirected Request"})(be||(be={}));var fe=globalThis&&globalThis.__assign||function(){return fe=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},fe.apply(this,arguments)};const Zo=fe(fe({},Ko),{getStatusCode:co,getStatusText:Eo}),en=Object.freeze(Object.defineProperty({__proto__:null,ACCEPTED:st,BAD_GATEWAY:ct,BAD_REQUEST:Et,CONFLICT:pt,CONTINUE:Tt,CREATED:mt,EXPECTATION_FAILED:Ot,FAILED_DEPENDENCY:Jo,FORBIDDEN:ft,GATEWAY_TIMEOUT:_t,GONE:vt,HTTP_VERSION_NOT_SUPPORTED:It,IM_A_TEAPOT:Rt,INSUFFICIENT_SPACE_ON_RESOURCE:Dt,INSUFFICIENT_STORAGE:yt,INTERNAL_SERVER_ERROR:Nt,LENGTH_REQUIRED:ht,LOCKED:gt,METHOD_FAILURE:At,METHOD_NOT_ALLOWED:Pt,MOVED_PERMANENTLY:Ft,MOVED_TEMPORARILY:St,MULTIPLE_CHOICES:xt,MULTI_STATUS:Ut,NETWORK_AUTHENTICATION_REQUIRED:bt,NON_AUTHORITATIVE_INFORMATION:Ct,NOT_ACCEPTABLE:Lt,NOT_FOUND:Vt,NOT_IMPLEMENTED:kt,NOT_MODIFIED:wt,NO_CONTENT:Mt,OK:Gt,PARTIAL_CONTENT:jt,PAYMENT_REQUIRED:Ht,PERMANENT_REDIRECT:Yt,PRECONDITION_FAILED:Bt,PRECONDITION_REQUIRED:Qt,PROCESSING:$t,PROXY_AUTHENTICATION_REQUIRED:qt,REQUESTED_RANGE_NOT_SATISFIABLE:zt,REQUEST_HEADER_FIELDS_TOO_LARGE:Wt,REQUEST_TIMEOUT:Jt,REQUEST_TOO_LONG:Kt,REQUEST_URI_TOO_LONG:Xt,RESET_CONTENT:Zt,get ReasonPhrases(){return be},SEE_OTHER:eo,SERVICE_UNAVAILABLE:to,SWITCHING_PROTOCOLS:oo,get StatusCodes(){return ce},TEMPORARY_REDIRECT:no,TOO_MANY_REQUESTS:io,UNAUTHORIZED:lo,UNPROCESSABLE_ENTITY:ao,UNSUPPORTED_MEDIA_TYPE:ro,USE_PROXY:uo,default:Zo,getReasonPhrase:so,getStatusCode:co,getStatusText:Eo},Symbol.toStringTag,{value:"Module"})),tn=(e,t)=>(t.type===A.FieldType.Date||t.type===A.FieldType.DateTime||t.type===A.FieldType.Email||t.type===A.FieldType.Decimal||t.type===A.FieldType.Integer?nn(e,t):t.type===A.FieldType.ShortAnswer||t.type===A.FieldType.Paragraph||t.type===A.FieldType.RichText||t.type===A.FieldType.AttachmentField?ln(e,t):(t.type===A.FieldType.DropDown||t.type===A.FieldType.DataList||t.type===A.FieldType.Checkboxes||t.type===A.FieldType.RadioButtons)&&an(e,t),!0),on=(e,t)=>{t.fields.forEach(o=>{const l=e.fieldData.find(a=>a.fieldId===o.id);tn(l,o)});let n=!0;return e.fieldData.forEach(o=>{o.isValid||(n=!1)}),n},nn=(e,t)=>{var n;e.isValid=!0;const o=(n=e.monolingualTextValues)==null?void 0:n.filter(l=>l.value.length>0).map(l=>l.value);return t.isRequired&&(o==null?void 0:o.length)===0&&(e.isValid=!1,e.validationError="This is a required field"),o==null||o.forEach(l=>{if(t.type===A.FieldType.Email){const a=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/i;if(console.log("email",a.test(l)),!a.test(l))return e.isValid=!1,e.validationError="Please enter a valied email address",!1}}),!0},ln=(e,t)=>{var n;return t.isRequired?(e.isValid=!1,(n=e==null?void 0:e.multilingualTextValues)==null||n.forEach(o=>{var l;(l=o.values)==null||l.forEach(a=>{var r;if(((r=a.value)==null?void 0:r.trim().length)>0)return e.isValid=!0,!0})}),e.isValid?!0:(e.validationError="This is a required field",!1)):(e.isValid=!0,!0)},an=(e,t)=>{var n;return e.isValid=!0,t.isRequired&&!(e.selectedOptionIds&&e.selectedOptionIds.length>0||e.customOptionValues&&e.customOptionValues.length>0)?(e.isValid=!1,e.validationError="This option field is a required field",!1):((n=e.selectedOptionIds)==null||n.forEach(o=>{var l;(l=t.options)==null||l.forEach(a=>{if(a.id===o&&a.isExtendedInput&&a.isExtendedInputRequired&&!(e.extendedOptionValues.length>0))return e.isValid=!1,e.validationError="Extended Option needs to add a value",!1})}),!0)};var W={},Xe={},le={},Fe=b&&b.__awaiter||function(e,t,n,o){function l(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function i(u){try{c(o.next(u))}catch(O){r(O)}}function d(u){try{c(o.throw(u))}catch(O){r(O)}}function c(u){u.done?a(u.value):l(u.value).then(i,d)}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(le,"__esModule",{value:!0});le.WebClient=void 0;class rn{constructor(t,n){this.get=o=>this.invoke(o,"GET"),this.postJson=(o,l)=>this.sendJson(o,"POST",l),this.putJson=(o,l)=>this.sendJson(o,"PUT",l),this.patchJson=(o,l)=>this.sendJson(o,"PATCH",l),this.delete=o=>this.invoke(o,"DELETE"),this.getFile=(o,l)=>Fe(this,void 0,void 0,function*(){var a=yield fetch(o,{method:"GET",headers:{Authorization:this._jwtToken?`bearer ${this._jwtToken}`:"","Tenant-Id":this._tenantId?this._tenantId.toString():""}});if(!a.ok)throw new Error(`Code ${a.status} returned by ${o}`);const r=yield a.blob(),i=document.createElement("a");i.href=URL.createObjectURL(r),i.setAttribute("download",l),i.click()}),this._jwtToken=t,this._tenantId=n}setSecurityToken(t){this._jwtToken=t}invoke(t,n){return Fe(this,void 0,void 0,function*(){var o=yield fetch(t,{method:n,headers:{Authorization:this._jwtToken?`bearer ${this._jwtToken}`:"","Tenant-Id":this._tenantId?this._tenantId.toString():""}});if(!o.ok)throw new Error(`Code ${o.status} returned by ${t}`);return o})}sendJson(t,n,o){return Fe(this,void 0,void 0,function*(){var l=yield fetch(t,{body:JSON.stringify(o),method:n,headers:{encType:"multipart/form-data","Content-Type":"application/json",Authorization:this._jwtToken?`bearer ${this._jwtToken}`:"","Tenant-Id":this._tenantId?this._tenantId.toString():""}});if(!l.ok)throw new Error(`Code ${l.status} returned by ${t}`);return l})}}le.WebClient=rn;var J={};const ke=$o(en);var re=b&&b.__awaiter||function(e,t,n,o){function l(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function i(u){try{c(o.next(u))}catch(O){r(O)}}function d(u){try{c(o.throw(u))}catch(O){r(O)}}function c(u){u.done?a(u.value):l(u.value).then(i,d)}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(J,"__esModule",{value:!0});J.CrudProxy=void 0;const de=ee,dn=le,ze=ke;class un extends dn.WebClient{constructor(t,n){super(n),this._apiRoot=t}List(){return re(this,void 0,void 0,function*(){var t=yield this.get(this._apiRoot);if(t.status!=ze.StatusCodes.OK)throw new Error("Error");var n=yield t.json();return n})}Get(t){return re(this,void 0,void 0,function*(){var n=yield this.get(`${this._apiRoot}/${t}`);if(n.status!=ze.StatusCodes.OK)throw new Error("Error");var o=yield n.json();return o})}Post(t){return re(this,void 0,void 0,function*(){let n=!1;try{(!t.id||t.id==de.Guid.parse(de.Guid.EMPTY))&&(t.id=de.Guid.create().toString(),n=!0);var o=yield this.postJson(`${this._apiRoot}`,t);return!0}catch(l){return n&&(t.id=de.Guid.parse(de.Guid.EMPTY)),console.error(l),!1}})}Put(t){return re(this,void 0,void 0,function*(){return yield this.putJson(`${this._apiRoot}/${t.id}`,t),!0})}Delete(t){return re(this,void 0,void 0,function*(){var n=yield this.delete(`${this._apiRoot}/${t}`);return n.ok})}}J.CrudProxy=un;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.FormTemplateProxy=void 0;const sn=J;class cn extends sn.CrudProxy{constructor(t,n){super(`${t}/api/forms`,n)}}Ie.FormTemplateProxy=cn;var Re={};Object.defineProperty(Re,"__esModule",{value:!0});Re.FormDataProxy=void 0;const En=J;class pn extends En.CrudProxy{constructor(t){super(`${t}/api/form-submissions`)}}Re.FormDataProxy=pn;var De={};Object.defineProperty(De,"__esModule",{value:!0});De.ItemProxy=void 0;const Tn=J;class mn extends Tn.CrudProxy{constructor(t,n){super(`${t}/api/items`,n)}}De.ItemProxy=mn;var ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.CollectionProxy=void 0;const On=J;class fn extends On.CrudProxy{constructor(t,n){super(`${t}/api/collections`,n)}}ye.CollectionProxy=fn;var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.WorkflowProxy=void 0;const _n=J;class vn extends _n.CrudProxy{constructor(t,n){super(`${t}/api/workflow`,n)}}Ne.WorkflowProxy=vn;var he={},X=b&&b.__awaiter||function(e,t,n,o){function l(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function i(u){try{c(o.next(u))}catch(O){r(O)}}function d(u){try{c(o.throw(u))}catch(O){r(O)}}function c(u){u.done?a(u.value):l(u.value).then(i,d)}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(he,"__esModule",{value:!0});he.SolrProxy=void 0;const In=le,Se=ke;class Rn extends In.WebClient{constructor(t,n,o){super(o,n),this._apiRoot=t}getDocument(t){return X(this,void 0,void 0,function*(){var n=yield this.get(`${this._apiRoot}/api/SolrSearch/get-document/${t}`);if(n.status!=Se.StatusCodes.OK)throw new Error("Error");var o=yield n.json();return o})}updateDocument(t){return X(this,void 0,void 0,function*(){var n=yield this.putJson(`${this._apiRoot}/api/solr/update-document`,t);if(n.status!=Se.StatusCodes.OK)throw new Error("Error")})}updateSolrDocJson(t){return X(this,void 0,void 0,function*(){var n=yield this.putJson(`${this._apiRoot}/api/solr/update-solr-doc-json`,t);if(n.status!=Se.StatusCodes.OK)throw new Error("Error");return n.status})}getJobs(t,n,o=2,l=!1,a=""){return X(this,void 0,void 0,function*(){var r=yield this.get(`${this._apiRoot}/api/background-job?offset=${t}&max=${n}&operation=${o}&incompleteOnlly=${l}&searchTerm=${a}`),i=yield r.json();return i})}deleteJob(t){return X(this,void 0,void 0,function*(){yield this.delete(`${this._apiRoot}/api/background-job/remove-job?jobId=${t}`)})}downloadDataFile(t){return X(this,void 0,void 0,function*(){yield this.getFile(`${this._apiRoot}/api/background-job/get-file?fileName=${t}`,t)})}search(t){return X(this,void 0,void 0,function*(){var n=yield this.postJson(`${this._apiRoot}/api/SolrSearch/execute-search`,t),o=yield n.json();return o})}scheduleSearchJob(t){return X(this,void 0,void 0,function*(){var n=yield this.postJson(`${this._apiRoot}/api/SolrSearch/submit-search-job`,t),o=yield n.text();return o})}}he.SolrProxy=Rn;var ue={},Ze;function Dn(){if(Ze)return ue;Ze=1;var e=b&&b.__awaiter||function(l,a,r,i){function d(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function O(v){try{T(i.next(v))}catch(N){u(N)}}function s(v){try{T(i.throw(v))}catch(N){u(N)}}function T(v){v.done?c(v.value):d(v.value).then(O,s)}T((i=i.apply(l,a||[])).next())})};Object.defineProperty(ue,"__esModule",{value:!0}),ue.AuthProxy=void 0;const t=po(),n=ke;class o extends t.WebClient{constructor(a,r,i){super(i,r),this._apiRoot=a}getApiToken(a,r,i=null,d=null,c=1){return e(this,void 0,void 0,function*(){i||(i=new Date,i.setDate(i.getDate()-1)),d||(d=new Date,d.setDate(d.getDate()+1));const u=`${this._apiRoot}/api/api-keys/get-new?nbf=${i.toISOString()}&exp=${d.toISOString()}&tenantId=${r}&appId=${a}&permitCount=${c}`;return(yield this.get(u)).text()})}getGoogleIdentityJwtToken(a){return e(this,void 0,void 0,function*(){const r=`${this._apiRoot}/api/GoogleIdentity`;var i=yield this.postJson(r,a);if(i.status!=n.StatusCodes.OK)throw console.error("User authorization failed"),new Error("Error");var d=yield i.text();return d})}authorizeGoogleUser(a,r){return e(this,void 0,void 0,function*(){const i=`${this._apiRoot}/api/GoogleIdentity/authorize-user?tenantId=${a}`;var d=yield this.postJson(i,r);if(d.status!=n.StatusCodes.OK)throw console.error("User authorization failed"),new Error("Error");var c=yield d.text();return c})}}return ue.AuthProxy=o,ue}var et;function po(){return et||(et=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AuthProxy=e.SolrProxy=e.WorkflowProxy=e.CollectionProxy=e.ItemProxy=e.FormDataProxy=e.FormTemplateProxy=e.CrudProxy=e.WebClient=void 0;var t=le;Object.defineProperty(e,"WebClient",{enumerable:!0,get:function(){return t.WebClient}});var n=J;Object.defineProperty(e,"CrudProxy",{enumerable:!0,get:function(){return n.CrudProxy}});var o=Ie;Object.defineProperty(e,"FormTemplateProxy",{enumerable:!0,get:function(){return o.FormTemplateProxy}});var l=Re;Object.defineProperty(e,"FormDataProxy",{enumerable:!0,get:function(){return l.FormDataProxy}});var a=De;Object.defineProperty(e,"ItemProxy",{enumerable:!0,get:function(){return a.ItemProxy}});var r=ye;Object.defineProperty(e,"CollectionProxy",{enumerable:!0,get:function(){return r.CollectionProxy}});var i=Ne;Object.defineProperty(e,"WorkflowProxy",{enumerable:!0,get:function(){return i.WorkflowProxy}});var d=he;Object.defineProperty(e,"SolrProxy",{enumerable:!0,get:function(){return d.SolrProxy}});var c=Dn();Object.defineProperty(e,"AuthProxy",{enumerable:!0,get:function(){return c.AuthProxy}})}(Xe)),Xe}var ne={},yn=b&&b.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(t,n);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,l)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),Nn=b&&b.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),To=b&&b.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&yn(t,e,n);return Nn(t,e),t};Object.defineProperty(ne,"__esModule",{value:!0});ne.models=ne.helpers=void 0;const hn=To(ve());ne.helpers=hn;const gn=To(A);ne.models=gn;var ie={},mo={};Object.defineProperty(mo,"__esModule",{value:!0});var An=b&&b.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(t,n);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,l)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),Pn=b&&b.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Oo=b&&b.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&An(t,e,n);return Pn(t,e),t};Object.defineProperty(ie,"__esModule",{value:!0});ie.models=ie.helpers=void 0;const Fn=Oo(Oe);ie.helpers=Fn;const Sn=Oo(mo);ie.models=Sn;var fo={},ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.formatBytes=void 0;const Un=(e,t=2)=>{if(!+e)return"0 Bytes";const n=1024,o=t<0?0:t,l=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(e)/Math.log(n)),l.length-1);return`${parseFloat((e/Math.pow(n,a)).toFixed(o)).toLocaleString()} ${l[a]}`};ge.formatBytes=Un;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatBytes=void 0;var t=ge;Object.defineProperty(e,"formatBytes",{enumerable:!0,get:function(){return t.formatBytes}})})(fo);var xn=b&&b.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(t,n);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,l)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),bn=b&&b.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ae=b&&b.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&xn(t,e,n);return bn(t,e),t};Object.defineProperty(W,"__esModule",{value:!0});W.utils=W.solr=W.forms=_o=W.api=void 0;const Mn=Ae(po());var _o=W.api=Mn;const Cn=Ae(ne);W.forms=Cn;const Ln=Ae(ie);W.solr=Ln;const Vn=Ae(fo);W.utils=Vn;const Q=Qo("FormSubmissionStore",{state:()=>({lang:"en",form:null,formData:{},files:[],fileKeys:[],apiRoot:null,securityToken:null}),actions:{setForm(e){this.form=e,this.formData||(console.log("new form created"),this.formData=k.createFormData(this.form,this.lang))},loadSubmission(e){let t=`${this.apiRoot}/api/form-submissions/${e}`;console.log(t),fetch(t,{method:"GET"}).then(n=>n.json()).then(n=>{this.formData=n}).catch(n=>{console.error("Load Form API Error:",n)})},validateFormData(){return on(this.formData,this.form)},async indexFormDataInSolr(e){var t,n;const o=`${this.apiRoot}/api/solr/create`;if(((n=(t=this.formData)==null?void 0:t.id)==null?void 0:n.toString())===oe.EMPTY&&(this.formData.id=oe.create().toString()),!this.validateFormData())return ce.PRECONDITION_FAILED;const l=Oe.toSolrDocJson(this.formData,"data",this.form);l.tenantId=e;var a=await fetch(o,{body:JSON.stringify(l),method:"POST",headers:{"Tenant-Id":`${e}`,"Content-Type":"application/json",encType:"multipart/form-data",Authorization:`Bearer ${this.securityToken}`}});return a.status},async updateForm(e){if(!this.validateFormData())return ce.PRECONDITION_FAILED;const t=Oe.toSolrDocJson(this.formData,"data",this.form);return await new _o.SolrProxy(this.apiRoot,e,this.securityToken).updateSolrDocJson(t)},saveForm(){var e,t;if(!this.form){console.error("Cannot save null form.");return}const n=((t=(e=this.form)==null?void 0:e.id)==null?void 0:t.toString())===oe.EMPTY;let o=`${this.apiRoot}/api/forms`,l="";n?(this.form.id=oe.create().toString(),l="POST",this.form.status=dt.Draft):(console.log("Updating existing form."),o=`${o}/${this.form.id}`,l="PUT"),fetch(o,{body:JSON.stringify(this.form),method:l,headers:{encType:"multipart/form-data","Content-Type":"application/json"}}).then(a=>{a.ok?console.log("sucess"):console.log("error")}).catch(a=>{console.error("Form Save API Error:",a)})},clearMessages(){},addFile(e,t){var n,o;(n=this.files)==null||n.push(e),(o=this.fileKeys)==null||o.push(t.toString())},putFile(e,t){Array.from(e).forEach(n=>{console.log("fieldId:"+t),this.addFile(n,t)})}}}),kn={key:0},wn={key:1},Gn={key:2},jn={key:3},Hn={key:4},Yn={key:5},Bn={key:6},Qn={key:7},vo=L({__name:"Text",props:{model:{},textType:{},decimalPoints:{}},setup(e){const t=e,n=t.decimalPoints?t.decimalPoints:2;return(o,l)=>{const a=G("b-form-input"),r=G("b-form-textarea");return E(),m(M,null,[o.textType===I(A.FieldType).ShortAnswer?(E(),m("div",kn,[U(a,{modelValue:o.model.value,"onUpdate:modelValue":l[0]||(l[0]=i=>o.model.value=i)},null,8,["modelValue"])])):o.textType===I(A.FieldType).Paragraph?(E(),m("div",wn,[U(r,{modelValue:o.model.value,"onUpdate:modelValue":l[1]||(l[1]=i=>o.model.value=i),rows:"3","max-rows":"6"},null,8,["modelValue"])])):o.textType===I(A.FieldType).RichText?(E(),m("div",Gn,[U(r,{modelValue:o.model.value,"onUpdate:modelValue":l[2]||(l[2]=i=>o.model.value=i),rows:"3","max-rows":"6"},null,8,["modelValue"])])):F("",!0),o.textType===I(A.FieldType).Email?(E(),m("div",jn,[U(a,{modelValue:o.model.value,"onUpdate:modelValue":l[3]||(l[3]=i=>o.model.value=i),type:"email"},null,8,["modelValue"])])):F("",!0),o.textType===I(A.FieldType).Integer?(E(),m("div",Hn,[U(a,{type:"number",step:"1",modelValue:o.model.value,"onUpdate:modelValue":l[4]||(l[4]=i=>o.model.value=i)},null,8,["modelValue"])])):F("",!0),o.textType===I(A.FieldType).Decimal?(E(),m("div",Yn,[U(a,{type:"number",step:Math.pow(10,-I(n)),modelValue:o.model.value,"onUpdate:modelValue":l[5]||(l[5]=i=>o.model.value=i)},null,8,["step","modelValue"])])):F("",!0),o.textType===I(A.FieldType).Date?(E(),m("div",Bn,[U(a,{modelValue:o.model.value,"onUpdate:modelValue":l[6]||(l[6]=i=>o.model.value=i),type:"date"},null,8,["modelValue"])])):F("",!0),o.textType===I(A.FieldType).DateTime?(E(),m("div",Qn,[U(a,{type:"datetime-local",modelValue:o.model.value,"onUpdate:modelValue":l[7]||(l[7]=i=>o.model.value=i)},null,8,["modelValue"])])):F("",!0)],64)}}}),$n=["model"],qn={class:"col col-sm-11"},Wn={key:0,class:"col-sm-1"},Jn={key:0,class:"col-sm-1"},Kn=L({__name:"MonolingualTextInput",props:{model:{},modelData:{}},setup(e){const t=e,n=Q(),o=V(()=>{var r;return t.modelData?t.modelData:(r=n.formData.fieldData)==null?void 0:r.find(i=>i.fieldId==t.model.id)}),l=()=>{var r;return(r=o.value.monolingualTextValues)==null?void 0:r.push(k.createText(null))},a=r=>{var i;(i=o.value.monolingualTextValues)==null||i.splice(r,1)};return(r,i)=>{const d=G("font-awesome-icon");return E(),m(M,null,[(E(!0),m(M,null,j(o.value.monolingualTextValues,(c,u)=>{var O;return E(),m("div",{key:c.id,model:c,class:"row mb-3"},[h("div",qn,[U(vo,{model:c,"text-type":r.model.type},null,8,["model","text-type"])]),((O=o.value.monolingualTextValues)==null?void 0:O.length)>1?(E(),m("div",Wn,[U(d,{icon:"fa-solid fa-circle-xmark",onClick:s=>a(u),class:"fa-icon delete"},null,8,["onClick"])])):F("",!0)],8,$n)}),128)),r.model.isMultiValued?(E(),m("div",Jn,[U(d,{icon:"fa-solid fa-circle-plus",onClick:i[0]||(i[0]=c=>l()),class:"fa-icon plus add-option"})])):F("",!0)],64)}}}),Xn=L({__name:"TextCollection",props:{model:{},textType:{}},setup(e){return(t,n)=>(E(!0),m(M,null,j(t.model.values,o=>(E(),w(vo,{key:o.id,model:o,"text-type":t.textType},null,8,["model","text-type"]))),128))}}),zn=["model"],Zn={class:"col col-sm-11"},ei={class:"col col-sm-1"},ti={key:0},oi={key:0},ni=L({__name:"MultilingualTextInput",props:{model:{},modelData:{}},setup(e){const t=e,n=Q(),o=V(()=>{var r;return t.modelData?t.modelData:(r=n.formData.fieldData)==null?void 0:r.find(i=>i.fieldId==t.model.id)}),l=()=>{var r;return(r=o.value.multilingualTextValues)==null?void 0:r.push(k.createTextCollection(n.lang))},a=r=>{var i;console.log(r),(i=o.value.multilingualTextValues)==null||i.splice(r,1)};return(r,i)=>{var d;const c=G("font-awesome-icon");return E(),m(M,null,[(E(!0),m(M,null,j((d=o.value)==null?void 0:d.multilingualTextValues,(u,O)=>(E(),m("div",{key:u.id,model:u,class:"row mb-3"},[h("div",Zn,[U(Xn,{model:u,"text-type":r.model.type},null,8,["model","text-type"])]),h("div",ei,[o.value.multilingualTextValues.length>1?(E(),m("div",ti,[U(c,{icon:"fa-solid fa-circle-xmark",onClick:s=>a(O),class:"fa-icon delete"},null,8,["onClick"])])):F("",!0)])],8,zn))),128)),r.model.isMultiValued?(E(),m("div",oi,[U(c,{icon:"fa-solid fa-circle-plus",onClick:i[0]||(i[0]=u=>l()),class:"fa-icon plus add-option"})])):F("",!0)],64)}}}),ii={key:0},li=["onUpdate:modelValue"],Io=L({__name:"ExtendedOptions",props:{modelData:{},optionId:{}},setup(e){const t=e,n=a=>{var r,i;console.log(a),(i=(r=t.modelData)==null?void 0:r.extendedOptionValues.find(d=>d.optionId==t.optionId))==null||i.values.splice(a,1)},o=()=>{var a,r;(r=(a=t.modelData)==null?void 0:a.extendedOptionValues.find(i=>i.optionId==t.optionId))==null||r.values.push("")},l=V(()=>{var a,r;return(r=(a=t.modelData)==null?void 0:a.extendedOptionValues.find(i=>i.optionId==t.optionId))==null?void 0:r.values});return(a,r)=>{const i=G("font-awesome-icon");return a.modelData&&a.modelData.extendedOptionValues?(E(),m("div",ii,[h("div",null,[(E(!0),m(M,null,j(l.value,(d,c)=>(E(),m("div",{class:"ext-option",key:c},[_e(h("input",{class:"ext-option-text",type:"text","onUpdate:modelValue":u=>l.value[c]=u},null,8,li),[[it,l.value[c]]]),U(i,{icon:"fa-solid fa-circle-xmark",onClick:u=>n(c),class:"fa-icon delete ext-op-delete"},null,8,["onClick"])]))),128)),a.modelData&&a.modelData.extendedOptionValues.length>0?(E(),m("button",{key:0,class:"ext-option-button",onClick:r[0]||(r[0]=d=>o())},"Add Option")):F("",!0)])])):F("",!0)}}}),ai=["checked","onChange"],ri={key:0},di=L({__name:"Checkboxes",props:{model:{},modelData:{}},setup(e){const t=e,n=Q(),o=V(()=>{var r;return t.modelData?t.modelData:(r=n.formData.fieldData)==null?void 0:r.find(i=>i.fieldId==t.model.id)}),l=r=>{var i;return(i=o.value.selectedOptionIds)==null?void 0:i.includes(r)},a=(r,i)=>{var d,c,u,O,s,T,v;if(i){if((d=o.value.selectedOptionIds)==null||d.push(r),(u=(c=t.model.options)==null?void 0:c.find(N=>N.id==r))!=null&&u.isExtendedInput){o.value.extendedOptionValues=[];const N={optionId:r,values:[]},S="";N.values.push(S),o.value.extendedOptionValues.push(N)}}else(s=o.value.selectedOptionIds)==null||s.splice((O=o.value.selectedOptionIds)==null?void 0:O.indexOf(r),1),(v=(T=t.model.options)==null?void 0:T.find(N=>N.id==r))!=null&&v.isExtendedInput&&(o.value.extendedOptionValues=[])};return(r,i)=>(E(!0),m(M,null,j(r.model.options,d=>(E(),m("div",{key:d.id,class:"option-field"},[h("input",{type:"checkbox",checked:l(d.id),onChange:c=>a(d.id,c.target.checked)},null,40,ai),$(" "+B(k.getOptionText(d,I(n).lang))+" ",1),d.isExtendedInput?(E(),m("span",ri,[U(Io,{modelData:r.modelData,optionId:d.id},null,8,["modelData","optionId"])])):F("",!0)]))),128))}}),ui={key:0},si=["onUpdate:modelValue"],ci={class:"col-sm-2"},Ei=L({__name:"CustomOptions",props:{model:{},modelData:{}},setup(e){const t=e,n=Q(),o=V(()=>{var r;return t.modelData?t.modelData:(r=n.formData.fieldData)==null?void 0:r.find(i=>i.fieldId==t.model.id)}),l=r=>{var i;console.log(r),(i=o.value.customOptionValues)==null||i.splice(r,1)},a=()=>{o.value.customOptionValues||(o.value.customOptionValues=[]),o.value.customOptionValues.push("")};return(r,i)=>{const d=G("font-awesome-icon");return o.value&&o.value.customOptionValues?(E(),m("div",ui,[h("div",null,[(E(!0),m(M,null,j(o.value.customOptionValues,(c,u)=>(E(),m("span",{class:"custom-option",key:u},[_e(h("input",{type:"text","onUpdate:modelValue":O=>o.value.customOptionValues[u]=O},null,8,si),[[it,o.value.customOptionValues[u]]]),U(d,{icon:"fa-solid fa-circle-xmark",onClick:O=>l(u),class:"fa-icon delete"},null,8,["onClick"])]))),128))]),h("div",ci,[U(d,{icon:"fa-solid fa-circle-plus",onClick:i[0]||(i[0]=c=>a()),class:"fa-icon plus add-option"})])])):F("",!0)}}}),pi={class:"col-sm-8"},Ti={id:"dataOptions"},mi={class:"col-sm-2"},Oi=L({__name:"DataList",props:{model:{},modelData:{}},setup(e){const t=e,n=Q(),o=V(()=>{var i;return t.modelData?t.modelData:(i=n.formData.fieldData)==null?void 0:i.find(d=>d.fieldId==t.model.id)}),l=i=>{var d,c;const u=(c=(d=t.model)==null?void 0:d.options)==null?void 0:c.filter(O=>O.id===i).at(0);return u?k.getOptionText(u,n.lang):""},a=i=>{var d,c;const u=(c=(d=t.model)==null?void 0:d.options)==null?void 0:c.filter(O=>k.getOptionText(O,n.lang)===i).at(0);return u==null?void 0:u.id},r=V({get:()=>{var i,d;return l((d=(i=o==null?void 0:o.value)==null?void 0:i.selectedOptionIds)==null?void 0:d.at(0))},set:i=>{const d=a(i);d?o.value.selectedOptionIds=[d]:o.value.selectedOptionIds=[]}});return(i,d)=>{const c=G("b-form-input");return E(),m(M,null,[h("div",pi,[U(c,{list:"dataOptions",id:"model.id",name:"model.id",modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=u=>r.value=u)},null,8,["modelValue"]),h("datalist",Ti,[(E(!0),m(M,null,j(i.model.options,u=>(E(),m("option",{key:u.id},B(k.getOptionText(u,I(n).lang)),1))),128))])]),h("div",mi,[U(Ei,{model:i.model},null,8,["model"])])],64)}}}),fi={class:"col-sm-3"},_i=["value"],vi=L({__name:"DropDown",props:{model:{},modelData:{}},setup(e){const t=e,n=Q(),o=V(()=>{var a;return t.modelData?t.modelData:(a=n.formData.fieldData)==null?void 0:a.find(r=>r.fieldId==t.model.id)}),l=V({get:()=>{var a;return(a=o==null?void 0:o.value)!=null&&a.selectedOptionIds&&o.value.selectedOptionIds.length>0?o.value.selectedOptionIds[0]:oe.EMPTY},set:a=>o.value.selectedOptionIds=[a]});return(a,r)=>(E(),m("div",fi,[_e(h("select",{"onUpdate:modelValue":r[0]||(r[0]=i=>l.value=i),class:"form-select"},[(E(!0),m(M,null,j(a.model.options,i=>(E(),m("option",{key:i.id,value:i.id},B(k.getOptionText(i,I(n).lang)),9,_i))),128))],512),[[Co,l.value]])]))}}),Ii=["name","value"],Ri=L({__name:"RadioButtons",props:{model:{},modelData:{}},setup(e){const t=e,n=Q(),o=V(()=>{var a;return t.modelData?t.modelData:(a=n.formData.fieldData)==null?void 0:a.find(r=>r.fieldId==t.model.id)}),l=V({get:()=>{var a;return(a=o==null?void 0:o.value)!=null&&a.selectedOptionIds&&o.value.selectedOptionIds.length>0?o.value.selectedOptionIds[0]:oe.EMPTY},set:a=>o.value.selectedOptionIds=[a]});return(a,r)=>(E(!0),m(M,null,j(a.model.options,i=>(E(),m("div",{key:i.id,class:"option-field"},[_e(h("input",{type:"radio",name:a.model.id.toString(),value:i.id,"onUpdate:modelValue":r[0]||(r[0]=d=>l.value=d)},null,8,Ii),[[Lo,l.value]]),$(" "+B(k.getOptionText(i,I(n).lang)),1)]))),128))}}),Di=h("br",null,null,-1),yi=["innerHTML"],Ni=L({__name:"InfoSection",props:{model:{}},setup(e){const t=e,n=Q(),o=k.getFieldDescription(t.model,n.lang);return(l,a)=>(E(),m("div",null,[Di,h("div",{innerHTML:I(o),class:"info-field-description"},null,8,yi)]))}}),we=e=>(Me("data-v-568e0afa"),e=e(),Ce(),e),hi={key:0,class:"row"},gi=we(()=>h("div",{class:"col-sm-2"},[h("h6",null,"File:")],-1)),Ai={class:"col-sm-10"},Pi=["onDragenter","onDragleave","onDrop"],Fi=we(()=>h("div",null,"Drag or Drop File",-1)),Si=we(()=>h("div",null,"OR",-1)),Ui=["for"],xi=["id"],bi=L({__name:"AttachmentField",props:{model:{},elementId:{}},setup(e){const t=e,n=t.model.type===A.FieldType.AttachmentField,o=t.elementId,l=ot(!1),a=()=>{l.value=!l.value};return(r,i)=>I(n)?(E(),m("div",hi,[gi,h("div",Ai,[h("div",{class:Vo(["dropzone",{"active-dropzone":l.value}]),onDragenter:Te(a,["prevent"]),onDragleave:Te(a,["prevent"]),onDragover:i[0]||(i[0]=Te(()=>{},["prevent"])),onDrop:Te(a,["prevent"])},[Fi,Si,h("label",{for:I(o)},"Select File ",8,Ui),h("input",{type:"file",id:I(o)},null,8,xi)],42,Pi)])])):F("",!0)}}),Pe=(e,t)=>{const n=e.__vccOpts||e;for(const[o,l]of t)n[o]=l;return n},Mi=Pe(bi,[["__scopeId","data-v-568e0afa"]]),Ro=e=>(Me("data-v-e411eb54"),e=e(),Ce(),e),Ci={class:"composite-field-heading"},Li={key:0,class:"required"},Vi=["data-hover"],ki={class:"lightGrayBorder compositeField"},wi={class:"delete-button"},Gi=Ro(()=>h("br",null,null,-1)),ji=Ro(()=>h("br",null,null,-1)),Hi=L({__name:"CompositeField",props:{model:{},modelData:{},lang:{},title:{},description:{}},setup(e){const t=e,n=V(()=>{var a;return(a=t.modelData)==null?void 0:a.compositeFieldDataValues}),o=()=>{var a;console.log("clicked add button");const r=Ee.createCompositeFieldData(t.model,t.lang);(a=n.value)==null||a.push(r),console.log("compositeModelData",JSON.stringify(n.value))},l=a=>{var r;(r=t.modelData.compositeFieldDataValues)==null||r.splice(a,1)};return(a,r)=>{var i;const d=G("font-awesome-icon");return E(),m(M,null,[h("div",Ci,B(a.title),1),$(),a.model.isRequired?(E(),m("span",Li,"*")):F("",!0),$(),a.description?(E(),m("span",{key:1,class:"hovertext","data-hover":a.description},null,8,Vi)):F("",!0),h("div",null,[(E(!0),m(M,null,j((i=a.modelData)==null?void 0:i.compositeFieldDataValues,(c,u)=>(E(),m("div",{key:u},[h("div",ki,[h("div",wi,[U(d,{icon:"fa-solid fa-circle-xmark",onClick:O=>l(u),class:"fa-icon field-delete"},null,8,["onClick"])]),Gi,ji,(E(!0),m(M,null,j(a.model.fields,(O,s)=>(E(),m("div",{key:O.id},[U(Do,{model:O,modelData:c.fieldData[s]},null,8,["model","modelData"])]))),128))])]))),128)),h("button",{class:"add-button",onClick:r[0]||(r[0]=c=>o())},"Add Another Project")])],64)}}}),Yi=Pe(Hi,[["__scopeId","data-v-e411eb54"]]),Bi={key:0,class:"required"},Qi=["data-hover"],$i=["data-bs-target","aria-controls"],qi=["id"],Wi={class:"card card-body"},Ji={class:"row"},Ki=["checked","onChange"],Xi={key:0},zi=L({__name:"CheckboxGrid",props:{model:{},modelData:{},title:{},description:{}},setup(e){const t=e,n=t.model.id,o=Q(),l=V(()=>{var i;return t.modelData?t.modelData:(i=o.formData.fieldData)==null?void 0:i.find(d=>d.fieldId==t.model.id)}),a=i=>{var d;return(d=l.value.selectedOptionIds)==null?void 0:d.includes(i)},r=(i,d)=>{var c,u,O,s,T,v,N;if(d){if((c=l.value.selectedOptionIds)==null||c.push(i),(O=(u=t.model.options)==null?void 0:u.find(S=>S.id==i))!=null&&O.isExtendedInput){l.value.extendedOptionValues=[];const S={optionId:i,values:[]},_="";S.values.push(_),l.value.extendedOptionValues.push(S)}}else(T=l.value.selectedOptionIds)==null||T.splice((s=l.value.selectedOptionIds)==null?void 0:s.indexOf(i),1),(N=(v=t.model.options)==null?void 0:v.find(S=>S.id==i))!=null&&N.isExtendedInput&&(l.value.extendedOptionValues=[])};return(i,d)=>{const c=G("font-awesome-icon");return E(),m(M,null,[h("p",null,[$(B(i.title)+" ",1),i.model.isRequired?(E(),m("span",Bi,"*")):F("",!0),$(),i.description?(E(),m("span",{key:1,class:"hovertext","data-hover":i.description},[U(c,{icon:"fas fa-question-circle",class:"fas fa-question-circle"})],8,Qi)):F("",!0),$(" : "),h("button",{class:"collapse-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse_"+I(n),"aria-expanded":"false","aria-controls":"collapse_"+I(n)}," Select Values ",8,$i)]),h("div",{class:"collapse",id:"collapse_"+I(n)},[h("div",Wi,[h("div",Ji,[(E(!0),m(M,null,j(i.model.options,u=>(E(),m("div",{key:u.id,class:"col-sm-4 option-field"},[h("input",{type:"checkbox",checked:a(u.id),onChange:O=>r(u.id,O.target.checked)},null,40,Ki),$(" "+B(k.getOptionText(u,I(o).lang))+" ",1),u.isExtendedInput?(E(),m("span",Xi,[U(Io,{modelData:i.modelData,optionId:u.id},null,8,["modelData","optionId"])])):F("",!0)]))),128))])])],8,qi)],64)}}}),Zi=e=>(Me("data-v-67d64855"),e=e(),Ce(),e),el={key:0,class:"info-field"},tl={class:"info-field-header"},ol={key:0},nl={key:1,class:"required"},il=["data-hover"],ll={key:3},al={key:0,class:"alert alert-danger"},rl={key:7},dl={key:2},ul=Zi(()=>h("br",null,null,-1)),sl=L({__name:"Field",props:{model:{},modelData:{}},setup(e){const t=e,n=Q(),o=k.getFieldTitle(t.model,n.lang),l=k.getFieldDescription(t.model,n.lang),a=k.isMultilingualTextInputField(t.model),r=k.isMonolingualTextInputField(t.model),i=t.model.type===A.FieldType.AttachmentField,d=t.model.type===A.FieldType.CompositeField,c=t.model.id.toString(),u=s=>{n.putFile(s.dataTransfer.files,t.model.id)},O=s=>{const T=document.getElementById(s);n.putFile(T==null?void 0:T.files,t.model.id)};return(s,T)=>{const v=G("font-awesome-icon"),N=G("b-col"),S=G("b-row"),_=G("b-container");return E(),w(_,null,{default:pe(()=>[U(S,null,{default:pe(()=>[s.model.type===I(A.FieldType).InfoSection?(E(),m("div",el,[h("h3",tl,B(I(o)),1),s.model.type===I(A.FieldType).InfoSection?(E(),w(Ni,{key:0,model:s.model},null,8,["model"])):F("",!0)])):s.model.type!==I(A.FieldType).CheckboxGrid?(E(),w(N,{key:1,class:"col-sm-4"},{default:pe(()=>[s.model.type!==I(A.FieldType).CompositeField?(E(),m("span",ol,B(I(o)),1)):F("",!0),s.model.isRequired?(E(),m("span",nl,"*")):F("",!0),$(),I(l)?(E(),m("span",{key:2,class:"hovertext","data-hover":I(l)},[U(v,{icon:"fas fa-question-circle",class:"fas fa-question-circle"})],8,il)):F("",!0),$(),s.model.type!==I(A.FieldType).CompositeField?(E(),m("span",ll,":")):F("",!0)]),_:1})):F("",!0),U(N,{class:"col-sm-8"},{default:pe(()=>{var f,p;return[!((f=s.modelData)!=null&&f.isValid)&&s.model.type!=I(A.FieldType).InfoSection?(E(),m("div",al,B((p=s.modelData)==null?void 0:p.validationError),1)):F("",!0),s.model.type===I(A.FieldType).Checkboxes?(E(),w(di,{key:1,model:s.model,modelData:s.modelData},null,8,["model","modelData"])):F("",!0),s.model.type===I(A.FieldType).DataList?(E(),w(Oi,{key:2,model:s.model,modelData:s.modelData},null,8,["model","modelData"])):F("",!0),s.model.type===I(A.FieldType).DropDown?(E(),w(vi,{key:3,model:s.model,modelData:s.modelData},null,8,["model","modelData"])):F("",!0),s.model.type===I(A.FieldType).RadioButtons?(E(),w(Ri,{key:4,model:s.model,modelData:s.modelData},null,8,["model","modelData"])):F("",!0),I(a)?(E(),w(ni,{key:5,model:s.model,modelData:s.modelData},null,8,["model","modelData"])):F("",!0),I(r)?(E(),w(Kn,{key:6,model:s.model,modelData:s.modelData},null,8,["model","modelData"])):F("",!0),I(i)?(E(),m("div",rl,[U(Mi,{model:s.model,elementId:I(c),onDrop:u,onChange:T[0]||(T[0]=y=>O(I(c)))},null,8,["model","elementId"])])):F("",!0)]}),_:1}),I(d)?(E(),m("div",dl,[U(Yi,{model:s.model,modelData:s.modelData,lang:null,title:I(o),description:I(l)},null,8,["model","modelData","title","description"])])):F("",!0),s.model.type===I(A.FieldType).CheckboxGrid?(E(),w(zi,{key:3,model:s.model,modelData:s.modelData,title:I(o),description:I(l)},null,8,["model","modelData","title","description"])):F("",!0)]),_:1}),ul]),_:1})}}}),Do=Pe(sl,[["__scopeId","data-v-67d64855"]]),cl=L({__name:"Form",props:{model:{},formData:{}},setup(e){const t=e;return(n,o)=>{var l;return E(!0),m(M,null,j((l=n.model)==null?void 0:l.fields,a=>(E(),w(Do,{key:a.id,model:a,modelData:I(Ee.getFieldDataFromFormData)(t.formData,a.id)},null,8,["model","modelData"]))),128)}}}),El={class:"control"},pl=["disabled"],Tl=["disabled"],ml=L({__name:"App",props:{apiRoot:{},dataStore:{},securityToken:{},formTemplateId:{},formTemplate:{},formData:{},isUpdate:{type:Boolean},piniaInstance:{},tanentId:{},msg:{}},emits:["arcFormSubmit"],setup(e,{emit:t}){const n=e,o=Q(n.piniaInstance);o.apiRoot=n.apiRoot,o.securityToken=n.securityToken,o.formData=n.formData,n.formTemplate&&o.setForm(n.formTemplate);const l=()=>{n.dataStore==="Solr"&&o.indexFormDataInSolr(n.tanentId).then(d=>{t("arcFormSubmit",d)})},a=()=>{n.dataStore==="Solr"&&o.updateForm(n.tanentId).then(d=>{t("arcFormSubmit",d)})},r=V(()=>o.formData),i=V(()=>!!o.form);return(d,c)=>(E(),m(M,null,[h("h1",null,B(d.msg),1),I(o).form?(E(),w(cl,{key:0,model:I(o).form,"form-data":r.value},null,8,["model","form-data"])):F("",!0),h("div",El,[d.isUpdate?F("",!0):(E(),m("button",{key:0,type:"button",class:"submit-button",disabled:!i.value,onClick:l},"Submit",8,pl)),d.isUpdate?(E(),m("button",{key:1,type:"button",class:"submit-button",disabled:!i.value,onClick:a},"Update",8,Tl)):F("",!0)])],64))}}),fl=Pe(ml,[["__scopeId","data-v-d69eb3e7"]]);var tt;(function(e){e[e.CONTINUE=100]="CONTINUE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.PROCESSING=102]="PROCESSING",e[e.EARLY_HINTS=103]="EARLY_HINTS",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.MULTI_STATUS=207]="MULTI_STATUS",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.MOVED_TEMPORARILY=302]="MOVED_TEMPORARILY",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.USE_PROXY=305]="USE_PROXY",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.REQUEST_TOO_LONG=413]="REQUEST_TOO_LONG",e[e.REQUEST_URI_TOO_LONG=414]="REQUEST_URI_TOO_LONG",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.IM_A_TEAPOT=418]="IM_A_TEAPOT",e[e.INSUFFICIENT_SPACE_ON_RESOURCE=419]="INSUFFICIENT_SPACE_ON_RESOURCE",e[e.METHOD_FAILURE=420]="METHOD_FAILURE",e[e.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",e[e.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",e[e.LOCKED=423]="LOCKED",e[e.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",e[e.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",e[e.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",e[e.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",e[e.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",e[e.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED"})(tt||(tt={}));export{fl as F,tt as S};
