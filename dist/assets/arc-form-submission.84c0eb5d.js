import{j as Ro,k as tt,w as ho,l as go,m as No,n as me,p as ot,t as So,q as Fo,s as Po,v as Ao,x as Co,d as L,y as V,o as p,c as m,b as g,z as $,f as I,A as w,B as P,F as U,C as xo,D as bo,E as G,G as j,H as Te,e as C,h as Q,I as Oe,K as Uo,L as Mo,M as nt,N as Lo,O as Ee,P as Ue,Q as Me}from"./index.6aec9276.js";/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let it;const Le=e=>it=e,Vo=Symbol();function Ce(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var se;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(se||(se={}));const ko=!1,lt=()=>{};function je(e,t,n,o=lt){e.push(t);const l=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),o())};return!n&&Po()&&Ao(l),l}function te(e,...t){e.slice().forEach(n=>{n(...t)})}const wo=e=>e();function xe(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,o)=>e.set(o,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],l=e[n];Ce(l)&&Ce(o)&&e.hasOwnProperty(n)&&!me(o)&&!ot(o)?e[n]=xe(l,o):e[n]=o}return e}const jo=Symbol();function Go(e){return!Ce(e)||!e.hasOwnProperty(jo)}const{assign:X}=Object;function Bo(e){return!!(me(e)&&e.effect)}function Ho(e,t,n,o){const{state:l,actions:a,getters:r}=t,i=n.state.value[e];let d;function c(){!i&&(n.state.value[e]=l?l():{});const u=xo(n.state.value[e]);return X(u,a,Object.keys(r||{}).reduce((f,s)=>(f[s]=bo(V(()=>{Le(n);const E=n._s.get(e);return r[s].call(E,E)})),f),{}))}return d=at(e,c,t,n,o,!0),d}function at(e,t,n={},o,l,a){let r;const i=X({actions:{}},n),d={deep:!0};let c,u,f=[],s=[],E;const y=o.state.value[e];!a&&!y&&(o.state.value[e]={}),tt({});let h;function A(D){let F;c=u=!1,typeof D=="function"?(D(o.state.value[e]),F={type:se.patchFunction,storeId:e,events:E}):(xe(o.state.value[e],D),F={type:se.patchObject,payload:D,storeId:e,events:E});const x=h=Symbol();Co().then(()=>{h===x&&(c=!0)}),u=!0,te(f,F,o.state.value[e])}const O=a?function(){const{state:D}=n,F=D?D():{};this.$patch(x=>{X(x,F)})}:lt;function v(){r.stop(),f=[],s=[],o._s.delete(e)}function T(D,F){return function(){Le(o);const x=Array.from(arguments),K=[],Z=[];function q(B){K.push(B)}function Do(B){Z.push(B)}te(s,{args:x,name:D,store:_,after:q,onError:Do});let ae;try{ae=F.apply(this&&this.$id===e?this:_,x)}catch(B){throw te(Z,B),B}return ae instanceof Promise?ae.then(B=>(te(K,B),B)).catch(B=>(te(Z,B),Promise.reject(B))):(te(K,ae),ae)}}const R={_p:o,$id:e,$onAction:je.bind(null,s),$patch:A,$reset:O,$subscribe(D,F={}){const x=je(f,D,F.detached,()=>K()),K=r.run(()=>ho(()=>o.state.value[e],Z=>{(F.flush==="sync"?u:c)&&D({storeId:e,type:se.direct,events:E},Z)},X({},d,F)));return x},$dispose:v},_=go(R);o._s.set(e,_);const N=(o._a&&o._a.runWithContext||wo)(()=>o._e.run(()=>(r=No()).run(t)));for(const D in N){const F=N[D];if(me(F)&&!Bo(F)||ot(F))a||(y&&Go(F)&&(me(F)?F.value=y[D]:xe(F,y[D])),o.state.value[e][D]=F);else if(typeof F=="function"){const x=T(D,F);N[D]=x,i.actions[D]=F}}return X(_,N),X(So(_),N),Object.defineProperty(_,"$state",{get:()=>o.state.value[e],set:D=>{A(F=>{X(F,D)})}}),o._p.forEach(D=>{X(_,r.run(()=>D({store:_,app:o._a,pinia:o,options:i})))}),y&&a&&n.hydrate&&n.hydrate(_.$state,y),c=!0,u=!0,_}function $o(e,t,n){let o,l;const a=typeof t=="function";typeof e=="string"?(o=e,l=a?n:t):(l=e,o=e.id);function r(i,d){const c=Fo();return i=i||(c?Ro(Vo,null):null),i&&Le(i),i=it,i._s.has(o)||(a?at(o,t,l,i):Ho(o,l,i)),i._s.get(o)}return r.$id=o,r}var b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yo(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var l=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return e[o]}})}),n}var ee={};ee.__esModule=!0;var Qo=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return e.isGuid=function(t){var n=t.toString();return t&&(t instanceof e||e.validator.test(n))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(t){return new e(t)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(t){for(var n="",o=0;o<t;o++)n+=((1+Math.random())*65536|0).toString(16).substring(1);return n},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}(),oe=ee.Guid=Qo,M={};Object.defineProperty(M,"__esModule",{value:!0});var rt=M.eState=M.CompositeFieldType=M.InfoSectionType=M.OptionFieldType=M.MonolingualFieldType=M.TextType=M.FieldType=void 0,Ge;(function(e){e[e.ShortAnswer=0]="ShortAnswer",e[e.Paragraph=1]="Paragraph",e[e.RichText=2]="RichText",e[e.Date=3]="Date",e[e.DateTime=4]="DateTime",e[e.Decimal=5]="Decimal",e[e.Integer=6]="Integer",e[e.Email=7]="Email",e[e.Checkboxes=8]="Checkboxes",e[e.DataList=9]="DataList",e[e.RadioButtons=10]="RadioButtons",e[e.DropDown=11]="DropDown",e[e.InfoSection=12]="InfoSection",e[e.AttachmentField=13]="AttachmentField",e[e.CompositeField=14]="CompositeField",e[e.CheckboxGrid=15]="CheckboxGrid"})(Ge||(M.FieldType=Ge={}));var Be;(function(e){e[e.ShortAnswer=0]="ShortAnswer",e[e.Paragraph=1]="Paragraph",e[e.RichText=2]="RichText",e[e.AttachmentField=13]="AttachmentField"})(Be||(M.TextType=Be={}));var He;(function(e){e[e.Date=3]="Date",e[e.DateTime=4]="DateTime",e[e.Decimal=5]="Decimal",e[e.Integer=6]="Integer",e[e.Email=7]="Email"})(He||(M.MonolingualFieldType=He={}));var $e;(function(e){e[e.Checkboxes=8]="Checkboxes",e[e.CheckboxGrid=15]="CheckboxGrid",e[e.DataList=9]="DataList",e[e.RadioButtons=10]="RadioButtons",e[e.DropDown=11]="DropDown"})($e||(M.OptionFieldType=$e={}));var Ye;(function(e){e[e.InfoSection=12]="InfoSection"})(Ye||(M.InfoSectionType=Ye={}));var Qe;(function(e){e[e.CompositeField=14]="CompositeField"})(Qe||(M.CompositeFieldType=Qe={}));var qe;(function(e){e.Draft="Draft",e.Active="Active",e.Archived="Archived",e.Inactive="Inactive",e.Deleted="Deleted"})(qe||(rt=M.eState=qe={}));var Je={},Ve={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getConcatenatedValues=e.cloneTextCollection=e.getTextValue=e.createGuid=e.createText=e.createTextCollection=void 0;const t=ee,n=d=>{const c={id:t.Guid.create().toString(),values:[]};return(typeof d=="string"?[d]:d).forEach(u=>{c.values.push({id:t.Guid.create().toString(),lang:u,value:""})}),c};e.createTextCollection=n;const o=d=>({id:t.Guid.create().toString(),value:"",lang:d||"en"});e.createText=o;const l=()=>t.Guid.create().toString();e.createGuid=l;const a=(d,c,u)=>{var f,s;let E;return c?E=(f=d==null?void 0:d.values)===null||f===void 0?void 0:f.filter(y=>y.lang===c).map(y=>y.value):E=(s=d==null?void 0:d.values)===null||s===void 0?void 0:s.map(y=>y.value),u?E.join(u):E};e.getTextValue=a;const r=d=>{const c=JSON.parse(JSON.stringify(d));return c.id=(0,e.createGuid)(),c.values.forEach(u=>{u.id=(0,e.createGuid)()}),c};e.cloneTextCollection=r;const i=(d,c)=>{var u,f,s="",E=[];return d.multilingualTextValues&&((u=d.multilingualTextValues)===null||u===void 0?void 0:u.length)>0?d.multilingualTextValues.forEach(y=>{s+=(0,e.getTextValue)(y,null,c)}):d.monolingualTextValues&&((f=d.monolingualTextValues)===null||f===void 0?void 0:f.length)>0&&(d.monolingualTextValues.forEach(y=>{E.push(y.value)}),s=E==null?void 0:E.join(c)),s};e.getConcatenatedValues=i})(Ve);var H={},We;function qo(){if(We)return H;We=1,Object.defineProperty(H,"__esModule",{value:!0}),H.cloneOption=H.getOptionValues=H.getOptionText=H.createOption=void 0;const e=ee,t=ye();function n(r,i){return{id:e.Guid.create().toString(),isExtendedInput:!1,isExtendedInputRequired:!1,optionText:i||(0,t.createTextCollection)(r)}}H.createOption=n;const o=(r,i)=>l(r.optionText,i);H.getOptionText=o;function l(r,i){var d,c,u;return i?(c=(d=r==null?void 0:r.values)===null||d===void 0?void 0:d.filter(f=>f.lang===i).map(f=>f.value))===null||c===void 0?void 0:c.at(0):(u=r==null?void 0:r.values)===null||u===void 0?void 0:u.map(f=>f.value)}H.getOptionValues=l;const a=r=>{const i=JSON.parse(JSON.stringify(r));return i.id=e.Guid.create().toString(),i.optionText.id=e.Guid.create().toString(),i.optionText.values.forEach(d=>d.id=e.Guid.create().toString()),i};return H.cloneOption=a,H}var pe={},S={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CompositeFieldType=e.FieldType=e.InfoSectionType=e.OptionFieldType=e.MonolingualFieldType=e.TextType=void 0;var t=M;Object.defineProperty(e,"TextType",{enumerable:!0,get:function(){return t.TextType}}),Object.defineProperty(e,"MonolingualFieldType",{enumerable:!0,get:function(){return t.MonolingualFieldType}}),Object.defineProperty(e,"OptionFieldType",{enumerable:!0,get:function(){return t.OptionFieldType}}),Object.defineProperty(e,"InfoSectionType",{enumerable:!0,get:function(){return t.InfoSectionType}}),Object.defineProperty(e,"FieldType",{enumerable:!0,get:function(){return t.FieldType}}),Object.defineProperty(e,"CompositeFieldType",{enumerable:!0,get:function(){return t.CompositeFieldType}})})(S);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getFieldDataFromFormData=e.isCompositeField=e.createMissingFieldData=e.createFormData=e.createCompositeFieldData=e.createFieldData=e.getFieldDescription=e.getFieldTitle=e.isTextInputField=e.isMonolingualTextInputField=e.isMultilingualTextInputField=e.isOptionField=void 0;const t=ee,n=S,o=Ve,l=M,a=O=>Object.values(n.OptionFieldType).map(v=>v).includes(O.type);e.isOptionField=a;const r=O=>Object.values(n.TextType).map(v=>v).includes(O.type);e.isMultilingualTextInputField=r;const i=O=>Object.values(n.MonolingualFieldType).map(v=>v).includes(O.type);e.isMonolingualTextInputField=i;const d=O=>Object.values(n.MonolingualFieldType).map(v=>v).includes(O.type);e.isTextInputField=d;const c=(O,v)=>{const T=(0,o.getTextValue)(O.title,v);return(T==null?void 0:T.length)>0?T[0]:null};e.getFieldTitle=c;const u=(O,v)=>{const T=(0,o.getTextValue)(O.description,v);return(T==null?void 0:T.length)>0?T[0]:null};e.getFieldDescription=u;const f=(O,v)=>{var T;const R={id:t.Guid.create().toString(),fieldId:O.id,isValid:!0};if((0,e.isOptionField)(O))R.selectedOptionIds=[],O.allowCustomOptionValues&&(R.customOptionValues=[]),!((T=O.options)===null||T===void 0)&&T.find(_=>_.isExtendedInput)&&(R.extendedOptionValues=[]);else if((0,e.isMultilingualTextInputField)(O)){const _=typeof v=="string"?[v]:v;R.multilingualTextValues=[(0,o.createTextCollection)(_)]}else(0,e.isMonolingualTextInputField)(O)?R.monolingualTextValues=[(0,o.createText)(null)]:(0,e.isCompositeField)(O)&&(R.compositeFieldDataValues=[(0,e.createCompositeFieldData)(O,v)]);return R};e.createFieldData=f;const s=(O,v)=>{var T;const R={id:t.Guid.create().toString(),formId:O.id,fieldData:[]};return(T=O.fields)===null||T===void 0||T.forEach(_=>{v||(v="en");let N=(0,e.createFieldData)(_,v);R.fieldData.push(N)}),R};e.createCompositeFieldData=s;const E=(O,v)=>{var T;const R={id:t.Guid.EMPTY,formId:O.id,fieldData:[]};return(T=O.fields)===null||T===void 0||T.forEach(_=>{if(_.type!=l.FieldType.InfoSection){const N=(0,e.createFieldData)(_,v);R.fieldData.push(N)}}),R};e.createFormData=E;const y=(O,v,T)=>{var R;(R=O.fields)===null||R===void 0||R.forEach(_=>{if(_.type!=l.FieldType.InfoSection&&!v.fieldData.find(N=>N.fieldId==_.id)){const N=(0,e.createFieldData)(_,T);v.fieldData.push(N)}})};e.createMissingFieldData=y;const h=O=>Object.values(n.CompositeFieldType).map(v=>v).includes(O.type);e.isCompositeField=h;const A=(O,v)=>O==null?void 0:O.fieldData.find(T=>T.fieldId===v);e.getFieldDataFromFormData=A})(pe);var Ke;function ye(){return Ke||(Ke=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getFieldDataFromFormData=e.isCompositeField=e.createFormData=e.createFieldData=e.getFieldDescription=e.getFieldTitle=e.isTextInputField=e.isMonolingualTextInputField=e.isMultilingualTextInputField=e.isOptionField=e.cloneOption=e.getOptionText=e.createOption=e.getTextValue=e.createGuid=e.createText=e.cloneTextCollection=e.createTextCollection=void 0;var t=Ve;Object.defineProperty(e,"createTextCollection",{enumerable:!0,get:function(){return t.createTextCollection}}),Object.defineProperty(e,"cloneTextCollection",{enumerable:!0,get:function(){return t.cloneTextCollection}}),Object.defineProperty(e,"createText",{enumerable:!0,get:function(){return t.createText}}),Object.defineProperty(e,"createGuid",{enumerable:!0,get:function(){return t.createGuid}}),Object.defineProperty(e,"getTextValue",{enumerable:!0,get:function(){return t.getTextValue}});var n=qo();Object.defineProperty(e,"createOption",{enumerable:!0,get:function(){return n.createOption}}),Object.defineProperty(e,"getOptionText",{enumerable:!0,get:function(){return n.getOptionText}}),Object.defineProperty(e,"cloneOption",{enumerable:!0,get:function(){return n.cloneOption}});var o=pe;Object.defineProperty(e,"isOptionField",{enumerable:!0,get:function(){return o.isOptionField}}),Object.defineProperty(e,"isMultilingualTextInputField",{enumerable:!0,get:function(){return o.isMultilingualTextInputField}}),Object.defineProperty(e,"isMonolingualTextInputField",{enumerable:!0,get:function(){return o.isMonolingualTextInputField}}),Object.defineProperty(e,"isTextInputField",{enumerable:!0,get:function(){return o.isTextInputField}}),Object.defineProperty(e,"getFieldTitle",{enumerable:!0,get:function(){return o.getFieldTitle}}),Object.defineProperty(e,"getFieldDescription",{enumerable:!0,get:function(){return o.getFieldDescription}}),Object.defineProperty(e,"createFieldData",{enumerable:!0,get:function(){return o.createFieldData}}),Object.defineProperty(e,"createFormData",{enumerable:!0,get:function(){return o.createFormData}}),Object.defineProperty(e,"isCompositeField",{enumerable:!0,get:function(){return o.isCompositeField}}),Object.defineProperty(e,"getFieldDataFromFormData",{enumerable:!0,get:function(){return o.getFieldDataFromFormData}})}(Je)),Je}var k=ye(),fe={},dt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getOptionIds=e.getFieldType=e.toFormData=e.getSolrFieldValues=e.getSolrFieldNameSuffix=e.createSolrFieldData=e.toSolrDocJson=void 0;const t=ee,n=S,o=ye(),l=pe,a=(s,E,y)=>{var h;const A={id:s.id,fields:[]};return(h=s.fieldData)===null||h===void 0||h.forEach(O=>{var v,T,R;const _=(v=y.fields)===null||v===void 0?void 0:v.find(D=>D.id===O.fieldId),N=_==null?void 0:_.type;if(N!=n.FieldType.InfoSection)if(N==n.FieldType.CompositeField){const D={name:`container_${O.fieldId}`,childDocuments:[]};A.fields.push(D),(T=O.compositeFieldDataValues)===null||T===void 0||T.forEach(F=>{const x=(0,e.toSolrDocJson)(F,"data",_);D.childDocuments.push(x)})}else{const D=(0,e.createSolrFieldData)(O,y,E,N);D.constructor.name==="Array"?D.forEach(F=>{var x;(x=A.fields)===null||x===void 0||x.push(F)}):(R=A.fields)===null||R===void 0||R.push(D)}}),A};e.toSolrDocJson=a;const r=(s,E,y,h)=>{const A=E.id,O=s.fieldId,v=(0,e.getSolrFieldNameSuffix)(h,s),T=`${y}_${A}_${O}_${v}`,R=(0,e.getSolrFieldValues)(s,E.fields);if(R.constructor.name==="Array"){const _=[];return R.forEach(N=>{const D={name:T,value:N};_.push(D)}),_}else return{name:T,value:R}};e.createSolrFieldData=r;const i=(s,E)=>{var y,h,A,O,v;let T="";return((y=E.monolingualTextValues)===null||y===void 0?void 0:y.length)>0?s==n.FieldType.Email?(console.log("email"),T="ts"):s==n.FieldType.Date||s==n.FieldType.DateTime?T="dts":s==n.FieldType.Integer?T="is":s==n.FieldType.Decimal&&(T="ds"):(((h=E.multilingualTextValues)===null||h===void 0?void 0:h.length)>0||((A=E.selectedOptionIds)===null||A===void 0?void 0:A.length)>0||((O=E.customOptionValues)===null||O===void 0?void 0:O.length)>0||((v=E.compositeFieldDataValues)===null||v===void 0?void 0:v.length)>0)&&(T="ts"),T};e.getSolrFieldNameSuffix=i;const d=(s,E)=>{var y,h,A,O,v,T,R,_;if(s.multilingualTextValues&&((y=s.multilingualTextValues)===null||y===void 0?void 0:y.length)>0){let N=[];return(h=s.multilingualTextValues)===null||h===void 0||h.forEach(D=>{var F;N=(F=D.values)===null||F===void 0?void 0:F.map(x=>x==null?void 0:x.value)}),N.length>0?N:[]}else if(s.monolingualTextValues&&((A=s.monolingualTextValues)===null||A===void 0?void 0:A.length)>0){let N="";return(O=s.monolingualTextValues)===null||O===void 0||O.forEach(D=>{N=D.value}),N.length>0?N:""}else if(s.selectedOptionIds&&((v=s.selectedOptionIds)===null||v===void 0?void 0:v.length)>0){const N=s.fieldId;let D=[];return(T=s.selectedOptionIds)===null||T===void 0||T.forEach(F=>{var x;const K=(x=E==null?void 0:E.filter(q=>q.id===N).find(q=>q.options))===null||x===void 0?void 0:x.options,Z=K==null?void 0:K.filter(q=>q.id===F).find(q=>q.optionText);D.push((0,o.getOptionText)(Z,"en"))}),D}else if(s.extendedOptionValues&&((R=s.extendedOptionValues)===null||R===void 0?void 0:R.length)>0)return(_=s.extendedOptionValues)===null||_===void 0?void 0:_.find(N=>N==null?void 0:N.values);return""};e.getSolrFieldValues=d;const c=(s,E,y="en")=>{var h;const A={id:s.id,formId:E.id,fieldData:[]};return(h=s.data)===null||h===void 0||h.forEach(O=>{const v=O.key.toString().split("_");if((v[0]=="data"||v[0]=="metadata"||v[0]=="container")&&v[2]!="ss"){let T={id:t.Guid.create().toString(),fieldId:v[2],isValid:!0};if(A.fieldData.push(T),v[0]=="data"||v[0]=="metadata")(0,e.getFieldType)(T.fieldId,E)===n.FieldType.ShortAnswer||(0,e.getFieldType)(T.fieldId,E)===n.FieldType.Paragraph||(0,e.getFieldType)(T.fieldId,E)===n.FieldType.RichText?(T.multilingualTextValues=[],O.value.map(R=>{var _;const N={id:t.Guid.create().toString(),values:[{id:t.Guid.create().toString(),lang:y,value:R}]};(_=T.multilingualTextValues)===null||_===void 0||_.push(N)})):(0,e.getFieldType)(T.fieldId,E)===n.FieldType.Email||(0,e.getFieldType)(T.fieldId,E)===n.FieldType.Date||(0,e.getFieldType)(T.fieldId,E)===n.FieldType.DateTime||(0,e.getFieldType)(T.fieldId,E)===n.FieldType.Integer||(0,e.getFieldType)(T.fieldId,E)===n.FieldType.Decimal?(T.monolingualTextValues=[],O.value.map(R=>{var _;const N={id:t.Guid.create().toString(),value:R,lang:y};(_=T.monolingualTextValues)===null||_===void 0||_.push(N)})):((0,e.getFieldType)(T.fieldId,E)===n.FieldType.CheckboxGrid||(0,e.getFieldType)(T.fieldId,E)===n.FieldType.Checkboxes||(0,e.getFieldType)(T.fieldId,E)===n.FieldType.DataList||(0,e.getFieldType)(T.fieldId,E)===n.FieldType.DropDown||(0,e.getFieldType)(T.fieldId,E)===n.FieldType.RadioButtons)&&(T.selectedOptionIds=[],T.selectedOptionIds=(0,e.getOptionIds)(T.fieldId,O.value,E));else if(v[0]=="container"&&v[v.length-1]!="ss"){const R=v[1];T.fieldId=R;const _=E.fields.find(D=>D.id==R),N=O.value;T.compositeFieldDataValues=[],N.forEach(D=>{var F;const x=(0,e.toFormData)(D,_);x.fieldData.length>0&&((F=T.compositeFieldDataValues)===null||F===void 0||F.push(x))})}}}),(0,l.createMissingFieldData)(E,A,y),A};e.toFormData=c;const u=(s,E)=>E.fields.find(y=>y.id===s).type;e.getFieldType=u;const f=(s,E,y)=>{var h;const A=(h=y.fields)===null||h===void 0?void 0:h.find(v=>v.id===s),O=[];return E.forEach(v=>{var T;const R=(T=A==null?void 0:A.options)===null||T===void 0?void 0:T.find(_=>_.optionText.values.find(N=>N.value===v));(R==null?void 0:R.id)!=null&&O.push(R==null?void 0:R.id)}),O};e.getOptionIds=f})(dt);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toFormData=e.toSolrDocJson=void 0;var t=dt;Object.defineProperty(e,"toSolrDocJson",{enumerable:!0,get:function(){return t.toSolrDocJson}}),Object.defineProperty(e,"toFormData",{enumerable:!0,get:function(){return t.toFormData}})})(fe);var ut=202,st=502,ct=400,pt=409,Tt=100,Et=201,mt=417,Jo=424,ft=403,vt=504,Ot=410,yt=505,It=418,_t=419,Dt=507,Rt=500,ht=411,gt=423,Nt=420,St=405,Ft=301,Pt=302,At=207,Ct=300,xt=511,bt=204,Ut=203,Mt=406,Lt=404,Vt=501,kt=304,wt=200,jt=206,Gt=402,Bt=308,Ht=412,$t=428,Yt=102,Qt=407,qt=431,Jt=408,Wt=413,Kt=414,zt=416,Xt=205,Zt=303,eo=503,to=101,oo=307,no=429,io=401,lo=422,ao=415,ro=305;const Wo={ACCEPTED:ut,BAD_GATEWAY:st,BAD_REQUEST:ct,CONFLICT:pt,CONTINUE:Tt,CREATED:Et,EXPECTATION_FAILED:mt,FORBIDDEN:ft,GATEWAY_TIMEOUT:vt,GONE:Ot,HTTP_VERSION_NOT_SUPPORTED:yt,IM_A_TEAPOT:It,INSUFFICIENT_SPACE_ON_RESOURCE:_t,INSUFFICIENT_STORAGE:Dt,INTERNAL_SERVER_ERROR:Rt,LENGTH_REQUIRED:ht,LOCKED:gt,METHOD_FAILURE:Nt,METHOD_NOT_ALLOWED:St,MOVED_PERMANENTLY:Ft,MOVED_TEMPORARILY:Pt,MULTI_STATUS:At,MULTIPLE_CHOICES:Ct,NETWORK_AUTHENTICATION_REQUIRED:xt,NO_CONTENT:bt,NON_AUTHORITATIVE_INFORMATION:Ut,NOT_ACCEPTABLE:Mt,NOT_FOUND:Lt,NOT_IMPLEMENTED:Vt,NOT_MODIFIED:kt,OK:wt,PARTIAL_CONTENT:jt,PAYMENT_REQUIRED:Gt,PERMANENT_REDIRECT:Bt,PRECONDITION_FAILED:Ht,PRECONDITION_REQUIRED:$t,PROCESSING:Yt,PROXY_AUTHENTICATION_REQUIRED:Qt,REQUEST_HEADER_FIELDS_TOO_LARGE:qt,REQUEST_TIMEOUT:Jt,REQUEST_TOO_LONG:Wt,REQUEST_URI_TOO_LONG:Kt,REQUESTED_RANGE_NOT_SATISFIABLE:zt,RESET_CONTENT:Xt,SEE_OTHER:Zt,SERVICE_UNAVAILABLE:eo,SWITCHING_PROTOCOLS:to,TEMPORARY_REDIRECT:oo,TOO_MANY_REQUESTS:no,UNAUTHORIZED:io,UNPROCESSABLE_ENTITY:lo,UNSUPPORTED_MEDIA_TYPE:ao,USE_PROXY:ro};var Ko={202:"Accepted",502:"Bad Gateway",400:"Bad Request",409:"Conflict",100:"Continue",201:"Created",417:"Expectation Failed",424:"Failed Dependency",403:"Forbidden",504:"Gateway Timeout",410:"Gone",505:"HTTP Version Not Supported",418:"I'm a teapot",419:"Insufficient Space on Resource",507:"Insufficient Storage",500:"Internal Server Error",411:"Length Required",423:"Locked",420:"Method Failure",405:"Method Not Allowed",301:"Moved Permanently",302:"Moved Temporarily",207:"Multi-Status",300:"Multiple Choices",511:"Network Authentication Required",204:"No Content",203:"Non Authoritative Information",406:"Not Acceptable",404:"Not Found",501:"Not Implemented",304:"Not Modified",200:"OK",206:"Partial Content",402:"Payment Required",308:"Permanent Redirect",412:"Precondition Failed",428:"Precondition Required",102:"Processing",103:"Early Hints",426:"Upgrade Required",407:"Proxy Authentication Required",431:"Request Header Fields Too Large",408:"Request Timeout",413:"Request Entity Too Large",414:"Request-URI Too Long",416:"Requested Range Not Satisfiable",205:"Reset Content",303:"See Other",503:"Service Unavailable",101:"Switching Protocols",307:"Temporary Redirect",429:"Too Many Requests",401:"Unauthorized",451:"Unavailable For Legal Reasons",422:"Unprocessable Entity",415:"Unsupported Media Type",305:"Use Proxy",421:"Misdirected Request"},zo={Accepted:202,"Bad Gateway":502,"Bad Request":400,Conflict:409,Continue:100,Created:201,"Expectation Failed":417,"Failed Dependency":424,Forbidden:403,"Gateway Timeout":504,Gone:410,"HTTP Version Not Supported":505,"I'm a teapot":418,"Insufficient Space on Resource":419,"Insufficient Storage":507,"Internal Server Error":500,"Length Required":411,Locked:423,"Method Failure":420,"Method Not Allowed":405,"Moved Permanently":301,"Moved Temporarily":302,"Multi-Status":207,"Multiple Choices":300,"Network Authentication Required":511,"No Content":204,"Non Authoritative Information":203,"Not Acceptable":406,"Not Found":404,"Not Implemented":501,"Not Modified":304,OK:200,"Partial Content":206,"Payment Required":402,"Permanent Redirect":308,"Precondition Failed":412,"Precondition Required":428,Processing:102,"Early Hints":103,"Upgrade Required":426,"Proxy Authentication Required":407,"Request Header Fields Too Large":431,"Request Timeout":408,"Request Entity Too Large":413,"Request-URI Too Long":414,"Requested Range Not Satisfiable":416,"Reset Content":205,"See Other":303,"Service Unavailable":503,"Switching Protocols":101,"Temporary Redirect":307,"Too Many Requests":429,Unauthorized:401,"Unavailable For Legal Reasons":451,"Unprocessable Entity":422,"Unsupported Media Type":415,"Use Proxy":305,"Misdirected Request":421};function uo(e){var t=Ko[e.toString()];if(!t)throw new Error("Status code does not exist: "+e);return t}function so(e){var t=zo[e];if(!t)throw new Error("Reason phrase does not exist: "+e);return t}var co=uo,ce;(function(e){e[e.CONTINUE=100]="CONTINUE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.PROCESSING=102]="PROCESSING",e[e.EARLY_HINTS=103]="EARLY_HINTS",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.MULTI_STATUS=207]="MULTI_STATUS",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.MOVED_TEMPORARILY=302]="MOVED_TEMPORARILY",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.USE_PROXY=305]="USE_PROXY",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.REQUEST_TOO_LONG=413]="REQUEST_TOO_LONG",e[e.REQUEST_URI_TOO_LONG=414]="REQUEST_URI_TOO_LONG",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.IM_A_TEAPOT=418]="IM_A_TEAPOT",e[e.INSUFFICIENT_SPACE_ON_RESOURCE=419]="INSUFFICIENT_SPACE_ON_RESOURCE",e[e.METHOD_FAILURE=420]="METHOD_FAILURE",e[e.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",e[e.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",e[e.LOCKED=423]="LOCKED",e[e.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",e[e.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",e[e.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",e[e.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",e[e.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",e[e.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED"})(ce||(ce={}));var be;(function(e){e.ACCEPTED="Accepted",e.BAD_GATEWAY="Bad Gateway",e.BAD_REQUEST="Bad Request",e.CONFLICT="Conflict",e.CONTINUE="Continue",e.CREATED="Created",e.EXPECTATION_FAILED="Expectation Failed",e.FAILED_DEPENDENCY="Failed Dependency",e.FORBIDDEN="Forbidden",e.GATEWAY_TIMEOUT="Gateway Timeout",e.GONE="Gone",e.HTTP_VERSION_NOT_SUPPORTED="HTTP Version Not Supported",e.IM_A_TEAPOT="I'm a teapot",e.INSUFFICIENT_SPACE_ON_RESOURCE="Insufficient Space on Resource",e.INSUFFICIENT_STORAGE="Insufficient Storage",e.INTERNAL_SERVER_ERROR="Internal Server Error",e.LENGTH_REQUIRED="Length Required",e.LOCKED="Locked",e.METHOD_FAILURE="Method Failure",e.METHOD_NOT_ALLOWED="Method Not Allowed",e.MOVED_PERMANENTLY="Moved Permanently",e.MOVED_TEMPORARILY="Moved Temporarily",e.MULTI_STATUS="Multi-Status",e.MULTIPLE_CHOICES="Multiple Choices",e.NETWORK_AUTHENTICATION_REQUIRED="Network Authentication Required",e.NO_CONTENT="No Content",e.NON_AUTHORITATIVE_INFORMATION="Non Authoritative Information",e.NOT_ACCEPTABLE="Not Acceptable",e.NOT_FOUND="Not Found",e.NOT_IMPLEMENTED="Not Implemented",e.NOT_MODIFIED="Not Modified",e.OK="OK",e.PARTIAL_CONTENT="Partial Content",e.PAYMENT_REQUIRED="Payment Required",e.PERMANENT_REDIRECT="Permanent Redirect",e.PRECONDITION_FAILED="Precondition Failed",e.PRECONDITION_REQUIRED="Precondition Required",e.PROCESSING="Processing",e.EARLY_HINTS="Early Hints",e.UPGRADE_REQUIRED="Upgrade Required",e.PROXY_AUTHENTICATION_REQUIRED="Proxy Authentication Required",e.REQUEST_HEADER_FIELDS_TOO_LARGE="Request Header Fields Too Large",e.REQUEST_TIMEOUT="Request Timeout",e.REQUEST_TOO_LONG="Request Entity Too Large",e.REQUEST_URI_TOO_LONG="Request-URI Too Long",e.REQUESTED_RANGE_NOT_SATISFIABLE="Requested Range Not Satisfiable",e.RESET_CONTENT="Reset Content",e.SEE_OTHER="See Other",e.SERVICE_UNAVAILABLE="Service Unavailable",e.SWITCHING_PROTOCOLS="Switching Protocols",e.TEMPORARY_REDIRECT="Temporary Redirect",e.TOO_MANY_REQUESTS="Too Many Requests",e.UNAUTHORIZED="Unauthorized",e.UNAVAILABLE_FOR_LEGAL_REASONS="Unavailable For Legal Reasons",e.UNPROCESSABLE_ENTITY="Unprocessable Entity",e.UNSUPPORTED_MEDIA_TYPE="Unsupported Media Type",e.USE_PROXY="Use Proxy",e.MISDIRECTED_REQUEST="Misdirected Request"})(be||(be={}));var ve=globalThis&&globalThis.__assign||function(){return ve=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},ve.apply(this,arguments)};const Xo=ve(ve({},Wo),{getStatusCode:so,getStatusText:co}),Zo=Object.freeze(Object.defineProperty({__proto__:null,ACCEPTED:ut,BAD_GATEWAY:st,BAD_REQUEST:ct,CONFLICT:pt,CONTINUE:Tt,CREATED:Et,EXPECTATION_FAILED:mt,FAILED_DEPENDENCY:Jo,FORBIDDEN:ft,GATEWAY_TIMEOUT:vt,GONE:Ot,HTTP_VERSION_NOT_SUPPORTED:yt,IM_A_TEAPOT:It,INSUFFICIENT_SPACE_ON_RESOURCE:_t,INSUFFICIENT_STORAGE:Dt,INTERNAL_SERVER_ERROR:Rt,LENGTH_REQUIRED:ht,LOCKED:gt,METHOD_FAILURE:Nt,METHOD_NOT_ALLOWED:St,MOVED_PERMANENTLY:Ft,MOVED_TEMPORARILY:Pt,MULTIPLE_CHOICES:Ct,MULTI_STATUS:At,NETWORK_AUTHENTICATION_REQUIRED:xt,NON_AUTHORITATIVE_INFORMATION:Ut,NOT_ACCEPTABLE:Mt,NOT_FOUND:Lt,NOT_IMPLEMENTED:Vt,NOT_MODIFIED:kt,NO_CONTENT:bt,OK:wt,PARTIAL_CONTENT:jt,PAYMENT_REQUIRED:Gt,PERMANENT_REDIRECT:Bt,PRECONDITION_FAILED:Ht,PRECONDITION_REQUIRED:$t,PROCESSING:Yt,PROXY_AUTHENTICATION_REQUIRED:Qt,REQUESTED_RANGE_NOT_SATISFIABLE:zt,REQUEST_HEADER_FIELDS_TOO_LARGE:qt,REQUEST_TIMEOUT:Jt,REQUEST_TOO_LONG:Wt,REQUEST_URI_TOO_LONG:Kt,RESET_CONTENT:Xt,get ReasonPhrases(){return be},SEE_OTHER:Zt,SERVICE_UNAVAILABLE:eo,SWITCHING_PROTOCOLS:to,get StatusCodes(){return ce},TEMPORARY_REDIRECT:oo,TOO_MANY_REQUESTS:no,UNAUTHORIZED:io,UNPROCESSABLE_ENTITY:lo,UNSUPPORTED_MEDIA_TYPE:ao,USE_PROXY:ro,default:Xo,getReasonPhrase:uo,getStatusCode:so,getStatusText:co},Symbol.toStringTag,{value:"Module"})),en=(e,t)=>(t.type===S.FieldType.Date||t.type===S.FieldType.DateTime||t.type===S.FieldType.Email||t.type===S.FieldType.Decimal||t.type===S.FieldType.Integer?on(e,t):t.type===S.FieldType.ShortAnswer||t.type===S.FieldType.Paragraph||t.type===S.FieldType.RichText||t.type===S.FieldType.AttachmentField?nn(e,t):(t.type===S.FieldType.DropDown||t.type===S.FieldType.DataList||t.type===S.FieldType.Checkboxes||t.type===S.FieldType.RadioButtons)&&ln(e,t),!0),tn=(e,t)=>{t.fields.forEach(o=>{const l=e.fieldData.find(a=>a.fieldId===o.id);en(l,o)});let n=!0;return e.fieldData.forEach(o=>{o.isValid||(n=!1)}),n},on=(e,t)=>{var n;e.isValid=!0;const o=(n=e.monolingualTextValues)==null?void 0:n.filter(l=>l.value.length>0).map(l=>l.value);return t.isRequired&&(o==null?void 0:o.length)===0&&(e.isValid=!1,e.validationError="This is a required field"),o==null||o.forEach(l=>{if(t.type===S.FieldType.Email){const a=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/i;if(console.log("email",a.test(l)),!a.test(l))return e.isValid=!1,e.validationError="Please enter a valied email address",!1}}),!0},nn=(e,t)=>{var n;return t.isRequired?(e.isValid=!1,(n=e==null?void 0:e.multilingualTextValues)==null||n.forEach(o=>{var l;(l=o.values)==null||l.forEach(a=>{var r;if(((r=a.value)==null?void 0:r.trim().length)>0)return e.isValid=!0,!0})}),e.isValid?!0:(e.validationError="This is a required field",!1)):(e.isValid=!0,!0)},ln=(e,t)=>{var n;return e.isValid=!0,t.isRequired&&!(e.selectedOptionIds&&e.selectedOptionIds.length>0||e.customOptionValues&&e.customOptionValues.length>0)?(e.isValid=!1,e.validationError="This option field is a required field",!1):((n=e.selectedOptionIds)==null||n.forEach(o=>{var l;(l=t.options)==null||l.forEach(a=>{if(a.id===o&&a.isExtendedInput&&a.isExtendedInputRequired&&!(e.extendedOptionValues.length>0))return e.isValid=!1,e.validationError="Extended Option needs to add a value",!1})}),!0)};var J={},ze={},le={},Pe=b&&b.__awaiter||function(e,t,n,o){function l(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function i(u){try{c(o.next(u))}catch(f){r(f)}}function d(u){try{c(o.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):l(u.value).then(i,d)}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(le,"__esModule",{value:!0});le.WebClient=void 0;class an{constructor(t,n){this.get=o=>this.invoke(o,"GET"),this.postJson=(o,l)=>this.sendJson(o,"POST",l),this.putJson=(o,l)=>this.sendJson(o,"PUT",l),this.patchJson=(o,l)=>this.sendJson(o,"PATCH",l),this.delete=o=>this.invoke(o,"DELETE"),this.getFile=(o,l)=>Pe(this,void 0,void 0,function*(){var a=yield fetch(o,{method:"GET",headers:{Authorization:this._jwtToken?`bearer ${this._jwtToken}`:"","Tenant-Id":this._tenantId?this._tenantId.toString():""}});if(!a.ok)throw new Error(`Code ${a.status} returned by ${o}`);const r=yield a.blob(),i=document.createElement("a");i.href=URL.createObjectURL(r),i.setAttribute("download",l),i.click()}),this._jwtToken=t,this._tenantId=n}setSecurityToken(t){this._jwtToken=t}invoke(t,n){return Pe(this,void 0,void 0,function*(){var o=yield fetch(t,{method:n,headers:{Authorization:this._jwtToken?`bearer ${this._jwtToken}`:"","Tenant-Id":this._tenantId?this._tenantId.toString():""}});if(!o.ok)throw new Error(`Code ${o.status} returned by ${t}`);return o})}sendJson(t,n,o){return Pe(this,void 0,void 0,function*(){var l=yield fetch(t,{body:JSON.stringify(o),method:n,headers:{encType:"multipart/form-data","Content-Type":"application/json",Authorization:this._jwtToken?`bearer ${this._jwtToken}`:"","Tenant-Id":this._tenantId?this._tenantId.toString():""}});if(!l.ok)throw new Error(`Code ${l.status} returned by ${t}`);return l})}}le.WebClient=an;var W={};const ke=Yo(Zo);var re=b&&b.__awaiter||function(e,t,n,o){function l(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function i(u){try{c(o.next(u))}catch(f){r(f)}}function d(u){try{c(o.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):l(u.value).then(i,d)}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(W,"__esModule",{value:!0});W.CrudProxy=void 0;const de=ee,rn=le,Xe=ke;class dn extends rn.WebClient{constructor(t,n){super(n),this._apiRoot=t}List(){return re(this,void 0,void 0,function*(){var t=yield this.get(this._apiRoot);if(t.status!=Xe.StatusCodes.OK)throw new Error("Error");var n=yield t.json();return n})}Get(t){return re(this,void 0,void 0,function*(){var n=yield this.get(`${this._apiRoot}/${t}`);if(n.status!=Xe.StatusCodes.OK)throw new Error("Error");var o=yield n.json();return o})}Post(t){return re(this,void 0,void 0,function*(){let n=!1;try{(!t.id||t.id==de.Guid.parse(de.Guid.EMPTY))&&(t.id=de.Guid.create().toString(),n=!0);var o=yield this.postJson(`${this._apiRoot}`,t);return!0}catch(l){return n&&(t.id=de.Guid.parse(de.Guid.EMPTY)),console.error(l),!1}})}Put(t){return re(this,void 0,void 0,function*(){return yield this.putJson(`${this._apiRoot}/${t.id}`,t),!0})}Delete(t){return re(this,void 0,void 0,function*(){var n=yield this.delete(`${this._apiRoot}/${t}`);return n.ok})}}W.CrudProxy=dn;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.FormTemplateProxy=void 0;const un=W;class sn extends un.CrudProxy{constructor(t,n){super(`${t}/api/forms`,n)}}Ie.FormTemplateProxy=sn;var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.FormDataProxy=void 0;const cn=W;class pn extends cn.CrudProxy{constructor(t){super(`${t}/api/form-submissions`)}}_e.FormDataProxy=pn;var De={};Object.defineProperty(De,"__esModule",{value:!0});De.ItemProxy=void 0;const Tn=W;class En extends Tn.CrudProxy{constructor(t,n){super(`${t}/api/items`,n)}}De.ItemProxy=En;var Re={};Object.defineProperty(Re,"__esModule",{value:!0});Re.CollectionProxy=void 0;const mn=W;class fn extends mn.CrudProxy{constructor(t,n){super(`${t}/api/collections`,n)}}Re.CollectionProxy=fn;var he={};Object.defineProperty(he,"__esModule",{value:!0});he.WorkflowProxy=void 0;const vn=W;class On extends vn.CrudProxy{constructor(t,n){super(`${t}/api/workflow`,n)}}he.WorkflowProxy=On;var ge={},z=b&&b.__awaiter||function(e,t,n,o){function l(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function i(u){try{c(o.next(u))}catch(f){r(f)}}function d(u){try{c(o.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):l(u.value).then(i,d)}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(ge,"__esModule",{value:!0});ge.SolrProxy=void 0;const yn=le,Ae=ke;class In extends yn.WebClient{constructor(t,n,o){super(o,n),this._apiRoot=t}getDocument(t){return z(this,void 0,void 0,function*(){var n=yield this.get(`${this._apiRoot}/api/SolrSearch/get-document/${t}`);if(n.status!=Ae.StatusCodes.OK)throw new Error("Error");var o=yield n.json();return o})}updateDocument(t){return z(this,void 0,void 0,function*(){var n=yield this.putJson(`${this._apiRoot}/api/solr/update-document`,t);if(n.status!=Ae.StatusCodes.OK)throw new Error("Error")})}updateSolrDocJson(t){return z(this,void 0,void 0,function*(){var n=yield this.putJson(`${this._apiRoot}/api/solr/update-solr-doc-json`,t);if(n.status!=Ae.StatusCodes.OK)throw new Error("Error");return n.status})}getJobs(t,n,o=2,l=!1,a=""){return z(this,void 0,void 0,function*(){var r=yield this.get(`${this._apiRoot}/api/background-job?offset=${t}&max=${n}&operation=${o}&incompleteOnlly=${l}&searchTerm=${a}`),i=yield r.json();return i})}deleteJob(t){return z(this,void 0,void 0,function*(){yield this.delete(`${this._apiRoot}/api/background-job/remove-job?jobId=${t}`)})}downloadDataFile(t){return z(this,void 0,void 0,function*(){yield this.getFile(`${this._apiRoot}/api/background-job/get-file?fileName=${t}`,t)})}search(t){return z(this,void 0,void 0,function*(){var n=yield this.postJson(`${this._apiRoot}/api/SolrSearch/execute-search`,t),o=yield n.json();return o})}scheduleSearchJob(t){return z(this,void 0,void 0,function*(){var n=yield this.postJson(`${this._apiRoot}/api/SolrSearch/submit-search-job`,t),o=yield n.text();return o})}}ge.SolrProxy=In;var ue={},Ze;function _n(){if(Ze)return ue;Ze=1;var e=b&&b.__awaiter||function(l,a,r,i){function d(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(y){try{E(i.next(y))}catch(h){u(h)}}function s(y){try{E(i.throw(y))}catch(h){u(h)}}function E(y){y.done?c(y.value):d(y.value).then(f,s)}E((i=i.apply(l,a||[])).next())})};Object.defineProperty(ue,"__esModule",{value:!0}),ue.AuthProxy=void 0;const t=po(),n=ke;class o extends t.WebClient{constructor(a,r,i){super(i,r),this._apiRoot=a}getApiToken(a,r,i=null,d=null,c=1){return e(this,void 0,void 0,function*(){i||(i=new Date,i.setDate(i.getDate()-1)),d||(d=new Date,d.setDate(d.getDate()+1));const u=`${this._apiRoot}/api/api-keys/get-new?nbf=${i.toISOString()}&exp=${d.toISOString()}&tenantId=${r}&appId=${a}&permitCount=${c}`;return(yield this.get(u)).text()})}getGoogleIdentityJwtToken(a){return e(this,void 0,void 0,function*(){const r=`${this._apiRoot}/api/GoogleIdentity`;var i=yield this.postJson(r,a);if(i.status!=n.StatusCodes.OK)throw console.error("User authorization failed"),new Error("Error");var d=yield i.text();return d})}authorizeGoogleUser(a,r){return e(this,void 0,void 0,function*(){const i=`${this._apiRoot}/api/GoogleIdentity/authorize-user?tenantId=${a}`;var d=yield this.postJson(i,r);if(d.status!=n.StatusCodes.OK)throw console.error("User authorization failed"),new Error("Error");var c=yield d.text();return c})}}return ue.AuthProxy=o,ue}var et;function po(){return et||(et=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AuthProxy=e.SolrProxy=e.WorkflowProxy=e.CollectionProxy=e.ItemProxy=e.FormDataProxy=e.FormTemplateProxy=e.CrudProxy=e.WebClient=void 0;var t=le;Object.defineProperty(e,"WebClient",{enumerable:!0,get:function(){return t.WebClient}});var n=W;Object.defineProperty(e,"CrudProxy",{enumerable:!0,get:function(){return n.CrudProxy}});var o=Ie;Object.defineProperty(e,"FormTemplateProxy",{enumerable:!0,get:function(){return o.FormTemplateProxy}});var l=_e;Object.defineProperty(e,"FormDataProxy",{enumerable:!0,get:function(){return l.FormDataProxy}});var a=De;Object.defineProperty(e,"ItemProxy",{enumerable:!0,get:function(){return a.ItemProxy}});var r=Re;Object.defineProperty(e,"CollectionProxy",{enumerable:!0,get:function(){return r.CollectionProxy}});var i=he;Object.defineProperty(e,"WorkflowProxy",{enumerable:!0,get:function(){return i.WorkflowProxy}});var d=ge;Object.defineProperty(e,"SolrProxy",{enumerable:!0,get:function(){return d.SolrProxy}});var c=_n();Object.defineProperty(e,"AuthProxy",{enumerable:!0,get:function(){return c.AuthProxy}})}(ze)),ze}var ne={},Dn=b&&b.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(t,n);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,l)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),Rn=b&&b.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),To=b&&b.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Dn(t,e,n);return Rn(t,e),t};Object.defineProperty(ne,"__esModule",{value:!0});ne.models=ne.helpers=void 0;const hn=To(ye());ne.helpers=hn;const gn=To(S);ne.models=gn;var ie={},Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});var Nn=b&&b.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(t,n);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,l)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),Sn=b&&b.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mo=b&&b.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Nn(t,e,n);return Sn(t,e),t};Object.defineProperty(ie,"__esModule",{value:!0});ie.models=ie.helpers=void 0;const Fn=mo(fe);ie.helpers=Fn;const Pn=mo(Eo);ie.models=Pn;var fo={},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.formatBytes=void 0;const An=(e,t=2)=>{if(!+e)return"0 Bytes";const n=1024,o=t<0?0:t,l=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(e)/Math.log(n)),l.length-1);return`${parseFloat((e/Math.pow(n,a)).toFixed(o)).toLocaleString()} ${l[a]}`};Ne.formatBytes=An;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatBytes=void 0;var t=Ne;Object.defineProperty(e,"formatBytes",{enumerable:!0,get:function(){return t.formatBytes}})})(fo);var Cn=b&&b.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(t,n);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,l)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),xn=b&&b.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Se=b&&b.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Cn(t,e,n);return xn(t,e),t};Object.defineProperty(J,"__esModule",{value:!0});J.utils=J.solr=J.forms=vo=J.api=void 0;const bn=Se(po());var vo=J.api=bn;const Un=Se(ne);J.forms=Un;const Mn=Se(ie);J.solr=Mn;const Ln=Se(fo);J.utils=Ln;const Y=$o("FormSubmissionStore",{state:()=>({lang:"en",form:null,formData:{},files:[],fileKeys:[],apiRoot:null,securityToken:null}),actions:{setForm(e){this.form=e,this.formData||(console.log("new form created"),this.formData=k.createFormData(this.form,this.lang))},loadSubmission(e){let t=`${this.apiRoot}/api/form-submissions/${e}`;console.log(t),fetch(t,{method:"GET"}).then(n=>n.json()).then(n=>{this.formData=n}).catch(n=>{console.error("Load Form API Error:",n)})},validateFormData(){return tn(this.formData,this.form)},async indexFormDataInSolr(e){var t,n;const o=`${this.apiRoot}/api/solr/create`;if(((n=(t=this.formData)==null?void 0:t.id)==null?void 0:n.toString())===oe.EMPTY&&(this.formData.id=oe.create().toString()),!this.validateFormData())return ce.PRECONDITION_FAILED;const l=fe.toSolrDocJson(this.formData,"data",this.form);l.tenantId=e;var a=await fetch(o,{body:JSON.stringify(l),method:"POST",headers:{"Tenant-Id":`${e}`,"Content-Type":"application/json",encType:"multipart/form-data",Authorization:`Bearer ${this.securityToken}`}});return a.status},async updateForm(e){if(!this.validateFormData())return ce.PRECONDITION_FAILED;const t=fe.toSolrDocJson(this.formData,"data",this.form);return t.tenantId=e,console.log("solrDocJson ",JSON.stringify(t)),await new vo.SolrProxy(this.apiRoot,e,this.securityToken).updateSolrDocJson(t)},saveForm(){var e,t;if(!this.form){console.error("Cannot save null form.");return}const n=((t=(e=this.form)==null?void 0:e.id)==null?void 0:t.toString())===oe.EMPTY;let o=`${this.apiRoot}/api/forms`,l="";n?(this.form.id=oe.create().toString(),l="POST",this.form.status=rt.Draft):(console.log("Updating existing form."),o=`${o}/${this.form.id}`,l="PUT"),fetch(o,{body:JSON.stringify(this.form),method:l,headers:{encType:"multipart/form-data","Content-Type":"application/json"}}).then(a=>{a.ok?console.log("sucess"):console.log("error")}).catch(a=>{console.error("Form Save API Error:",a)})},clearMessages(){},addFile(e,t){var n,o;(n=this.files)==null||n.push(e),(o=this.fileKeys)==null||o.push(t.toString())},putFile(e,t){Array.from(e).forEach(n=>{console.log("fieldId:"+t),this.addFile(n,t)})}}}),Vn={key:0},kn={key:1},wn={key:2},jn={key:3},Gn={key:4},Bn={key:5},Hn={key:6},$n={key:7},Oo=L({__name:"Text",props:{model:{},textType:{},decimalPoints:{}},setup(e){const t=e,n=t.decimalPoints?t.decimalPoints:2;return(o,l)=>{const a=j("b-form-input"),r=j("b-form-textarea");return p(),m(U,null,[o.textType===I(S.FieldType).ShortAnswer?(p(),m("div",Vn,[C(a,{modelValue:o.model.value,"onUpdate:modelValue":l[0]||(l[0]=i=>o.model.value=i)},null,8,["modelValue"])])):o.textType===I(S.FieldType).Paragraph?(p(),m("div",kn,[C(r,{modelValue:o.model.value,"onUpdate:modelValue":l[1]||(l[1]=i=>o.model.value=i),rows:"3","max-rows":"6"},null,8,["modelValue"])])):o.textType===I(S.FieldType).RichText?(p(),m("div",wn,[C(r,{modelValue:o.model.value,"onUpdate:modelValue":l[2]||(l[2]=i=>o.model.value=i),rows:"3","max-rows":"6"},null,8,["modelValue"])])):P("",!0),o.textType===I(S.FieldType).Email?(p(),m("div",jn,[C(a,{modelValue:o.model.value,"onUpdate:modelValue":l[3]||(l[3]=i=>o.model.value=i),type:"email"},null,8,["modelValue"])])):P("",!0),o.textType===I(S.FieldType).Integer?(p(),m("div",Gn,[C(a,{type:"number",step:"1",modelValue:o.model.value,"onUpdate:modelValue":l[4]||(l[4]=i=>o.model.value=i)},null,8,["modelValue"])])):P("",!0),o.textType===I(S.FieldType).Decimal?(p(),m("div",Bn,[C(a,{type:"number",step:Math.pow(10,-I(n)),modelValue:o.model.value,"onUpdate:modelValue":l[5]||(l[5]=i=>o.model.value=i)},null,8,["step","modelValue"])])):P("",!0),o.textType===I(S.FieldType).Date?(p(),m("div",Hn,[C(a,{modelValue:o.model.value,"onUpdate:modelValue":l[6]||(l[6]=i=>o.model.value=i),type:"date"},null,8,["modelValue"])])):P("",!0),o.textType===I(S.FieldType).DateTime?(p(),m("div",$n,[C(a,{type:"datetime-local",modelValue:o.model.value,"onUpdate:modelValue":l[7]||(l[7]=i=>o.model.value=i)},null,8,["modelValue"])])):P("",!0)],64)}}}),Yn=["model"],Qn={class:"col col-sm-11"},qn={key:0,class:"col-sm-1"},Jn={key:0,class:"col-sm-1"},Wn=L({__name:"MonolingualTextInput",props:{model:{},modelData:{}},setup(e){const t=e,n=Y(),o=V(()=>{var r;return t.modelData?t.modelData:(r=n.formData.fieldData)==null?void 0:r.find(i=>i.fieldId==t.model.id)}),l=()=>{var r;return(r=o.value.monolingualTextValues)==null?void 0:r.push(k.createText(null))},a=r=>{var i;(i=o.value.monolingualTextValues)==null||i.splice(r,1)};return(r,i)=>{const d=j("font-awesome-icon");return p(),m(U,null,[(p(!0),m(U,null,G(o.value.monolingualTextValues,(c,u)=>{var f;return p(),m("div",{key:c.id,model:c,class:"row mb-3"},[g("div",Qn,[C(Oo,{model:c,"text-type":r.model.type},null,8,["model","text-type"])]),((f=o.value.monolingualTextValues)==null?void 0:f.length)>1?(p(),m("div",qn,[C(d,{icon:"fa-solid fa-circle-xmark",onClick:s=>a(u),class:"fa-icon delete"},null,8,["onClick"])])):P("",!0)],8,Yn)}),128)),r.model.isMultiValued?(p(),m("div",Jn,[C(d,{icon:"fa-solid fa-circle-plus",onClick:i[0]||(i[0]=c=>l()),class:"fa-icon plus add-option"})])):P("",!0)],64)}}}),Kn=L({__name:"TextCollection",props:{model:{},textType:{}},setup(e){return(t,n)=>(p(!0),m(U,null,G(t.model.values,o=>(p(),w(Oo,{key:o.id,model:o,"text-type":t.textType},null,8,["model","text-type"]))),128))}}),zn=["model"],Xn={class:"col col-sm-11"},Zn={class:"col col-sm-1"},ei={key:0},ti={key:0},oi=L({__name:"MultilingualTextInput",props:{model:{},modelData:{}},setup(e){const t=e,n=Y(),o=V(()=>{var r;return t.modelData?t.modelData:(r=n.formData.fieldData)==null?void 0:r.find(i=>i.fieldId==t.model.id)}),l=()=>{var r;return(r=o.value.multilingualTextValues)==null?void 0:r.push(k.createTextCollection(n.lang))},a=r=>{var i;console.log(r),(i=o.value.multilingualTextValues)==null||i.splice(r,1)};return(r,i)=>{var d;const c=j("font-awesome-icon");return p(),m(U,null,[(p(!0),m(U,null,G((d=o.value)==null?void 0:d.multilingualTextValues,(u,f)=>(p(),m("div",{key:u.id,model:u,class:"row mb-3"},[g("div",Xn,[C(Kn,{model:u,"text-type":r.model.type},null,8,["model","text-type"])]),g("div",Zn,[o.value.multilingualTextValues.length>1?(p(),m("div",ei,[C(c,{icon:"fa-solid fa-circle-xmark",onClick:s=>a(f),class:"fa-icon delete"},null,8,["onClick"])])):P("",!0)])],8,zn))),128)),r.model.isMultiValued?(p(),m("div",ti,[C(c,{icon:"fa-solid fa-circle-plus",onClick:i[0]||(i[0]=u=>l()),class:"fa-icon plus add-option"})])):P("",!0)],64)}}}),ni={key:0},ii=["onUpdate:modelValue"],yo=L({__name:"ExtendedOptions",props:{modelData:{},optionId:{}},setup(e){const t=e,n=a=>{var r,i;console.log(a),(i=(r=t.modelData)==null?void 0:r.extendedOptionValues.find(d=>d.optionId==t.optionId))==null||i.values.splice(a,1)},o=()=>{var a,r;(r=(a=t.modelData)==null?void 0:a.extendedOptionValues.find(i=>i.optionId==t.optionId))==null||r.values.push("")},l=V(()=>{var a,r;return(r=(a=t.modelData)==null?void 0:a.extendedOptionValues.find(i=>i.optionId==t.optionId))==null?void 0:r.values});return(a,r)=>{const i=j("font-awesome-icon");return a.modelData&&a.modelData.extendedOptionValues?(p(),m("div",ni,[g("div",null,[(p(!0),m(U,null,G(l.value,(d,c)=>(p(),m("div",{class:"ext-option",key:c},[Oe(g("input",{class:"ext-option-text",type:"text","onUpdate:modelValue":u=>l.value[c]=u},null,8,ii),[[nt,l.value[c]]]),C(i,{icon:"fa-solid fa-circle-xmark",onClick:u=>n(c),class:"fa-icon delete ext-op-delete"},null,8,["onClick"])]))),128)),a.modelData&&a.modelData.extendedOptionValues.length>0?(p(),m("button",{key:0,class:"ext-option-button",onClick:r[0]||(r[0]=d=>o())},"Add Option")):P("",!0)])])):P("",!0)}}}),li=["checked","onChange"],ai={key:0},ri=L({__name:"Checkboxes",props:{model:{},modelData:{}},setup(e){const t=e,n=Y(),o=V(()=>{var r;return t.modelData?t.modelData:(r=n.formData.fieldData)==null?void 0:r.find(i=>i.fieldId==t.model.id)}),l=r=>{var i;return(i=o.value.selectedOptionIds)==null?void 0:i.includes(r)},a=(r,i)=>{var d,c,u,f,s,E,y;if(i){if((d=o.value.selectedOptionIds)==null||d.push(r),(u=(c=t.model.options)==null?void 0:c.find(h=>h.id==r))!=null&&u.isExtendedInput){o.value.extendedOptionValues=[];const h={optionId:r,values:[]},A="";h.values.push(A),o.value.extendedOptionValues.push(h)}}else(s=o.value.selectedOptionIds)==null||s.splice((f=o.value.selectedOptionIds)==null?void 0:f.indexOf(r),1),(y=(E=t.model.options)==null?void 0:E.find(h=>h.id==r))!=null&&y.isExtendedInput&&(o.value.extendedOptionValues=[])};return(r,i)=>(p(!0),m(U,null,G(r.model.options,d=>(p(),m("div",{key:d.id,class:"option-field"},[g("input",{type:"checkbox",checked:l(d.id),onChange:c=>a(d.id,c.target.checked)},null,40,li),Q(" "+$(k.getOptionText(d,I(n).lang))+" ",1),d.isExtendedInput?(p(),m("span",ai,[C(yo,{modelData:r.modelData,optionId:d.id},null,8,["modelData","optionId"])])):P("",!0)]))),128))}}),di={key:0},ui=["onUpdate:modelValue"],si={class:"col-sm-2"},ci=L({__name:"CustomOptions",props:{model:{},modelData:{}},setup(e){const t=e,n=Y(),o=V(()=>{var r;return t.modelData?t.modelData:(r=n.formData.fieldData)==null?void 0:r.find(i=>i.fieldId==t.model.id)}),l=r=>{var i;console.log(r),(i=o.value.customOptionValues)==null||i.splice(r,1)},a=()=>{o.value.customOptionValues||(o.value.customOptionValues=[]),o.value.customOptionValues.push("")};return(r,i)=>{const d=j("font-awesome-icon");return o.value&&o.value.customOptionValues?(p(),m("div",di,[g("div",null,[(p(!0),m(U,null,G(o.value.customOptionValues,(c,u)=>(p(),m("span",{class:"custom-option",key:u},[Oe(g("input",{type:"text","onUpdate:modelValue":f=>o.value.customOptionValues[u]=f},null,8,ui),[[nt,o.value.customOptionValues[u]]]),C(d,{icon:"fa-solid fa-circle-xmark",onClick:f=>l(u),class:"fa-icon delete"},null,8,["onClick"])]))),128))]),g("div",si,[C(d,{icon:"fa-solid fa-circle-plus",onClick:i[0]||(i[0]=c=>a()),class:"fa-icon plus add-option"})])])):P("",!0)}}}),pi={class:"col-sm-8"},Ti={id:"dataOptions"},Ei={class:"col-sm-2"},mi=L({__name:"DataList",props:{model:{},modelData:{}},setup(e){const t=e,n=Y(),o=V(()=>{var i;return t.modelData?t.modelData:(i=n.formData.fieldData)==null?void 0:i.find(d=>d.fieldId==t.model.id)}),l=i=>{var d,c;const u=(c=(d=t.model)==null?void 0:d.options)==null?void 0:c.filter(f=>f.id===i).at(0);return u?k.getOptionText(u,n.lang):""},a=i=>{var d,c;const u=(c=(d=t.model)==null?void 0:d.options)==null?void 0:c.filter(f=>k.getOptionText(f,n.lang)===i).at(0);return u==null?void 0:u.id},r=V({get:()=>{var i,d;return l((d=(i=o==null?void 0:o.value)==null?void 0:i.selectedOptionIds)==null?void 0:d.at(0))},set:i=>{const d=a(i);d?o.value.selectedOptionIds=[d]:o.value.selectedOptionIds=[]}});return(i,d)=>{const c=j("b-form-input");return p(),m(U,null,[g("div",pi,[C(c,{list:"dataOptions",id:"model.id",name:"model.id",modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=u=>r.value=u)},null,8,["modelValue"]),g("datalist",Ti,[(p(!0),m(U,null,G(i.model.options,u=>(p(),m("option",{key:u.id},$(k.getOptionText(u,I(n).lang)),1))),128))])]),g("div",Ei,[C(ci,{model:i.model},null,8,["model"])])],64)}}}),fi={class:"col-sm-3"},vi=["value"],Oi=L({__name:"DropDown",props:{model:{},modelData:{}},setup(e){const t=e,n=Y(),o=V(()=>{var a;return t.modelData?t.modelData:(a=n.formData.fieldData)==null?void 0:a.find(r=>r.fieldId==t.model.id)}),l=V({get:()=>{var a;return(a=o==null?void 0:o.value)!=null&&a.selectedOptionIds&&o.value.selectedOptionIds.length>0?o.value.selectedOptionIds[0]:oe.EMPTY},set:a=>o.value.selectedOptionIds=[a]});return(a,r)=>(p(),m("div",fi,[Oe(g("select",{"onUpdate:modelValue":r[0]||(r[0]=i=>l.value=i),class:"form-select"},[(p(!0),m(U,null,G(a.model.options,i=>(p(),m("option",{key:i.id,value:i.id},$(k.getOptionText(i,I(n).lang)),9,vi))),128))],512),[[Uo,l.value]])]))}}),yi=["name","value"],Ii=L({__name:"RadioButtons",props:{model:{},modelData:{}},setup(e){const t=e,n=Y(),o=V(()=>{var a;return t.modelData?t.modelData:(a=n.formData.fieldData)==null?void 0:a.find(r=>r.fieldId==t.model.id)}),l=V({get:()=>{var a;return(a=o==null?void 0:o.value)!=null&&a.selectedOptionIds&&o.value.selectedOptionIds.length>0?o.value.selectedOptionIds[0]:oe.EMPTY},set:a=>o.value.selectedOptionIds=[a]});return(a,r)=>(p(!0),m(U,null,G(a.model.options,i=>(p(),m("div",{key:i.id,class:"option-field"},[Oe(g("input",{type:"radio",name:a.model.id.toString(),value:i.id,"onUpdate:modelValue":r[0]||(r[0]=d=>l.value=d)},null,8,yi),[[Mo,l.value]]),Q(" "+$(k.getOptionText(i,I(n).lang)),1)]))),128))}}),_i=g("br",null,null,-1),Di=["innerHTML"],Ri=L({__name:"InfoSection",props:{model:{}},setup(e){const t=e,n=Y(),o=k.getFieldDescription(t.model,n.lang);return(l,a)=>(p(),m("div",null,[_i,g("div",{innerHTML:I(o),class:"info-field-description"},null,8,Di)]))}}),we=e=>(Ue("data-v-568e0afa"),e=e(),Me(),e),hi={key:0,class:"row"},gi=we(()=>g("div",{class:"col-sm-2"},[g("h6",null,"File:")],-1)),Ni={class:"col-sm-10"},Si=["onDragenter","onDragleave","onDrop"],Fi=we(()=>g("div",null,"Drag or Drop File",-1)),Pi=we(()=>g("div",null,"OR",-1)),Ai=["for"],Ci=["id"],xi=L({__name:"AttachmentField",props:{model:{},elementId:{}},setup(e){const t=e,n=t.model.type===S.FieldType.AttachmentField,o=t.elementId,l=tt(!1),a=()=>{l.value=!l.value};return(r,i)=>I(n)?(p(),m("div",hi,[gi,g("div",Ni,[g("div",{class:Lo(["dropzone",{"active-dropzone":l.value}]),onDragenter:Ee(a,["prevent"]),onDragleave:Ee(a,["prevent"]),onDragover:i[0]||(i[0]=Ee(()=>{},["prevent"])),onDrop:Ee(a,["prevent"])},[Fi,Pi,g("label",{for:I(o)},"Select File ",8,Ai),g("input",{type:"file",id:I(o)},null,8,Ci)],42,Si)])])):P("",!0)}}),Fe=(e,t)=>{const n=e.__vccOpts||e;for(const[o,l]of t)n[o]=l;return n},bi=Fe(xi,[["__scopeId","data-v-568e0afa"]]),Io=e=>(Ue("data-v-7a0473e1"),e=e(),Me(),e),Ui={class:"composite-field-heading"},Mi={key:0,class:"required"},Li=["data-hover"],Vi={class:"lightGrayBorder compositeField"},ki={class:"delete-button"},wi=Io(()=>g("br",null,null,-1)),ji=Io(()=>g("br",null,null,-1)),Gi=L({__name:"CompositeField",props:{model:{},modelData:{},lang:{},title:{},description:{}},setup(e){const t=e,n=V(()=>{var a;return(a=t.modelData)==null?void 0:a.compositeFieldDataValues}),o=()=>{var a;const r=pe.createCompositeFieldData(t.model,t.lang);(a=n.value)==null||a.push(r)},l=a=>{var r;(r=t.modelData.compositeFieldDataValues)==null||r.splice(a,1)};return(a,r)=>{var i;const d=j("font-awesome-icon");return p(),m(U,null,[g("div",Ui,$(a.title),1),Q(),a.model.isRequired?(p(),m("span",Mi,"*")):P("",!0),Q(),a.description?(p(),m("span",{key:1,class:"hovertext","data-hover":a.description},null,8,Li)):P("",!0),g("div",null,[(p(!0),m(U,null,G((i=a.modelData)==null?void 0:i.compositeFieldDataValues,(c,u)=>(p(),m("div",{key:u},[g("div",Vi,[g("div",ki,[C(d,{icon:"fa-solid fa-circle-xmark",onClick:f=>l(u),class:"fa-icon field-delete"},null,8,["onClick"])]),wi,ji,(p(!0),m(U,null,G(a.model.fields,(f,s)=>(p(),m("div",{key:f.id},[C(_o,{model:f,modelData:c.fieldData[s]},null,8,["model","modelData"])]))),128))])]))),128)),g("button",{class:"add-button",onClick:r[0]||(r[0]=c=>o())},"Add Another Project")])],64)}}}),Bi=Fe(Gi,[["__scopeId","data-v-7a0473e1"]]),Hi={key:0,class:"required"},$i=["data-hover"],Yi=["data-bs-target","aria-controls"],Qi=["id"],qi={class:"card card-body"},Ji={class:"row"},Wi=["checked","onChange"],Ki={key:0},zi=L({__name:"CheckboxGrid",props:{model:{},modelData:{},title:{},description:{}},setup(e){const t=e,n=t.model.id,o=Y(),l=V(()=>{var i;return t.modelData?t.modelData:(i=o.formData.fieldData)==null?void 0:i.find(d=>d.fieldId==t.model.id)}),a=i=>{var d;return(d=l.value.selectedOptionIds)==null?void 0:d.includes(i)},r=(i,d)=>{var c,u,f,s,E,y,h;if(d){if((c=l.value.selectedOptionIds)==null||c.push(i),(f=(u=t.model.options)==null?void 0:u.find(A=>A.id==i))!=null&&f.isExtendedInput){l.value.extendedOptionValues=[];const A={optionId:i,values:[]},O="";A.values.push(O),l.value.extendedOptionValues.push(A)}}else(E=l.value.selectedOptionIds)==null||E.splice((s=l.value.selectedOptionIds)==null?void 0:s.indexOf(i),1),(h=(y=t.model.options)==null?void 0:y.find(A=>A.id==i))!=null&&h.isExtendedInput&&(l.value.extendedOptionValues=[])};return(i,d)=>{const c=j("font-awesome-icon");return p(),m(U,null,[g("p",null,[Q($(i.title)+" ",1),i.model.isRequired?(p(),m("span",Hi,"*")):P("",!0),Q(),i.description?(p(),m("span",{key:1,class:"hovertext","data-hover":i.description},[C(c,{icon:"fas fa-question-circle",class:"fas fa-question-circle"})],8,$i)):P("",!0),Q(" : "),g("button",{class:"collapse-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse_"+I(n),"aria-expanded":"false","aria-controls":"collapse_"+I(n)}," Select Values ",8,Yi)]),g("div",{class:"collapse",id:"collapse_"+I(n)},[g("div",qi,[g("div",Ji,[(p(!0),m(U,null,G(i.model.options,u=>(p(),m("div",{key:u.id,class:"col-sm-4 option-field"},[g("input",{type:"checkbox",checked:a(u.id),onChange:f=>r(u.id,f.target.checked)},null,40,Wi),Q(" "+$(k.getOptionText(u,I(o).lang))+" ",1),u.isExtendedInput?(p(),m("span",Ki,[C(yo,{modelData:i.modelData,optionId:u.id},null,8,["modelData","optionId"])])):P("",!0)]))),128))])])],8,Qi)],64)}}}),Xi=e=>(Ue("data-v-67d64855"),e=e(),Me(),e),Zi={key:0,class:"info-field"},el={class:"info-field-header"},tl={key:0},ol={key:1,class:"required"},nl=["data-hover"],il={key:3},ll={key:0,class:"alert alert-danger"},al={key:7},rl={key:2},dl=Xi(()=>g("br",null,null,-1)),ul=L({__name:"Field",props:{model:{},modelData:{}},setup(e){const t=e,n=Y(),o=k.getFieldTitle(t.model,n.lang),l=k.getFieldDescription(t.model,n.lang),a=k.isMultilingualTextInputField(t.model),r=k.isMonolingualTextInputField(t.model),i=t.model.type===S.FieldType.AttachmentField,d=t.model.type===S.FieldType.CompositeField,c=t.model.id.toString(),u=s=>{n.putFile(s.dataTransfer.files,t.model.id)},f=s=>{const E=document.getElementById(s);n.putFile(E==null?void 0:E.files,t.model.id)};return(s,E)=>{const y=j("font-awesome-icon"),h=j("b-col"),A=j("b-row"),O=j("b-container");return p(),w(O,null,{default:Te(()=>[C(A,null,{default:Te(()=>[s.model.type===I(S.FieldType).InfoSection?(p(),m("div",Zi,[g("h3",el,$(I(o)),1),s.model.type===I(S.FieldType).InfoSection?(p(),w(Ri,{key:0,model:s.model},null,8,["model"])):P("",!0)])):s.model.type!==I(S.FieldType).CheckboxGrid?(p(),w(h,{key:1,class:"col-sm-4"},{default:Te(()=>[s.model.type!==I(S.FieldType).CompositeField?(p(),m("span",tl,$(I(o)),1)):P("",!0),s.model.isRequired?(p(),m("span",ol,"*")):P("",!0),Q(),I(l)?(p(),m("span",{key:2,class:"hovertext","data-hover":I(l)},[C(y,{icon:"fas fa-question-circle",class:"fas fa-question-circle"})],8,nl)):P("",!0),Q(),s.model.type!==I(S.FieldType).CompositeField?(p(),m("span",il,":")):P("",!0)]),_:1})):P("",!0),C(h,{class:"col-sm-8"},{default:Te(()=>{var v,T;return[!((v=s.modelData)!=null&&v.isValid)&&s.model.type!=I(S.FieldType).InfoSection?(p(),m("div",ll,$((T=s.modelData)==null?void 0:T.validationError),1)):P("",!0),s.model.type===I(S.FieldType).Checkboxes?(p(),w(ri,{key:1,model:s.model,modelData:s.modelData},null,8,["model","modelData"])):P("",!0),s.model.type===I(S.FieldType).DataList?(p(),w(mi,{key:2,model:s.model,modelData:s.modelData},null,8,["model","modelData"])):P("",!0),s.model.type===I(S.FieldType).DropDown?(p(),w(Oi,{key:3,model:s.model,modelData:s.modelData},null,8,["model","modelData"])):P("",!0),s.model.type===I(S.FieldType).RadioButtons?(p(),w(Ii,{key:4,model:s.model,modelData:s.modelData},null,8,["model","modelData"])):P("",!0),I(a)?(p(),w(oi,{key:5,model:s.model,modelData:s.modelData},null,8,["model","modelData"])):P("",!0),I(r)?(p(),w(Wn,{key:6,model:s.model,modelData:s.modelData},null,8,["model","modelData"])):P("",!0),I(i)?(p(),m("div",al,[C(bi,{model:s.model,elementId:I(c),onDrop:u,onChange:E[0]||(E[0]=R=>f(I(c)))},null,8,["model","elementId"])])):P("",!0)]}),_:1}),I(d)?(p(),m("div",rl,[C(Bi,{model:s.model,modelData:s.modelData,lang:null,title:I(o),description:I(l)},null,8,["model","modelData","title","description"])])):P("",!0),s.model.type===I(S.FieldType).CheckboxGrid?(p(),w(zi,{key:3,model:s.model,modelData:s.modelData,title:I(o),description:I(l)},null,8,["model","modelData","title","description"])):P("",!0)]),_:1}),dl]),_:1})}}}),_o=Fe(ul,[["__scopeId","data-v-67d64855"]]),sl=L({__name:"Form",props:{model:{},formData:{}},setup(e){const t=e;return(n,o)=>{var l;return p(!0),m(U,null,G((l=n.model)==null?void 0:l.fields,a=>(p(),w(_o,{key:a.id,model:a,modelData:I(pe.getFieldDataFromFormData)(t.formData,a.id)},null,8,["model","modelData"]))),128)}}}),cl={class:"control"},pl=["disabled"],Tl=["disabled"],El=L({__name:"App",props:{apiRoot:{},dataStore:{},securityToken:{},formTemplateId:{},formTemplate:{},formData:{},isUpdate:{type:Boolean},piniaInstance:{},tanentId:{},msg:{}},emits:["arcFormSubmit"],setup(e,{emit:t}){const n=e,o=Y(n.piniaInstance);o.apiRoot=n.apiRoot,o.securityToken=n.securityToken,o.formData=n.formData,n.formTemplate&&o.setForm(n.formTemplate);const l=()=>{n.dataStore==="Solr"&&o.indexFormDataInSolr(n.tanentId).then(d=>{t("arcFormSubmit",d)})},a=()=>{n.dataStore==="Solr"&&o.updateForm(n.tanentId).then(d=>{t("arcFormSubmit",d)})},r=V(()=>o.formData),i=V(()=>!!o.form);return(d,c)=>(p(),m(U,null,[g("h1",null,$(d.msg),1),I(o).form?(p(),w(sl,{key:0,model:I(o).form,"form-data":r.value},null,8,["model","form-data"])):P("",!0),g("div",cl,[d.isUpdate?P("",!0):(p(),m("button",{key:0,type:"button",class:"submit-button",disabled:!i.value,onClick:l},"Submit",8,pl)),d.isUpdate?(p(),m("button",{key:1,type:"button",class:"submit-button",disabled:!i.value,onClick:a},"Update",8,Tl)):P("",!0)])],64))}}),fl=Fe(El,[["__scopeId","data-v-d69eb3e7"]]);export{fl as F};
