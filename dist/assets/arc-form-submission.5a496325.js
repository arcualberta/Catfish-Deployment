import{j as go,k as ot,w as Ce,l as Fo,m as So,n as me,p as nt,t as No,q as Po,s as Ao,v as Co,x as xo,d as L,y as k,o as p,c as E,e as N,z as Y,g as R,A as j,B as P,F as U,C as bo,D as Uo,E as B,G,H as pe,f as x,i as W,I as Oe,K as Mo,L as Lo,M as it,N as Vo,O as Te,P as Me,Q as Le}from"./index.671883ec.js";/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let lt;const Ve=e=>lt=e,ko=Symbol();function xe(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var se;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(se||(se={}));const wo=!1,at=()=>{};function Ge(e,t,n,o=at){e.push(t);const l=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),o())};return!n&&Ao()&&Co(l),l}function te(e,...t){e.slice().forEach(n=>{n(...t)})}const jo=e=>e();function be(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,o)=>e.set(o,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],l=e[n];xe(l)&&xe(o)&&e.hasOwnProperty(n)&&!me(o)&&!nt(o)?e[n]=be(l,o):e[n]=o}return e}const Go=Symbol();function Bo(e){return!xe(e)||!e.hasOwnProperty(Go)}const{assign:Z}=Object;function $o(e){return!!(me(e)&&e.effect)}function Ho(e,t,n,o){const{state:l,actions:a,getters:r}=t,i=n.state.value[e];let d;function c(){!i&&(n.state.value[e]=l?l():{});const s=bo(n.state.value[e]);return Z(s,a,Object.keys(r||{}).reduce((v,u)=>(v[u]=Uo(k(()=>{Ve(n);const T=n._s.get(e);return r[u].call(T,T)})),v),{}))}return d=rt(e,c,t,n,o,!0),d}function rt(e,t,n={},o,l,a){let r;const i=Z({actions:{}},n),d={deep:!0};let c,s,v=[],u=[],T;const _=o.state.value[e];!a&&!_&&(o.state.value[e]={}),ot({});let g;function A(y){let F;c=s=!1,typeof y=="function"?(y(o.state.value[e]),F={type:se.patchFunction,storeId:e,events:T}):(be(o.state.value[e],y),F={type:se.patchObject,payload:y,storeId:e,events:T});const C=g=Symbol();xo().then(()=>{g===C&&(c=!0)}),s=!0,te(v,F,o.state.value[e])}const O=a?function(){const{state:y}=n,F=y?y():{};this.$patch(C=>{Z(C,F)})}:at;function I(){r.stop(),v=[],u=[],o._s.delete(e)}function D(y,F){return function(){Ve(o);const C=Array.from(arguments),w=[],q=[];function J($){w.push($)}function Ro($){q.push($)}te(u,{args:C,name:y,store:m,after:J,onError:Ro});let ae;try{ae=F.apply(this&&this.$id===e?this:m,C)}catch($){throw te(q,$),$}return ae instanceof Promise?ae.then($=>(te(w,$),$)).catch($=>(te(q,$),Promise.reject($))):(te(w,ae),ae)}}const f={_p:o,$id:e,$onAction:Ge.bind(null,u),$patch:A,$reset:O,$subscribe(y,F={}){const C=Ge(v,y,F.detached,()=>w()),w=r.run(()=>Ce(()=>o.state.value[e],q=>{(F.flush==="sync"?s:c)&&y({storeId:e,type:se.direct,events:T},q)},Z({},d,F)));return C},$dispose:I},m=Fo(f);o._s.set(e,m);const h=(o._a&&o._a.runWithContext||jo)(()=>o._e.run(()=>(r=So()).run(t)));for(const y in h){const F=h[y];if(me(F)&&!$o(F)||nt(F))a||(_&&Bo(F)&&(me(F)?F.value=_[y]:be(F,_[y])),o.state.value[e][y]=F);else if(typeof F=="function"){const C=D(y,F);h[y]=C,i.actions[y]=F}}return Z(m,h),Z(No(m),h),Object.defineProperty(m,"$state",{get:()=>o.state.value[e],set:y=>{A(F=>{Z(F,y)})}}),o._p.forEach(y=>{Z(m,r.run(()=>y({store:m,app:o._a,pinia:o,options:i})))}),_&&a&&n.hydrate&&n.hydrate(m.$state,_),c=!0,s=!0,m}function Yo(e,t,n){let o,l;const a=typeof t=="function";typeof e=="string"?(o=e,l=a?n:t):(l=e,o=e.id);function r(i,d){const c=Po();return i=i||(c?go(ko,null):null),i&&Ve(i),i=lt,i._s.has(o)||(a?rt(o,t,l,i):Ho(o,l,i)),i._s.get(o)}return r.$id=o,r}var b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qo(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var l=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return e[o]}})}),n}var ee={};ee.__esModule=!0;var qo=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return e.isGuid=function(t){var n=t.toString();return t&&(t instanceof e||e.validator.test(n))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(t){return new e(t)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(t){for(var n="",o=0;o<t;o++)n+=((1+Math.random())*65536|0).toString(16).substring(1);return n},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}(),oe=ee.Guid=qo,M={};Object.defineProperty(M,"__esModule",{value:!0});var dt=M.eState=M.CompositeFieldType=M.InfoSectionType=M.OptionFieldType=M.MonolingualFieldType=M.TextType=M.FieldType=void 0,Be;(function(e){e[e.ShortAnswer=0]="ShortAnswer",e[e.Paragraph=1]="Paragraph",e[e.RichText=2]="RichText",e[e.Date=3]="Date",e[e.DateTime=4]="DateTime",e[e.Decimal=5]="Decimal",e[e.Integer=6]="Integer",e[e.Email=7]="Email",e[e.Checkboxes=8]="Checkboxes",e[e.DataList=9]="DataList",e[e.RadioButtons=10]="RadioButtons",e[e.DropDown=11]="DropDown",e[e.InfoSection=12]="InfoSection",e[e.AttachmentField=13]="AttachmentField",e[e.CompositeField=14]="CompositeField",e[e.CheckboxGrid=15]="CheckboxGrid"})(Be||(M.FieldType=Be={}));var $e;(function(e){e[e.ShortAnswer=0]="ShortAnswer",e[e.Paragraph=1]="Paragraph",e[e.RichText=2]="RichText",e[e.AttachmentField=13]="AttachmentField"})($e||(M.TextType=$e={}));var He;(function(e){e[e.Date=3]="Date",e[e.DateTime=4]="DateTime",e[e.Decimal=5]="Decimal",e[e.Integer=6]="Integer",e[e.Email=7]="Email"})(He||(M.MonolingualFieldType=He={}));var Ye;(function(e){e[e.Checkboxes=8]="Checkboxes",e[e.CheckboxGrid=15]="CheckboxGrid",e[e.DataList=9]="DataList",e[e.RadioButtons=10]="RadioButtons",e[e.DropDown=11]="DropDown"})(Ye||(M.OptionFieldType=Ye={}));var Qe;(function(e){e[e.InfoSection=12]="InfoSection"})(Qe||(M.InfoSectionType=Qe={}));var qe;(function(e){e[e.CompositeField=14]="CompositeField"})(qe||(M.CompositeFieldType=qe={}));var We;(function(e){e.Draft="Draft",e.Active="Active",e.Archived="Archived",e.Inactive="Inactive",e.Deleted="Deleted"})(We||(dt=M.eState=We={}));var Je={},ke={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getConcatenatedValues=e.cloneTextCollection=e.getTextValue=e.createGuid=e.createText=e.createTextCollection=void 0;const t=ee,n=d=>{const c={id:t.Guid.create().toString(),values:[]};return(typeof d=="string"?[d]:d).forEach(s=>{c.values.push({id:t.Guid.create().toString(),lang:s,value:""})}),c};e.createTextCollection=n;const o=d=>({id:t.Guid.create().toString(),value:"",lang:d||"en"});e.createText=o;const l=()=>t.Guid.create().toString();e.createGuid=l;const a=(d,c,s)=>{var v,u;let T;return c?T=(v=d==null?void 0:d.values)===null||v===void 0?void 0:v.filter(_=>_.lang===c).map(_=>_.value):T=(u=d==null?void 0:d.values)===null||u===void 0?void 0:u.map(_=>_.value),s?T.join(s):T};e.getTextValue=a;const r=d=>{const c=JSON.parse(JSON.stringify(d));return c.id=(0,e.createGuid)(),c.values.forEach(s=>{s.id=(0,e.createGuid)()}),c};e.cloneTextCollection=r;const i=(d,c)=>{var s,v,u="",T=[];return d.multilingualTextValues&&((s=d.multilingualTextValues)===null||s===void 0?void 0:s.length)>0?d.multilingualTextValues.forEach(_=>{u+=(0,e.getTextValue)(_,null,c)}):d.monolingualTextValues&&((v=d.monolingualTextValues)===null||v===void 0?void 0:v.length)>0&&(d.monolingualTextValues.forEach(_=>{T.push(_.value)}),u=T==null?void 0:T.join(c)),u};e.getConcatenatedValues=i})(ke);var H={},Ke;function Wo(){if(Ke)return H;Ke=1,Object.defineProperty(H,"__esModule",{value:!0}),H.cloneOption=H.getOptionValues=H.getOptionText=H.createOption=void 0;const e=ee,t=ye();function n(r,i){return{id:e.Guid.create().toString(),isExtendedInput:!1,isExtendedInputRequired:!1,optionText:i||(0,t.createTextCollection)(r)}}H.createOption=n;const o=(r,i)=>l(r.optionText,i);H.getOptionText=o;function l(r,i){var d,c,s;return i?(c=(d=r==null?void 0:r.values)===null||d===void 0?void 0:d.filter(v=>v.lang===i).map(v=>v.value))===null||c===void 0?void 0:c.at(0):(s=r==null?void 0:r.values)===null||s===void 0?void 0:s.map(v=>v.value)}H.getOptionValues=l;const a=r=>{const i=JSON.parse(JSON.stringify(r));return i.id=e.Guid.create().toString(),i.optionText.id=e.Guid.create().toString(),i.optionText.values.forEach(d=>d.id=e.Guid.create().toString()),i};return H.cloneOption=a,H}var ce={},S={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CompositeFieldType=e.FieldType=e.InfoSectionType=e.OptionFieldType=e.MonolingualFieldType=e.TextType=void 0;var t=M;Object.defineProperty(e,"TextType",{enumerable:!0,get:function(){return t.TextType}}),Object.defineProperty(e,"MonolingualFieldType",{enumerable:!0,get:function(){return t.MonolingualFieldType}}),Object.defineProperty(e,"OptionFieldType",{enumerable:!0,get:function(){return t.OptionFieldType}}),Object.defineProperty(e,"InfoSectionType",{enumerable:!0,get:function(){return t.InfoSectionType}}),Object.defineProperty(e,"FieldType",{enumerable:!0,get:function(){return t.FieldType}}),Object.defineProperty(e,"CompositeFieldType",{enumerable:!0,get:function(){return t.CompositeFieldType}})})(S);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getFieldDataFromFormData=e.isCompositeField=e.createMissingFieldData=e.createFormData=e.createCompositeFieldData=e.createFieldData=e.getFieldDescription=e.getFieldTitle=e.isTextInputField=e.isMonolingualTextInputField=e.isMultilingualTextInputField=e.isOptionField=void 0;const t=ee,n=S,o=ke,l=M,a=O=>Object.values(n.OptionFieldType).map(I=>I).includes(O.type);e.isOptionField=a;const r=O=>Object.values(n.TextType).map(I=>I).includes(O.type);e.isMultilingualTextInputField=r;const i=O=>Object.values(n.MonolingualFieldType).map(I=>I).includes(O.type);e.isMonolingualTextInputField=i;const d=O=>Object.values(n.MonolingualFieldType).map(I=>I).includes(O.type);e.isTextInputField=d;const c=(O,I)=>{const D=(0,o.getTextValue)(O.title,I);return(D==null?void 0:D.length)>0?D[0]:null};e.getFieldTitle=c;const s=(O,I)=>{const D=(0,o.getTextValue)(O.description,I);return(D==null?void 0:D.length)>0?D[0]:null};e.getFieldDescription=s;const v=(O,I)=>{var D;const f={id:t.Guid.create().toString(),fieldId:O.id,isValid:!0};if((0,e.isOptionField)(O))f.selectedOptionIds=[],O.allowCustomOptionValues&&(f.customOptionValues=[]),!((D=O.options)===null||D===void 0)&&D.find(m=>m.isExtendedInput)&&(f.extendedOptionValues=[]);else if((0,e.isMultilingualTextInputField)(O)){const m=typeof I=="string"?[I]:I;f.multilingualTextValues=[(0,o.createTextCollection)(m)]}else(0,e.isMonolingualTextInputField)(O)?f.monolingualTextValues=[(0,o.createText)(null)]:(0,e.isCompositeField)(O)&&(f.compositeFieldDataValues=[(0,e.createCompositeFieldData)(O,I)]);return f};e.createFieldData=v;const u=(O,I)=>{var D;const f={id:t.Guid.create().toString(),formId:O.id,fieldData:[]};return(D=O.fields)===null||D===void 0||D.forEach(m=>{I||(I="en");let h=(0,e.createFieldData)(m,I);f.fieldData.push(h)}),f};e.createCompositeFieldData=u;const T=(O,I)=>{var D;const f={id:t.Guid.EMPTY,formId:O.id,fieldData:[]};return(D=O.fields)===null||D===void 0||D.forEach(m=>{if(m.type!=l.FieldType.InfoSection){const h=(0,e.createFieldData)(m,I);f.fieldData.push(h)}}),f};e.createFormData=T;const _=(O,I,D)=>{var f;(f=O.fields)===null||f===void 0||f.forEach(m=>{if(m.type!=l.FieldType.InfoSection&&!I.fieldData.find(h=>h.fieldId==m.id)){const h=(0,e.createFieldData)(m,D);I.fieldData.push(h)}})};e.createMissingFieldData=_;const g=O=>Object.values(n.CompositeFieldType).map(I=>I).includes(O.type);e.isCompositeField=g;const A=(O,I)=>O==null?void 0:O.fieldData.find(D=>D.fieldId===I);e.getFieldDataFromFormData=A})(ce);var ze;function ye(){return ze||(ze=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getFieldDataFromFormData=e.isCompositeField=e.createFormData=e.createFieldData=e.getFieldDescription=e.getFieldTitle=e.isTextInputField=e.isMonolingualTextInputField=e.isMultilingualTextInputField=e.isOptionField=e.cloneOption=e.getOptionText=e.createOption=e.getTextValue=e.createGuid=e.createText=e.cloneTextCollection=e.createTextCollection=void 0;var t=ke;Object.defineProperty(e,"createTextCollection",{enumerable:!0,get:function(){return t.createTextCollection}}),Object.defineProperty(e,"cloneTextCollection",{enumerable:!0,get:function(){return t.cloneTextCollection}}),Object.defineProperty(e,"createText",{enumerable:!0,get:function(){return t.createText}}),Object.defineProperty(e,"createGuid",{enumerable:!0,get:function(){return t.createGuid}}),Object.defineProperty(e,"getTextValue",{enumerable:!0,get:function(){return t.getTextValue}});var n=Wo();Object.defineProperty(e,"createOption",{enumerable:!0,get:function(){return n.createOption}}),Object.defineProperty(e,"getOptionText",{enumerable:!0,get:function(){return n.getOptionText}}),Object.defineProperty(e,"cloneOption",{enumerable:!0,get:function(){return n.cloneOption}});var o=ce;Object.defineProperty(e,"isOptionField",{enumerable:!0,get:function(){return o.isOptionField}}),Object.defineProperty(e,"isMultilingualTextInputField",{enumerable:!0,get:function(){return o.isMultilingualTextInputField}}),Object.defineProperty(e,"isMonolingualTextInputField",{enumerable:!0,get:function(){return o.isMonolingualTextInputField}}),Object.defineProperty(e,"isTextInputField",{enumerable:!0,get:function(){return o.isTextInputField}}),Object.defineProperty(e,"getFieldTitle",{enumerable:!0,get:function(){return o.getFieldTitle}}),Object.defineProperty(e,"getFieldDescription",{enumerable:!0,get:function(){return o.getFieldDescription}}),Object.defineProperty(e,"createFieldData",{enumerable:!0,get:function(){return o.createFieldData}}),Object.defineProperty(e,"createFormData",{enumerable:!0,get:function(){return o.createFormData}}),Object.defineProperty(e,"isCompositeField",{enumerable:!0,get:function(){return o.isCompositeField}}),Object.defineProperty(e,"getFieldDataFromFormData",{enumerable:!0,get:function(){return o.getFieldDataFromFormData}})}(Je)),Je}var V=ye(),fe={},ut={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getOptionIds=e.getFieldType=e.toFormData=e.getSolrFieldValues=e.getSolrFieldNameSuffix=e.createSolrFieldData=e.toSolrDocJson=void 0;const t=ee,n=S,o=ye(),l=ce,a=(u,T,_)=>{var g;const A={id:u.id,fields:[]};return(g=u.fieldData)===null||g===void 0||g.forEach(O=>{var I,D,f;const m=(I=_.fields)===null||I===void 0?void 0:I.find(y=>y.id===O.fieldId),h=m==null?void 0:m.type;if(h!=n.FieldType.InfoSection)if(h==n.FieldType.CompositeField){const y={name:`container_${O.fieldId}`,childDocuments:[]};A.fields.push(y),(D=O.compositeFieldDataValues)===null||D===void 0||D.forEach(F=>{const C=(0,e.toSolrDocJson)(F,"data",m);y.childDocuments.push(C)})}else{const y=(0,e.createSolrFieldData)(O,_,T,h);y.constructor.name==="Array"?y.forEach(F=>{var C;(C=A.fields)===null||C===void 0||C.push(F)}):(f=A.fields)===null||f===void 0||f.push(y)}}),A};e.toSolrDocJson=a;const r=(u,T,_,g)=>{var A;const O=T.id,I=u.fieldId,D=(A=T.fields)===null||A===void 0?void 0:A.find(F=>F.id===I),f=(D==null?void 0:D.isMultiValued)===!0||(D==null?void 0:D.type)===n.FieldType.Checkboxes||(D==null?void 0:D.type)===n.FieldType.DataList||(D==null?void 0:D.type)===n.FieldType.CheckboxGrid,m=(0,e.getSolrFieldNameSuffix)(g,u,f),h=`${_}_${O}_${I}_${m}`,y=(0,e.getSolrFieldValues)(u,T.fields);if(y.constructor.name==="Array"){const F=[];return y.forEach(C=>{const w={name:h,value:C};F.push(w)}),F}else return{name:h,value:y}};e.createSolrFieldData=r;const i=(u,T,_)=>{let g="";return u==n.FieldType.Email?g="t":u==n.FieldType.Date||u==n.FieldType.DateTime?g="dt":u==n.FieldType.Integer?g="i":u==n.FieldType.Decimal?g="d":u==n.FieldType.ShortAnswer||u==n.FieldType.Paragraph||u==n.FieldType.RichText?g="t":g="s",_&&(g=`${g}s`),g};e.getSolrFieldNameSuffix=i;const d=(u,T)=>{var _,g,A,O,I,D,f,m;if(u.multilingualTextValues&&((_=u.multilingualTextValues)===null||_===void 0?void 0:_.length)>0){let h=[];return(g=u.multilingualTextValues)===null||g===void 0||g.forEach(y=>{var F;h=(F=y.values)===null||F===void 0?void 0:F.map(C=>C==null?void 0:C.value)}),h.length>0?h:[]}else if(u.monolingualTextValues&&((A=u.monolingualTextValues)===null||A===void 0?void 0:A.length)>0){let h="";return(O=u.monolingualTextValues)===null||O===void 0||O.forEach(y=>{h=y.value}),h.length>0?h:""}else if(u.selectedOptionIds&&((I=u.selectedOptionIds)===null||I===void 0?void 0:I.length)>0){const h=u.fieldId;let y=[];return(D=u.selectedOptionIds)===null||D===void 0||D.forEach(F=>{var C;const w=(C=T==null?void 0:T.filter(J=>J.id===h).find(J=>J.options))===null||C===void 0?void 0:C.options,q=w==null?void 0:w.filter(J=>J.id===F).find(J=>J.optionText);y.push((0,o.getOptionText)(q,"en"))}),y}else if(u.extendedOptionValues&&((f=u.extendedOptionValues)===null||f===void 0?void 0:f.length)>0)return(m=u.extendedOptionValues)===null||m===void 0?void 0:m.find(h=>h==null?void 0:h.values);return""};e.getSolrFieldValues=d;const c=(u,T,_="en")=>{var g;const A={id:u.id,formId:T.id,fieldData:[]};return(g=u.data)===null||g===void 0||g.forEach(O=>{var I,D;const f=O.key.toString().split("_");if((f[0]=="data"||f[0]=="metadata"||f[0]=="container")&&f[2]!="ss"){let m={id:t.Guid.create().toString(),fieldId:f[2],isValid:!0};if(A.fieldData.push(m),f[0]=="data"||f[0]=="metadata")if((0,e.getFieldType)(m.fieldId,T)===n.FieldType.ShortAnswer||(0,e.getFieldType)(m.fieldId,T)===n.FieldType.Paragraph||(0,e.getFieldType)(m.fieldId,T)===n.FieldType.RichText)if(m.multilingualTextValues=[],f[f.length-1]=="ss"||f[f.length-1]=="ts")O.value.map(h=>{var y;const F={id:t.Guid.create().toString(),values:[{id:t.Guid.create().toString(),lang:_,value:h}]};(y=m.multilingualTextValues)===null||y===void 0||y.push(F)});else{const h={id:t.Guid.create().toString(),values:[{id:t.Guid.create().toString(),lang:_,value:O.value.toString()}]};(I=m.multilingualTextValues)===null||I===void 0||I.push(h)}else if((0,e.getFieldType)(m.fieldId,T)===n.FieldType.Email||(0,e.getFieldType)(m.fieldId,T)===n.FieldType.Date||(0,e.getFieldType)(m.fieldId,T)===n.FieldType.DateTime||(0,e.getFieldType)(m.fieldId,T)===n.FieldType.Integer||(0,e.getFieldType)(m.fieldId,T)===n.FieldType.Decimal)if(m.monolingualTextValues=[],f[f.length-1]=="s"||f[f.length-1]=="d"||f[f.length-1]=="t"||f[f.length-1]=="i"){const h={id:t.Guid.create().toString(),value:O.value.toString(),lang:_};(D=m.monolingualTextValues)===null||D===void 0||D.push(h)}else O.value.map(h=>{var y;const F={id:t.Guid.create().toString(),value:h,lang:_};(y=m.monolingualTextValues)===null||y===void 0||y.push(F)});else((0,e.getFieldType)(m.fieldId,T)===n.FieldType.CheckboxGrid||(0,e.getFieldType)(m.fieldId,T)===n.FieldType.Checkboxes||(0,e.getFieldType)(m.fieldId,T)===n.FieldType.DataList||(0,e.getFieldType)(m.fieldId,T)===n.FieldType.DropDown||(0,e.getFieldType)(m.fieldId,T)===n.FieldType.RadioButtons)&&(m.selectedOptionIds=[],m.selectedOptionIds=(0,e.getOptionIds)(m.fieldId,O.value,T,f[f.length-1]));else if(f[0]=="container"&&f[f.length-1]!="ss"){const h=f[1];m.fieldId=h;const y=T.fields.find(C=>C.id==h),F=O.value;m.compositeFieldDataValues=[],F.forEach(C=>{var w;const q=(0,e.toFormData)(C,y);q.fieldData.length>0&&((w=m.compositeFieldDataValues)===null||w===void 0||w.push(q))})}}}),(0,l.createMissingFieldData)(T,A,_),A};e.toFormData=c;const s=(u,T)=>T.fields.find(_=>_.id===u).type;e.getFieldType=s;const v=(u,T,_,g)=>{var A,O;const I=(A=_.fields)===null||A===void 0?void 0:A.find(f=>f.id===u),D=[];if(g=="ss"||g=="ts")T.forEach(f=>{var m;const h=(m=I==null?void 0:I.options)===null||m===void 0?void 0:m.find(y=>y.optionText.values.find(F=>F.value===f));(h==null?void 0:h.id)!=null&&D.push(h==null?void 0:h.id)});else{const f=(O=I==null?void 0:I.options)===null||O===void 0?void 0:O.find(m=>m.optionText.values.find(h=>h.value===T));(f==null?void 0:f.id)!=null&&D.push(f==null?void 0:f.id)}return D};e.getOptionIds=v})(ut);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toFormData=e.toSolrDocJson=void 0;var t=ut;Object.defineProperty(e,"toSolrDocJson",{enumerable:!0,get:function(){return t.toSolrDocJson}}),Object.defineProperty(e,"toFormData",{enumerable:!0,get:function(){return t.toFormData}})})(fe);var st=202,ct=502,pt=400,Tt=409,mt=100,ft=201,Et=417,Jo=424,vt=403,Ot=504,yt=410,_t=505,It=418,Dt=419,ht=507,Rt=500,gt=411,Ft=423,St=420,Nt=405,Pt=301,At=302,Ct=207,xt=300,bt=511,Ut=204,Mt=203,Lt=406,Vt=404,kt=501,wt=304,jt=200,Gt=206,Bt=402,$t=308,Ht=412,Yt=428,Qt=102,qt=407,Wt=431,Jt=408,Kt=413,zt=414,Xt=416,Zt=205,eo=303,to=503,oo=101,no=307,io=429,lo=401,ao=422,ro=415,uo=305;const Ko={ACCEPTED:st,BAD_GATEWAY:ct,BAD_REQUEST:pt,CONFLICT:Tt,CONTINUE:mt,CREATED:ft,EXPECTATION_FAILED:Et,FORBIDDEN:vt,GATEWAY_TIMEOUT:Ot,GONE:yt,HTTP_VERSION_NOT_SUPPORTED:_t,IM_A_TEAPOT:It,INSUFFICIENT_SPACE_ON_RESOURCE:Dt,INSUFFICIENT_STORAGE:ht,INTERNAL_SERVER_ERROR:Rt,LENGTH_REQUIRED:gt,LOCKED:Ft,METHOD_FAILURE:St,METHOD_NOT_ALLOWED:Nt,MOVED_PERMANENTLY:Pt,MOVED_TEMPORARILY:At,MULTI_STATUS:Ct,MULTIPLE_CHOICES:xt,NETWORK_AUTHENTICATION_REQUIRED:bt,NO_CONTENT:Ut,NON_AUTHORITATIVE_INFORMATION:Mt,NOT_ACCEPTABLE:Lt,NOT_FOUND:Vt,NOT_IMPLEMENTED:kt,NOT_MODIFIED:wt,OK:jt,PARTIAL_CONTENT:Gt,PAYMENT_REQUIRED:Bt,PERMANENT_REDIRECT:$t,PRECONDITION_FAILED:Ht,PRECONDITION_REQUIRED:Yt,PROCESSING:Qt,PROXY_AUTHENTICATION_REQUIRED:qt,REQUEST_HEADER_FIELDS_TOO_LARGE:Wt,REQUEST_TIMEOUT:Jt,REQUEST_TOO_LONG:Kt,REQUEST_URI_TOO_LONG:zt,REQUESTED_RANGE_NOT_SATISFIABLE:Xt,RESET_CONTENT:Zt,SEE_OTHER:eo,SERVICE_UNAVAILABLE:to,SWITCHING_PROTOCOLS:oo,TEMPORARY_REDIRECT:no,TOO_MANY_REQUESTS:io,UNAUTHORIZED:lo,UNPROCESSABLE_ENTITY:ao,UNSUPPORTED_MEDIA_TYPE:ro,USE_PROXY:uo};var zo={202:"Accepted",502:"Bad Gateway",400:"Bad Request",409:"Conflict",100:"Continue",201:"Created",417:"Expectation Failed",424:"Failed Dependency",403:"Forbidden",504:"Gateway Timeout",410:"Gone",505:"HTTP Version Not Supported",418:"I'm a teapot",419:"Insufficient Space on Resource",507:"Insufficient Storage",500:"Internal Server Error",411:"Length Required",423:"Locked",420:"Method Failure",405:"Method Not Allowed",301:"Moved Permanently",302:"Moved Temporarily",207:"Multi-Status",300:"Multiple Choices",511:"Network Authentication Required",204:"No Content",203:"Non Authoritative Information",406:"Not Acceptable",404:"Not Found",501:"Not Implemented",304:"Not Modified",200:"OK",206:"Partial Content",402:"Payment Required",308:"Permanent Redirect",412:"Precondition Failed",428:"Precondition Required",102:"Processing",103:"Early Hints",426:"Upgrade Required",407:"Proxy Authentication Required",431:"Request Header Fields Too Large",408:"Request Timeout",413:"Request Entity Too Large",414:"Request-URI Too Long",416:"Requested Range Not Satisfiable",205:"Reset Content",303:"See Other",503:"Service Unavailable",101:"Switching Protocols",307:"Temporary Redirect",429:"Too Many Requests",401:"Unauthorized",451:"Unavailable For Legal Reasons",422:"Unprocessable Entity",415:"Unsupported Media Type",305:"Use Proxy",421:"Misdirected Request"},Xo={Accepted:202,"Bad Gateway":502,"Bad Request":400,Conflict:409,Continue:100,Created:201,"Expectation Failed":417,"Failed Dependency":424,Forbidden:403,"Gateway Timeout":504,Gone:410,"HTTP Version Not Supported":505,"I'm a teapot":418,"Insufficient Space on Resource":419,"Insufficient Storage":507,"Internal Server Error":500,"Length Required":411,Locked:423,"Method Failure":420,"Method Not Allowed":405,"Moved Permanently":301,"Moved Temporarily":302,"Multi-Status":207,"Multiple Choices":300,"Network Authentication Required":511,"No Content":204,"Non Authoritative Information":203,"Not Acceptable":406,"Not Found":404,"Not Implemented":501,"Not Modified":304,OK:200,"Partial Content":206,"Payment Required":402,"Permanent Redirect":308,"Precondition Failed":412,"Precondition Required":428,Processing:102,"Early Hints":103,"Upgrade Required":426,"Proxy Authentication Required":407,"Request Header Fields Too Large":431,"Request Timeout":408,"Request Entity Too Large":413,"Request-URI Too Long":414,"Requested Range Not Satisfiable":416,"Reset Content":205,"See Other":303,"Service Unavailable":503,"Switching Protocols":101,"Temporary Redirect":307,"Too Many Requests":429,Unauthorized:401,"Unavailable For Legal Reasons":451,"Unprocessable Entity":422,"Unsupported Media Type":415,"Use Proxy":305,"Misdirected Request":421};function so(e){var t=zo[e.toString()];if(!t)throw new Error("Status code does not exist: "+e);return t}function co(e){var t=Xo[e];if(!t)throw new Error("Reason phrase does not exist: "+e);return t}var po=so,Ee;(function(e){e[e.CONTINUE=100]="CONTINUE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.PROCESSING=102]="PROCESSING",e[e.EARLY_HINTS=103]="EARLY_HINTS",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.MULTI_STATUS=207]="MULTI_STATUS",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.MOVED_TEMPORARILY=302]="MOVED_TEMPORARILY",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.USE_PROXY=305]="USE_PROXY",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.REQUEST_TOO_LONG=413]="REQUEST_TOO_LONG",e[e.REQUEST_URI_TOO_LONG=414]="REQUEST_URI_TOO_LONG",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.IM_A_TEAPOT=418]="IM_A_TEAPOT",e[e.INSUFFICIENT_SPACE_ON_RESOURCE=419]="INSUFFICIENT_SPACE_ON_RESOURCE",e[e.METHOD_FAILURE=420]="METHOD_FAILURE",e[e.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",e[e.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",e[e.LOCKED=423]="LOCKED",e[e.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",e[e.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",e[e.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",e[e.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",e[e.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",e[e.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED"})(Ee||(Ee={}));var Ue;(function(e){e.ACCEPTED="Accepted",e.BAD_GATEWAY="Bad Gateway",e.BAD_REQUEST="Bad Request",e.CONFLICT="Conflict",e.CONTINUE="Continue",e.CREATED="Created",e.EXPECTATION_FAILED="Expectation Failed",e.FAILED_DEPENDENCY="Failed Dependency",e.FORBIDDEN="Forbidden",e.GATEWAY_TIMEOUT="Gateway Timeout",e.GONE="Gone",e.HTTP_VERSION_NOT_SUPPORTED="HTTP Version Not Supported",e.IM_A_TEAPOT="I'm a teapot",e.INSUFFICIENT_SPACE_ON_RESOURCE="Insufficient Space on Resource",e.INSUFFICIENT_STORAGE="Insufficient Storage",e.INTERNAL_SERVER_ERROR="Internal Server Error",e.LENGTH_REQUIRED="Length Required",e.LOCKED="Locked",e.METHOD_FAILURE="Method Failure",e.METHOD_NOT_ALLOWED="Method Not Allowed",e.MOVED_PERMANENTLY="Moved Permanently",e.MOVED_TEMPORARILY="Moved Temporarily",e.MULTI_STATUS="Multi-Status",e.MULTIPLE_CHOICES="Multiple Choices",e.NETWORK_AUTHENTICATION_REQUIRED="Network Authentication Required",e.NO_CONTENT="No Content",e.NON_AUTHORITATIVE_INFORMATION="Non Authoritative Information",e.NOT_ACCEPTABLE="Not Acceptable",e.NOT_FOUND="Not Found",e.NOT_IMPLEMENTED="Not Implemented",e.NOT_MODIFIED="Not Modified",e.OK="OK",e.PARTIAL_CONTENT="Partial Content",e.PAYMENT_REQUIRED="Payment Required",e.PERMANENT_REDIRECT="Permanent Redirect",e.PRECONDITION_FAILED="Precondition Failed",e.PRECONDITION_REQUIRED="Precondition Required",e.PROCESSING="Processing",e.EARLY_HINTS="Early Hints",e.UPGRADE_REQUIRED="Upgrade Required",e.PROXY_AUTHENTICATION_REQUIRED="Proxy Authentication Required",e.REQUEST_HEADER_FIELDS_TOO_LARGE="Request Header Fields Too Large",e.REQUEST_TIMEOUT="Request Timeout",e.REQUEST_TOO_LONG="Request Entity Too Large",e.REQUEST_URI_TOO_LONG="Request-URI Too Long",e.REQUESTED_RANGE_NOT_SATISFIABLE="Requested Range Not Satisfiable",e.RESET_CONTENT="Reset Content",e.SEE_OTHER="See Other",e.SERVICE_UNAVAILABLE="Service Unavailable",e.SWITCHING_PROTOCOLS="Switching Protocols",e.TEMPORARY_REDIRECT="Temporary Redirect",e.TOO_MANY_REQUESTS="Too Many Requests",e.UNAUTHORIZED="Unauthorized",e.UNAVAILABLE_FOR_LEGAL_REASONS="Unavailable For Legal Reasons",e.UNPROCESSABLE_ENTITY="Unprocessable Entity",e.UNSUPPORTED_MEDIA_TYPE="Unsupported Media Type",e.USE_PROXY="Use Proxy",e.MISDIRECTED_REQUEST="Misdirected Request"})(Ue||(Ue={}));var ve=globalThis&&globalThis.__assign||function(){return ve=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},ve.apply(this,arguments)};const Zo=ve(ve({},Ko),{getStatusCode:co,getStatusText:po}),en=Object.freeze(Object.defineProperty({__proto__:null,ACCEPTED:st,BAD_GATEWAY:ct,BAD_REQUEST:pt,CONFLICT:Tt,CONTINUE:mt,CREATED:ft,EXPECTATION_FAILED:Et,FAILED_DEPENDENCY:Jo,FORBIDDEN:vt,GATEWAY_TIMEOUT:Ot,GONE:yt,HTTP_VERSION_NOT_SUPPORTED:_t,IM_A_TEAPOT:It,INSUFFICIENT_SPACE_ON_RESOURCE:Dt,INSUFFICIENT_STORAGE:ht,INTERNAL_SERVER_ERROR:Rt,LENGTH_REQUIRED:gt,LOCKED:Ft,METHOD_FAILURE:St,METHOD_NOT_ALLOWED:Nt,MOVED_PERMANENTLY:Pt,MOVED_TEMPORARILY:At,MULTIPLE_CHOICES:xt,MULTI_STATUS:Ct,NETWORK_AUTHENTICATION_REQUIRED:bt,NON_AUTHORITATIVE_INFORMATION:Mt,NOT_ACCEPTABLE:Lt,NOT_FOUND:Vt,NOT_IMPLEMENTED:kt,NOT_MODIFIED:wt,NO_CONTENT:Ut,OK:jt,PARTIAL_CONTENT:Gt,PAYMENT_REQUIRED:Bt,PERMANENT_REDIRECT:$t,PRECONDITION_FAILED:Ht,PRECONDITION_REQUIRED:Yt,PROCESSING:Qt,PROXY_AUTHENTICATION_REQUIRED:qt,REQUESTED_RANGE_NOT_SATISFIABLE:Xt,REQUEST_HEADER_FIELDS_TOO_LARGE:Wt,REQUEST_TIMEOUT:Jt,REQUEST_TOO_LONG:Kt,REQUEST_URI_TOO_LONG:zt,RESET_CONTENT:Zt,get ReasonPhrases(){return Ue},SEE_OTHER:eo,SERVICE_UNAVAILABLE:to,SWITCHING_PROTOCOLS:oo,get StatusCodes(){return Ee},TEMPORARY_REDIRECT:no,TOO_MANY_REQUESTS:io,UNAUTHORIZED:lo,UNPROCESSABLE_ENTITY:ao,UNSUPPORTED_MEDIA_TYPE:ro,USE_PROXY:uo,default:Zo,getReasonPhrase:so,getStatusCode:co,getStatusText:po},Symbol.toStringTag,{value:"Module"})),tn=(e,t)=>{var n;return t.type===S.FieldType.Date||t.type===S.FieldType.DateTime||t.type===S.FieldType.Email||t.type===S.FieldType.Decimal||t.type===S.FieldType.Integer?on(e,t):t.type===S.FieldType.ShortAnswer||t.type===S.FieldType.Paragraph||t.type===S.FieldType.RichText||t.type===S.FieldType.AttachmentField?nn(e,t):t.type===S.FieldType.DropDown||t.type===S.FieldType.DataList||t.type===S.FieldType.Checkboxes||t.type===S.FieldType.RadioButtons||t.type===S.FieldType.CheckboxGrid?ln(e,t):t.type===S.FieldType.CompositeField&&((n=e==null?void 0:e.compositeFieldDataValues)==null||n.forEach(o=>{To(o,t)})),!0},To=(e,t)=>{t.fields.forEach(o=>{const l=e.fieldData.find(a=>a.fieldId===o.id);tn(l,o)});let n=!0;return e.fieldData.forEach(o=>{o.isValid||(n=!1)}),n},on=(e,t)=>{var n;e.isValid=!0;const o=(n=e.monolingualTextValues)==null?void 0:n.filter(l=>l.value.length>0).map(l=>l.value);return t.isRequired&&(o==null?void 0:o.length)===0&&(e.isValid=!1,e.validationError="This is a required field"),o==null||o.forEach(l=>{if(t.type===S.FieldType.Email){const a=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/i;if(console.log("email",a.test(l)),!a.test(l))return e.isValid=!1,e.validationError="Please enter a valied email address",!1}}),!0},nn=(e,t)=>{var n;return t.isRequired?(e.isValid=!1,(n=e==null?void 0:e.multilingualTextValues)==null||n.forEach(o=>{var l;(l=o.values)==null||l.forEach(a=>{var r;if(((r=a.value)==null?void 0:r.trim().length)>0)return e.isValid=!0,!0})}),e.isValid?!0:(e.validationError="This is a required field",!1)):(e.isValid=!0,!0)},ln=(e,t)=>{var n;return e.isValid=!0,t.isRequired&&!(e.selectedOptionIds&&e.selectedOptionIds.length>0||e.customOptionValues&&e.customOptionValues.length>0)?(e.isValid=!1,e.validationError="This option field is a required field",!1):((n=e.selectedOptionIds)==null||n.forEach(o=>{var l;(l=t.options)==null||l.forEach(a=>{if(a.id===o&&a.isExtendedInput&&a.isExtendedInputRequired&&!(e.extendedOptionValues.length>0))return e.isValid=!1,e.validationError="Extended Option needs to add a value",!1})}),!0)};var K={},Xe={},le={},Pe=b&&b.__awaiter||function(e,t,n,o){function l(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function i(s){try{c(o.next(s))}catch(v){r(v)}}function d(s){try{c(o.throw(s))}catch(v){r(v)}}function c(s){s.done?a(s.value):l(s.value).then(i,d)}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(le,"__esModule",{value:!0});le.WebClient=void 0;class an{constructor(t,n){this.get=o=>this.invoke(o,"GET"),this.postJson=(o,l)=>this.sendJson(o,"POST",l),this.putJson=(o,l)=>this.sendJson(o,"PUT",l),this.patchJson=(o,l)=>this.sendJson(o,"PATCH",l),this.delete=o=>this.invoke(o,"DELETE"),this.getFile=(o,l)=>Pe(this,void 0,void 0,function*(){var a=yield fetch(o,{method:"GET",headers:{Authorization:this._jwtToken?`bearer ${this._jwtToken}`:"","Tenant-Id":this._tenantId?this._tenantId.toString():""}});if(!a.ok)throw new Error(`Code ${a.status} returned by ${o}`);const r=yield a.blob(),i=document.createElement("a");i.href=URL.createObjectURL(r),i.setAttribute("download",l),i.click()}),this._jwtToken=t,this._tenantId=n}setSecurityToken(t){this._jwtToken=t}invoke(t,n){return Pe(this,void 0,void 0,function*(){var o=yield fetch(t,{method:n,headers:{Authorization:this._jwtToken?`bearer ${this._jwtToken}`:"","Tenant-Id":this._tenantId?this._tenantId.toString():""}});if(!o.ok)throw new Error(`Code ${o.status} returned by ${t}`);return o})}sendJson(t,n,o){return Pe(this,void 0,void 0,function*(){var l=yield fetch(t,{body:JSON.stringify(o),method:n,headers:{encType:"multipart/form-data","Content-Type":"application/json",Authorization:this._jwtToken?`bearer ${this._jwtToken}`:"","Tenant-Id":this._tenantId?this._tenantId.toString():""}});if(!l.ok)throw new Error(`Code ${l.status} returned by ${t}`);return l})}}le.WebClient=an;var z={};const we=Qo(en);var re=b&&b.__awaiter||function(e,t,n,o){function l(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function i(s){try{c(o.next(s))}catch(v){r(v)}}function d(s){try{c(o.throw(s))}catch(v){r(v)}}function c(s){s.done?a(s.value):l(s.value).then(i,d)}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(z,"__esModule",{value:!0});z.CrudProxy=void 0;const de=ee,rn=le,Ze=we;class dn extends rn.WebClient{constructor(t,n){super(n),this._apiRoot=t}List(){return re(this,void 0,void 0,function*(){var t=yield this.get(this._apiRoot);if(t.status!=Ze.StatusCodes.OK)throw new Error("Error");var n=yield t.json();return n})}Get(t){return re(this,void 0,void 0,function*(){var n=yield this.get(`${this._apiRoot}/${t}`);if(n.status!=Ze.StatusCodes.OK)throw new Error("Error");var o=yield n.json();return o})}Post(t){return re(this,void 0,void 0,function*(){let n=!1;try{(!t.id||t.id==de.Guid.parse(de.Guid.EMPTY))&&(t.id=de.Guid.create().toString(),n=!0);var o=yield this.postJson(`${this._apiRoot}`,t);return!0}catch(l){return n&&(t.id=de.Guid.parse(de.Guid.EMPTY)),console.error(l),!1}})}Put(t){return re(this,void 0,void 0,function*(){return yield this.putJson(`${this._apiRoot}/${t.id}`,t),!0})}Delete(t){return re(this,void 0,void 0,function*(){var n=yield this.delete(`${this._apiRoot}/${t}`);return n.ok})}}z.CrudProxy=dn;var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.FormTemplateProxy=void 0;const un=z;class sn extends un.CrudProxy{constructor(t,n){super(`${t}/api/forms`,n)}}_e.FormTemplateProxy=sn;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.FormDataProxy=void 0;const cn=z;class pn extends cn.CrudProxy{constructor(t){super(`${t}/api/form-submissions`)}}Ie.FormDataProxy=pn;var De={};Object.defineProperty(De,"__esModule",{value:!0});De.ItemProxy=void 0;const Tn=z;class mn extends Tn.CrudProxy{constructor(t,n){super(`${t}/api/items`,n)}}De.ItemProxy=mn;var he={};Object.defineProperty(he,"__esModule",{value:!0});he.CollectionProxy=void 0;const fn=z;class En extends fn.CrudProxy{constructor(t,n){super(`${t}/api/collections`,n)}}he.CollectionProxy=En;var Re={};Object.defineProperty(Re,"__esModule",{value:!0});Re.WorkflowProxy=void 0;const vn=z;class On extends vn.CrudProxy{constructor(t,n){super(`${t}/api/workflow`,n)}}Re.WorkflowProxy=On;var ge={},X=b&&b.__awaiter||function(e,t,n,o){function l(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function i(s){try{c(o.next(s))}catch(v){r(v)}}function d(s){try{c(o.throw(s))}catch(v){r(v)}}function c(s){s.done?a(s.value):l(s.value).then(i,d)}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(ge,"__esModule",{value:!0});ge.SolrProxy=void 0;const yn=le,Ae=we;class _n extends yn.WebClient{constructor(t,n,o){super(o,n),this._apiRoot=t}getDocument(t){return X(this,void 0,void 0,function*(){var n=yield this.get(`${this._apiRoot}/api/SolrSearch/get-document/${t}`);if(n.status!=Ae.StatusCodes.OK)throw new Error("Error");var o=yield n.json();return o})}updateDocument(t){return X(this,void 0,void 0,function*(){var n=yield this.putJson(`${this._apiRoot}/api/solr/update-document`,t);if(n.status!=Ae.StatusCodes.OK)throw new Error("Error")})}updateSolrDocJson(t){return X(this,void 0,void 0,function*(){var n=yield this.putJson(`${this._apiRoot}/api/solr/update-solr-doc-json`,t);if(n.status!=Ae.StatusCodes.OK)throw new Error("Error");return n.status})}getJobs(t,n,o=2,l=!1,a=""){return X(this,void 0,void 0,function*(){var r=yield this.get(`${this._apiRoot}/api/background-job?offset=${t}&max=${n}&operation=${o}&incompleteOnlly=${l}&searchTerm=${a}`),i=yield r.json();return i})}deleteJob(t){return X(this,void 0,void 0,function*(){yield this.delete(`${this._apiRoot}/api/background-job/remove-job?jobId=${t}`)})}downloadDataFile(t){return X(this,void 0,void 0,function*(){yield this.getFile(`${this._apiRoot}/api/background-job/get-file?fileName=${t}`,t)})}search(t){return X(this,void 0,void 0,function*(){var n=yield this.postJson(`${this._apiRoot}/api/SolrSearch/execute-search`,t),o=yield n.json();return o})}scheduleSearchJob(t){return X(this,void 0,void 0,function*(){var n=yield this.postJson(`${this._apiRoot}/api/SolrSearch/submit-search-job`,t),o=yield n.text();return o})}}ge.SolrProxy=_n;var ue={},et;function In(){if(et)return ue;et=1;var e=b&&b.__awaiter||function(l,a,r,i){function d(c){return c instanceof r?c:new r(function(s){s(c)})}return new(r||(r=Promise))(function(c,s){function v(_){try{T(i.next(_))}catch(g){s(g)}}function u(_){try{T(i.throw(_))}catch(g){s(g)}}function T(_){_.done?c(_.value):d(_.value).then(v,u)}T((i=i.apply(l,a||[])).next())})};Object.defineProperty(ue,"__esModule",{value:!0}),ue.AuthProxy=void 0;const t=mo(),n=we;class o extends t.WebClient{constructor(a,r,i){super(i,r),this._apiRoot=a}getApiToken(a,r,i=null,d=null,c=1){return e(this,void 0,void 0,function*(){i||(i=new Date,i.setDate(i.getDate()-1)),d||(d=new Date,d.setDate(d.getDate()+1));const s=`${this._apiRoot}/api/api-keys/get-new?nbf=${i.toISOString()}&exp=${d.toISOString()}&tenantId=${r}&appId=${a}&permitCount=${c}`;return(yield this.get(s)).text()})}getGoogleIdentityJwtToken(a){return e(this,void 0,void 0,function*(){const r=`${this._apiRoot}/api/GoogleIdentity`;var i=yield this.postJson(r,a);if(i.status!=n.StatusCodes.OK)throw console.error("User authorization failed"),new Error("Error");var d=yield i.text();return d})}authorizeGoogleUser(a,r){return e(this,void 0,void 0,function*(){const i=`${this._apiRoot}/api/GoogleIdentity/authorize-user?tenantId=${a}`;var d=yield this.postJson(i,r);if(d.status!=n.StatusCodes.OK)throw console.error("User authorization failed"),new Error("Error");var c=yield d.text();return c})}}return ue.AuthProxy=o,ue}var tt;function mo(){return tt||(tt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AuthProxy=e.SolrProxy=e.WorkflowProxy=e.CollectionProxy=e.ItemProxy=e.FormDataProxy=e.FormTemplateProxy=e.CrudProxy=e.WebClient=void 0;var t=le;Object.defineProperty(e,"WebClient",{enumerable:!0,get:function(){return t.WebClient}});var n=z;Object.defineProperty(e,"CrudProxy",{enumerable:!0,get:function(){return n.CrudProxy}});var o=_e;Object.defineProperty(e,"FormTemplateProxy",{enumerable:!0,get:function(){return o.FormTemplateProxy}});var l=Ie;Object.defineProperty(e,"FormDataProxy",{enumerable:!0,get:function(){return l.FormDataProxy}});var a=De;Object.defineProperty(e,"ItemProxy",{enumerable:!0,get:function(){return a.ItemProxy}});var r=he;Object.defineProperty(e,"CollectionProxy",{enumerable:!0,get:function(){return r.CollectionProxy}});var i=Re;Object.defineProperty(e,"WorkflowProxy",{enumerable:!0,get:function(){return i.WorkflowProxy}});var d=ge;Object.defineProperty(e,"SolrProxy",{enumerable:!0,get:function(){return d.SolrProxy}});var c=In();Object.defineProperty(e,"AuthProxy",{enumerable:!0,get:function(){return c.AuthProxy}})}(Xe)),Xe}var ne={},Dn=b&&b.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(t,n);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,l)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),hn=b&&b.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),fo=b&&b.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Dn(t,e,n);return hn(t,e),t};Object.defineProperty(ne,"__esModule",{value:!0});ne.models=ne.helpers=void 0;const Rn=fo(ye());ne.helpers=Rn;const gn=fo(S);ne.models=gn;var ie={},Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});var Fn=b&&b.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(t,n);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,l)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),Sn=b&&b.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vo=b&&b.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Fn(t,e,n);return Sn(t,e),t};Object.defineProperty(ie,"__esModule",{value:!0});ie.models=ie.helpers=void 0;const Nn=vo(fe);ie.helpers=Nn;const Pn=vo(Eo);ie.models=Pn;var Oo={},Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.formatBytes=void 0;const An=(e,t=2)=>{if(!+e)return"0 Bytes";const n=1024,o=t<0?0:t,l=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(e)/Math.log(n)),l.length-1);return`${parseFloat((e/Math.pow(n,a)).toFixed(o)).toLocaleString()} ${l[a]}`};Fe.formatBytes=An;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatBytes=void 0;var t=Fe;Object.defineProperty(e,"formatBytes",{enumerable:!0,get:function(){return t.formatBytes}})})(Oo);var Cn=b&&b.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var l=Object.getOwnPropertyDescriptor(t,n);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,l)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),xn=b&&b.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Se=b&&b.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Cn(t,e,n);return xn(t,e),t};Object.defineProperty(K,"__esModule",{value:!0});K.utils=K.solr=K.forms=yo=K.api=void 0;const bn=Se(mo());var yo=K.api=bn;const Un=Se(ne);K.forms=Un;const Mn=Se(ie);K.solr=Mn;const Ln=Se(Oo);K.utils=Ln;const Q=Yo("FormSubmissionStore",{state:()=>({lang:"en",form:null,formData:{},files:[],fileKeys:[],apiRoot:null,securityToken:null}),getters:{getFormData(){return this.formData}},actions:{setForm(e){this.form=e,this.formData||(console.log("new form created"),this.formData=V.createFormData(this.form,this.lang))},loadSubmission(e){let t=`${this.apiRoot}/api/form-submissions/${e}`;console.log(t),fetch(t,{method:"GET"}).then(n=>n.json()).then(n=>{this.formData=n}).catch(n=>{console.error("Load Form API Error:",n)})},validateFormData(){return To(this.formData,this.form)},async indexFormDataInSolr(e){var t,n;const o=`${this.apiRoot}/api/solr/create`;((n=(t=this.formData)==null?void 0:t.id)==null?void 0:n.toString())===oe.EMPTY&&(this.formData.id=oe.create().toString());const l=fe.toSolrDocJson(this.formData,"data",this.form);l.tenantId=e;var a=await fetch(o,{body:JSON.stringify(l),method:"POST",headers:{"Tenant-Id":`${e}`,"Content-Type":"application/json",encType:"multipart/form-data",Authorization:`Bearer ${this.securityToken}`}});return a.status},async updateForm(e){if(!this.validateFormData())return Ee.PRECONDITION_FAILED;const t=fe.toSolrDocJson(this.formData,"data",this.form);return t.tenantId=e,await new yo.SolrProxy(this.apiRoot,e,this.securityToken).updateSolrDocJson(t)},saveForm(){var e,t;if(!this.form){console.error("Cannot save null form.");return}const n=((t=(e=this.form)==null?void 0:e.id)==null?void 0:t.toString())===oe.EMPTY;let o=`${this.apiRoot}/api/forms`,l="";n?(this.form.id=oe.create().toString(),l="POST",this.form.status=dt.Draft):(console.log("Updating existing form."),o=`${o}/${this.form.id}`,l="PUT"),fetch(o,{body:JSON.stringify(this.form),method:l,headers:{encType:"multipart/form-data","Content-Type":"application/json"}}).then(a=>{a.ok?console.log("sucess"):console.log("error")}).catch(a=>{console.error("Form Save API Error:",a)})},clearMessages(){},addFile(e,t){var n,o;(n=this.files)==null||n.push(e),(o=this.fileKeys)==null||o.push(t.toString())},putFile(e,t){Array.from(e).forEach(n=>{console.log("fieldId:"+t),this.addFile(n,t)})}}}),Vn={key:0},kn={key:1},wn={key:2},jn={key:3},Gn={key:4},Bn={key:5},$n={key:6},Hn={key:7},_o=L({__name:"Text",props:{model:{},textType:{},decimalPoints:{}},setup(e){const t=e,n=t.decimalPoints?t.decimalPoints:2;return(o,l)=>{const a=G("b-form-input"),r=G("b-form-textarea");return p(),E(U,null,[o.textType===R(S.FieldType).ShortAnswer?(p(),E("div",Vn,[x(a,{modelValue:o.model.value,"onUpdate:modelValue":l[0]||(l[0]=i=>o.model.value=i)},null,8,["modelValue"])])):o.textType===R(S.FieldType).Paragraph?(p(),E("div",kn,[x(r,{modelValue:o.model.value,"onUpdate:modelValue":l[1]||(l[1]=i=>o.model.value=i),rows:"3","max-rows":"6"},null,8,["modelValue"])])):o.textType===R(S.FieldType).RichText?(p(),E("div",wn,[x(r,{modelValue:o.model.value,"onUpdate:modelValue":l[2]||(l[2]=i=>o.model.value=i),rows:"3","max-rows":"6"},null,8,["modelValue"])])):P("",!0),o.textType===R(S.FieldType).Email?(p(),E("div",jn,[x(a,{modelValue:o.model.value,"onUpdate:modelValue":l[3]||(l[3]=i=>o.model.value=i),type:"email"},null,8,["modelValue"])])):P("",!0),o.textType===R(S.FieldType).Integer?(p(),E("div",Gn,[x(a,{type:"number",step:"1",modelValue:o.model.value,"onUpdate:modelValue":l[4]||(l[4]=i=>o.model.value=i)},null,8,["modelValue"])])):P("",!0),o.textType===R(S.FieldType).Decimal?(p(),E("div",Bn,[x(a,{type:"number",step:Math.pow(10,-R(n)),modelValue:o.model.value,"onUpdate:modelValue":l[5]||(l[5]=i=>o.model.value=i)},null,8,["step","modelValue"])])):P("",!0),o.textType===R(S.FieldType).Date?(p(),E("div",$n,[x(a,{modelValue:o.model.value,"onUpdate:modelValue":l[6]||(l[6]=i=>o.model.value=i),type:"date"},null,8,["modelValue"])])):P("",!0),o.textType===R(S.FieldType).DateTime?(p(),E("div",Hn,[x(a,{type:"datetime-local",modelValue:o.model.value,"onUpdate:modelValue":l[7]||(l[7]=i=>o.model.value=i)},null,8,["modelValue"])])):P("",!0)],64)}}}),Yn=["model"],Qn={class:"col col-sm-11"},qn={key:0,class:"col-sm-1"},Wn={key:0,class:"col-sm-1"},Jn=L({__name:"MonolingualTextInput",props:{model:{},modelData:{}},setup(e){const t=e,n=Q(),o=k(()=>{var r;return t.modelData?t.modelData:(r=n.formData.fieldData)==null?void 0:r.find(i=>i.fieldId==t.model.id)}),l=()=>{var r;return(r=o.value.monolingualTextValues)==null?void 0:r.push(V.createText(null))},a=r=>{var i;(i=o.value.monolingualTextValues)==null||i.splice(r,1)};return(r,i)=>{const d=G("font-awesome-icon");return p(),E(U,null,[(p(!0),E(U,null,B(o.value.monolingualTextValues,(c,s)=>{var v;return p(),E("div",{key:c.id,model:c,class:"row mb-3"},[N("div",Qn,[x(_o,{model:c,"text-type":r.model.type},null,8,["model","text-type"])]),((v=o.value.monolingualTextValues)==null?void 0:v.length)>1?(p(),E("div",qn,[x(d,{icon:"fa-solid fa-circle-xmark",onClick:u=>a(s),class:"fa-icon delete"},null,8,["onClick"])])):P("",!0)],8,Yn)}),128)),r.model.isMultiValued?(p(),E("div",Wn,[x(d,{icon:"fa-solid fa-circle-plus",onClick:i[0]||(i[0]=c=>l()),class:"fa-icon plus add-option"})])):P("",!0)],64)}}}),Kn=L({__name:"TextCollection",props:{model:{},textType:{}},setup(e){return(t,n)=>(p(!0),E(U,null,B(t.model.values,o=>(p(),j(_o,{key:o.id,model:o,"text-type":t.textType},null,8,["model","text-type"]))),128))}}),zn=["model"],Xn={class:"col col-sm-11"},Zn={class:"col col-sm-1"},ei={key:0},ti={key:0},oi=L({__name:"MultilingualTextInput",props:{model:{},modelData:{}},setup(e){const t=e,n=Q(),o=k(()=>{var r;return t.modelData?t.modelData:(r=n.formData.fieldData)==null?void 0:r.find(i=>i.fieldId==t.model.id)}),l=()=>{var r;return(r=o.value.multilingualTextValues)==null?void 0:r.push(V.createTextCollection(n.lang))},a=r=>{var i;console.log(r),(i=o.value.multilingualTextValues)==null||i.splice(r,1)};return(r,i)=>{var d;const c=G("font-awesome-icon");return p(),E(U,null,[(p(!0),E(U,null,B((d=o.value)==null?void 0:d.multilingualTextValues,(s,v)=>(p(),E("div",{key:s.id,model:s,class:"row mb-3"},[N("div",Xn,[x(Kn,{model:s,"text-type":r.model.type},null,8,["model","text-type"])]),N("div",Zn,[o.value.multilingualTextValues.length>1?(p(),E("div",ei,[x(c,{icon:"fa-solid fa-circle-xmark",onClick:u=>a(v),class:"fa-icon delete"},null,8,["onClick"])])):P("",!0)])],8,zn))),128)),r.model.isMultiValued?(p(),E("div",ti,[x(c,{icon:"fa-solid fa-circle-plus",onClick:i[0]||(i[0]=s=>l()),class:"fa-icon plus add-option"})])):P("",!0)],64)}}}),ni={key:0},ii=["onUpdate:modelValue"],Io=L({__name:"ExtendedOptions",props:{modelData:{},optionId:{}},setup(e){const t=e,n=a=>{var r,i;console.log(a),(i=(r=t.modelData)==null?void 0:r.extendedOptionValues.find(d=>d.optionId==t.optionId))==null||i.values.splice(a,1)},o=()=>{var a,r;(r=(a=t.modelData)==null?void 0:a.extendedOptionValues.find(i=>i.optionId==t.optionId))==null||r.values.push("")},l=k(()=>{var a,r;return(r=(a=t.modelData)==null?void 0:a.extendedOptionValues.find(i=>i.optionId==t.optionId))==null?void 0:r.values});return(a,r)=>{const i=G("font-awesome-icon");return a.modelData&&a.modelData.extendedOptionValues?(p(),E("div",ni,[N("div",null,[(p(!0),E(U,null,B(l.value,(d,c)=>(p(),E("div",{class:"ext-option",key:c},[Oe(N("input",{class:"ext-option-text",type:"text","onUpdate:modelValue":s=>l.value[c]=s},null,8,ii),[[it,l.value[c]]]),x(i,{icon:"fa-solid fa-circle-xmark",onClick:s=>n(c),class:"fa-icon delete ext-op-delete"},null,8,["onClick"])]))),128)),a.modelData&&a.modelData.extendedOptionValues.length>0?(p(),E("button",{key:0,class:"ext-option-button",onClick:r[0]||(r[0]=d=>o())},"Add Option")):P("",!0)])])):P("",!0)}}}),li=["checked","onChange"],ai={key:0},ri=L({__name:"Checkboxes",props:{model:{},modelData:{}},setup(e){const t=e,n=Q(),o=k(()=>{var r;return t.modelData?t.modelData:(r=n.formData.fieldData)==null?void 0:r.find(i=>i.fieldId==t.model.id)}),l=r=>{var i;return(i=o.value.selectedOptionIds)==null?void 0:i.includes(r)},a=(r,i)=>{var d,c,s,v,u,T,_;if(i){if((d=o.value.selectedOptionIds)==null||d.push(r),(s=(c=t.model.options)==null?void 0:c.find(g=>g.id==r))!=null&&s.isExtendedInput){o.value.extendedOptionValues=[];const g={optionId:r,values:[]},A="";g.values.push(A),o.value.extendedOptionValues.push(g)}}else(u=o.value.selectedOptionIds)==null||u.splice((v=o.value.selectedOptionIds)==null?void 0:v.indexOf(r),1),(_=(T=t.model.options)==null?void 0:T.find(g=>g.id==r))!=null&&_.isExtendedInput&&(o.value.extendedOptionValues=[])};return(r,i)=>(p(!0),E(U,null,B(r.model.options,d=>(p(),E("div",{key:d.id,class:"option-field"},[N("input",{type:"checkbox",checked:l(d.id),onChange:c=>a(d.id,c.target.checked)},null,40,li),W(" "+Y(V.getOptionText(d,R(n).lang))+" ",1),d.isExtendedInput?(p(),E("span",ai,[x(Io,{modelData:r.modelData,optionId:d.id},null,8,["modelData","optionId"])])):P("",!0)]))),128))}}),di={key:0},ui=["onUpdate:modelValue"],si={class:"col-sm-2"},ci=L({__name:"CustomOptions",props:{model:{},modelData:{}},setup(e){const t=e,n=Q(),o=k(()=>{var r;return t.modelData?t.modelData:(r=n.formData.fieldData)==null?void 0:r.find(i=>i.fieldId==t.model.id)}),l=r=>{var i;console.log(r),(i=o.value.customOptionValues)==null||i.splice(r,1)},a=()=>{o.value.customOptionValues||(o.value.customOptionValues=[]),o.value.customOptionValues.push("")};return(r,i)=>{const d=G("font-awesome-icon");return o.value&&o.value.customOptionValues?(p(),E("div",di,[N("div",null,[(p(!0),E(U,null,B(o.value.customOptionValues,(c,s)=>(p(),E("span",{class:"custom-option",key:s},[Oe(N("input",{type:"text","onUpdate:modelValue":v=>o.value.customOptionValues[s]=v},null,8,ui),[[it,o.value.customOptionValues[s]]]),x(d,{icon:"fa-solid fa-circle-xmark",onClick:v=>l(s),class:"fa-icon delete"},null,8,["onClick"])]))),128))]),N("div",si,[x(d,{icon:"fa-solid fa-circle-plus",onClick:i[0]||(i[0]=c=>a()),class:"fa-icon plus add-option"})])])):P("",!0)}}}),pi={class:"col-sm-8"},Ti={id:"dataOptions"},mi={class:"col-sm-2"},fi=L({__name:"DataList",props:{model:{},modelData:{}},setup(e){const t=e,n=Q(),o=k(()=>{var i;return t.modelData?t.modelData:(i=n.formData.fieldData)==null?void 0:i.find(d=>d.fieldId==t.model.id)}),l=i=>{var d,c;const s=(c=(d=t.model)==null?void 0:d.options)==null?void 0:c.filter(v=>v.id===i).at(0);return s?V.getOptionText(s,n.lang):""},a=i=>{var d,c;const s=(c=(d=t.model)==null?void 0:d.options)==null?void 0:c.filter(v=>V.getOptionText(v,n.lang)===i).at(0);return s==null?void 0:s.id},r=k({get:()=>{var i,d;return l((d=(i=o==null?void 0:o.value)==null?void 0:i.selectedOptionIds)==null?void 0:d.at(0))},set:i=>{const d=a(i);d?o.value.selectedOptionIds=[d]:o.value.selectedOptionIds=[]}});return(i,d)=>{const c=G("b-form-input");return p(),E(U,null,[N("div",pi,[x(c,{list:"dataOptions",id:"model.id",name:"model.id",modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=s=>r.value=s)},null,8,["modelValue"]),N("datalist",Ti,[(p(!0),E(U,null,B(i.model.options,s=>(p(),E("option",{key:s.id},Y(V.getOptionText(s,R(n).lang)),1))),128))])]),N("div",mi,[x(ci,{model:i.model},null,8,["model"])])],64)}}}),Ei={class:"col-sm-3"},vi=["value"],Oi=L({__name:"DropDown",props:{model:{},modelData:{}},setup(e){const t=e,n=Q(),o=k(()=>{var a;return t.modelData?t.modelData:(a=n.formData.fieldData)==null?void 0:a.find(r=>r.fieldId==t.model.id)}),l=k({get:()=>{var a;return(a=o==null?void 0:o.value)!=null&&a.selectedOptionIds&&o.value.selectedOptionIds.length>0?o.value.selectedOptionIds[0]:oe.EMPTY},set:a=>o.value.selectedOptionIds=[a]});return(a,r)=>(p(),E("div",Ei,[Oe(N("select",{"onUpdate:modelValue":r[0]||(r[0]=i=>l.value=i),class:"form-select"},[(p(!0),E(U,null,B(a.model.options,i=>(p(),E("option",{key:i.id,value:i.id},Y(V.getOptionText(i,R(n).lang)),9,vi))),128))],512),[[Mo,l.value]])]))}}),yi=["name","value"],_i=L({__name:"RadioButtons",props:{model:{},modelData:{}},setup(e){const t=e,n=Q(),o=k(()=>{var a;return t.modelData?t.modelData:(a=n.formData.fieldData)==null?void 0:a.find(r=>r.fieldId==t.model.id)}),l=k({get:()=>{var a;return(a=o==null?void 0:o.value)!=null&&a.selectedOptionIds&&o.value.selectedOptionIds.length>0?o.value.selectedOptionIds[0]:oe.EMPTY},set:a=>o.value.selectedOptionIds=[a]});return(a,r)=>(p(!0),E(U,null,B(a.model.options,i=>(p(),E("div",{key:i.id,class:"option-field"},[Oe(N("input",{type:"radio",name:a.model.id.toString(),value:i.id,"onUpdate:modelValue":r[0]||(r[0]=d=>l.value=d)},null,8,yi),[[Lo,l.value]]),W(" "+Y(V.getOptionText(i,R(n).lang)),1)]))),128))}}),Ii=N("br",null,null,-1),Di=["innerHTML"],hi=L({__name:"InfoSection",props:{model:{}},setup(e){const t=e,n=Q(),o=V.getFieldDescription(t.model,n.lang);return(l,a)=>(p(),E("div",null,[Ii,N("div",{innerHTML:R(o),class:"info-field-description"},null,8,Di)]))}}),je=e=>(Me("data-v-568e0afa"),e=e(),Le(),e),Ri={key:0,class:"row"},gi=je(()=>N("div",{class:"col-sm-2"},[N("h6",null,"File:")],-1)),Fi={class:"col-sm-10"},Si=["onDragenter","onDragleave","onDrop"],Ni=je(()=>N("div",null,"Drag or Drop File",-1)),Pi=je(()=>N("div",null,"OR",-1)),Ai=["for"],Ci=["id"],xi=L({__name:"AttachmentField",props:{model:{},elementId:{}},setup(e){const t=e,n=t.model.type===S.FieldType.AttachmentField,o=t.elementId,l=ot(!1),a=()=>{l.value=!l.value};return(r,i)=>R(n)?(p(),E("div",Ri,[gi,N("div",Fi,[N("div",{class:Vo(["dropzone",{"active-dropzone":l.value}]),onDragenter:Te(a,["prevent"]),onDragleave:Te(a,["prevent"]),onDragover:i[0]||(i[0]=Te(()=>{},["prevent"])),onDrop:Te(a,["prevent"])},[Ni,Pi,N("label",{for:R(o)},"Select File ",8,Ai),N("input",{type:"file",id:R(o)},null,8,Ci)],42,Si)])])):P("",!0)}}),Ne=(e,t)=>{const n=e.__vccOpts||e;for(const[o,l]of t)n[o]=l;return n},bi=Ne(xi,[["__scopeId","data-v-568e0afa"]]),Do=e=>(Me("data-v-7a0473e1"),e=e(),Le(),e),Ui={class:"composite-field-heading"},Mi={key:0,class:"required"},Li=["data-hover"],Vi={class:"lightGrayBorder compositeField"},ki={class:"delete-button"},wi=Do(()=>N("br",null,null,-1)),ji=Do(()=>N("br",null,null,-1)),Gi=L({__name:"CompositeField",props:{model:{},modelData:{},lang:{},title:{},description:{}},setup(e){const t=e,n=k(()=>{var a;return(a=t.modelData)==null?void 0:a.compositeFieldDataValues}),o=()=>{var a;const r=ce.createCompositeFieldData(t.model,t.lang);(a=n.value)==null||a.push(r)},l=a=>{var r;(r=t.modelData.compositeFieldDataValues)==null||r.splice(a,1)};return(a,r)=>{var i;const d=G("font-awesome-icon");return p(),E(U,null,[N("div",Ui,Y(a.title),1),W(),a.model.isRequired?(p(),E("span",Mi,"*")):P("",!0),W(),a.description?(p(),E("span",{key:1,class:"hovertext","data-hover":a.description},null,8,Li)):P("",!0),N("div",null,[(p(!0),E(U,null,B((i=a.modelData)==null?void 0:i.compositeFieldDataValues,(c,s)=>(p(),E("div",{key:s},[N("div",Vi,[N("div",ki,[x(d,{icon:"fa-solid fa-circle-xmark",onClick:v=>l(s),class:"fa-icon field-delete"},null,8,["onClick"])]),wi,ji,(p(!0),E(U,null,B(a.model.fields,(v,u)=>(p(),E("div",{key:v.id},[x(ho,{model:v,modelData:c.fieldData[u]},null,8,["model","modelData"])]))),128))])]))),128)),N("button",{class:"add-button",onClick:r[0]||(r[0]=c=>o())},"Add Another Project")])],64)}}}),Bi=Ne(Gi,[["__scopeId","data-v-7a0473e1"]]),$i={key:0,class:"required"},Hi=["data-hover"],Yi=["data-bs-target","aria-controls"],Qi=["id"],qi={class:"card card-body"},Wi={class:"row"},Ji=["checked","onChange"],Ki={key:0},zi=L({__name:"CheckboxGrid",props:{model:{},modelData:{},title:{},description:{}},setup(e){const t=e,n=t.model.id,o=Q(),l=k(()=>{var i;return t.modelData?t.modelData:(i=o.formData.fieldData)==null?void 0:i.find(d=>d.fieldId==t.model.id)}),a=i=>{var d;return(d=l.value.selectedOptionIds)==null?void 0:d.includes(i)},r=(i,d)=>{var c,s,v,u,T,_,g;if(d){if((c=l.value.selectedOptionIds)==null||c.push(i),(v=(s=t.model.options)==null?void 0:s.find(A=>A.id==i))!=null&&v.isExtendedInput){l.value.extendedOptionValues=[];const A={optionId:i,values:[]},O="";A.values.push(O),l.value.extendedOptionValues.push(A)}}else(T=l.value.selectedOptionIds)==null||T.splice((u=l.value.selectedOptionIds)==null?void 0:u.indexOf(i),1),(g=(_=t.model.options)==null?void 0:_.find(A=>A.id==i))!=null&&g.isExtendedInput&&(l.value.extendedOptionValues=[])};return(i,d)=>{const c=G("font-awesome-icon");return p(),E(U,null,[N("p",null,[W(Y(i.title)+" ",1),i.model.isRequired?(p(),E("span",$i,"*")):P("",!0),W(),i.description?(p(),E("span",{key:1,class:"hovertext","data-hover":i.description},[x(c,{icon:"fas fa-question-circle",class:"fas fa-question-circle"})],8,Hi)):P("",!0),W(" : "),N("button",{class:"collapse-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse_"+R(n),"aria-expanded":"false","aria-controls":"collapse_"+R(n)}," Select Values ",8,Yi)]),N("div",{class:"collapse",id:"collapse_"+R(n)},[N("div",qi,[N("div",Wi,[(p(!0),E(U,null,B(i.model.options,s=>(p(),E("div",{key:s.id,class:"col-sm-4 option-field"},[N("input",{type:"checkbox",checked:a(s.id),onChange:v=>r(s.id,v.target.checked)},null,40,Ji),W(" "+Y(V.getOptionText(s,R(o).lang))+" ",1),s.isExtendedInput?(p(),E("span",Ki,[x(Io,{modelData:i.modelData,optionId:s.id},null,8,["modelData","optionId"])])):P("",!0)]))),128))])])],8,Qi)],64)}}}),Xi=e=>(Me("data-v-67d64855"),e=e(),Le(),e),Zi={key:0,class:"info-field"},el={class:"info-field-header"},tl={key:0},ol={key:1,class:"required"},nl=["data-hover"],il={key:3},ll={key:0,class:"alert alert-danger"},al={key:7},rl={key:2},dl=Xi(()=>N("br",null,null,-1)),ul=L({__name:"Field",props:{model:{},modelData:{}},setup(e){const t=e,n=Q(),o=V.getFieldTitle(t.model,n.lang),l=V.getFieldDescription(t.model,n.lang),a=V.isMultilingualTextInputField(t.model),r=V.isMonolingualTextInputField(t.model),i=t.model.type===S.FieldType.AttachmentField,d=t.model.type===S.FieldType.CompositeField,c=t.model.id.toString(),s=u=>{n.putFile(u.dataTransfer.files,t.model.id)},v=u=>{const T=document.getElementById(u);n.putFile(T==null?void 0:T.files,t.model.id)};return(u,T)=>{const _=G("font-awesome-icon"),g=G("b-col"),A=G("b-row"),O=G("b-container");return p(),j(O,null,{default:pe(()=>[x(A,null,{default:pe(()=>[u.model.type===R(S.FieldType).InfoSection?(p(),E("div",Zi,[N("h3",el,Y(R(o)),1),u.model.type===R(S.FieldType).InfoSection?(p(),j(hi,{key:0,model:u.model},null,8,["model"])):P("",!0)])):u.model.type!==R(S.FieldType).CheckboxGrid?(p(),j(g,{key:1,class:"col-sm-4"},{default:pe(()=>[u.model.type!==R(S.FieldType).CompositeField?(p(),E("span",tl,Y(R(o)),1)):P("",!0),u.model.isRequired?(p(),E("span",ol,"*")):P("",!0),W(),R(l)?(p(),E("span",{key:2,class:"hovertext","data-hover":R(l)},[x(_,{icon:"fas fa-question-circle",class:"fas fa-question-circle"})],8,nl)):P("",!0),W(),u.model.type!==R(S.FieldType).CompositeField?(p(),E("span",il,":")):P("",!0)]),_:1})):P("",!0),x(g,{class:"col-sm-8"},{default:pe(()=>{var I,D;return[!((I=u.modelData)!=null&&I.isValid)&&u.model.type!=R(S.FieldType).InfoSection?(p(),E("div",ll,Y((D=u.modelData)==null?void 0:D.validationError),1)):P("",!0),u.model.type===R(S.FieldType).Checkboxes?(p(),j(ri,{key:1,model:u.model,modelData:u.modelData},null,8,["model","modelData"])):P("",!0),u.model.type===R(S.FieldType).DataList?(p(),j(fi,{key:2,model:u.model,modelData:u.modelData},null,8,["model","modelData"])):P("",!0),u.model.type===R(S.FieldType).DropDown?(p(),j(Oi,{key:3,model:u.model,modelData:u.modelData},null,8,["model","modelData"])):P("",!0),u.model.type===R(S.FieldType).RadioButtons?(p(),j(_i,{key:4,model:u.model,modelData:u.modelData},null,8,["model","modelData"])):P("",!0),R(a)?(p(),j(oi,{key:5,model:u.model,modelData:u.modelData},null,8,["model","modelData"])):P("",!0),R(r)?(p(),j(Jn,{key:6,model:u.model,modelData:u.modelData},null,8,["model","modelData"])):P("",!0),R(i)?(p(),E("div",al,[x(bi,{model:u.model,elementId:R(c),onDrop:s,onChange:T[0]||(T[0]=f=>v(R(c)))},null,8,["model","elementId"])])):P("",!0)]}),_:1}),R(d)?(p(),E("div",rl,[x(Bi,{model:u.model,modelData:u.modelData,lang:null,title:R(o),description:R(l)},null,8,["model","modelData","title","description"])])):P("",!0),u.model.type===R(S.FieldType).CheckboxGrid?(p(),j(zi,{key:3,model:u.model,modelData:u.modelData,title:R(o),description:R(l)},null,8,["model","modelData","title","description"])):P("",!0)]),_:1}),dl]),_:1})}}}),ho=Ne(ul,[["__scopeId","data-v-67d64855"]]),sl=L({__name:"Form",props:{model:{},formData:{}},setup(e){const t=e;return(n,o)=>{var l;return p(!0),E(U,null,B((l=n.model)==null?void 0:l.fields,a=>(p(),j(ho,{key:a.id,model:a,modelData:R(ce.getFieldDataFromFormData)(t.formData,a.id)},null,8,["model","modelData"]))),128)}}}),cl={class:"control"},pl=["disabled"],Tl=["disabled"],ml=L({__name:"App",props:{apiRoot:{},dataStore:{},securityToken:{},formTemplateId:{},formTemplate:{},formData:{},isUpdate:{type:Boolean},piniaInstance:{},tanentId:{},msg:{}},emits:["arcFormSubmit"],setup(e,{emit:t}){const n=e,o=Q(n.piniaInstance);o.apiRoot=n.apiRoot,o.securityToken=n.securityToken,o.formData=n.formData,Ce(()=>n.formData,i=>{o.formData=i}),Ce(()=>n.securityToken,i=>{o.securityToken=i}),n.formTemplate&&o.setForm(n.formTemplate);const l=()=>{if(n.dataStore==="Solr")o.indexFormDataInSolr(n.tanentId).then(i=>{t("arcFormSubmit",i)});else throw new Error(`submitForm function is not yet implemented for dataStore type "${n.dataStore}"`)},a=()=>{n.dataStore==="Solr"&&o.updateForm(n.tanentId).then(i=>{t("arcFormSubmit",i)})},r=k(()=>!!o.form);return(i,d)=>(p(),E(U,null,[N("h1",null,Y(i.msg),1),R(o).form?(p(),j(sl,{key:0,model:R(o).form,"form-data":R(o).getFormData},null,8,["model","form-data"])):P("",!0),N("div",cl,[i.isUpdate?P("",!0):(p(),E("button",{key:0,type:"button",class:"submit-button",disabled:!r.value,onClick:l},"Submit",8,pl)),i.isUpdate?(p(),E("button",{key:1,type:"button",class:"submit-button",disabled:!r.value,onClick:a},"Update",8,Tl)):P("",!0)])],64))}}),El=Ne(ml,[["__scopeId","data-v-52b15ab9"]]);export{El as F};
