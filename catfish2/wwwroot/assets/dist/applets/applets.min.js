var Applets=function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,i,r=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);l=!0);}catch(e){a=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var a={pageId:{required:!1,type:null},blockId:{required:!1,type:null},appletTitle:{required:!1,type:String},dataAttributes:{required:!1,type:null},queryParameters:{required:!1,type:null}},c=e.defineComponent({name:"Carousel",components:{},props:a,setup:function(e,t){console.log("Carousel setup ..."),console.log("props: ",e),console.log("context: ",t)},mounted:function(){console.log("Carousel mounted ...")}}),d=e.createElementVNode("h2",null,"Carousel",-1),s={class:"row"},u={class:"row"},m={class:"row"};function p(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}}c.render=function(t,n,o,i,r,l){return e.openBlock(),e.createElementBlock("div",null,[d,e.createElementVNode("div",s,"Page Id: "+e.toDisplayString(t.pageId),1),e.createElementVNode("div",u,"Block Id: "+e.toDisplayString(t.blockId),1),e.createElementVNode("div",m,"Data Attributes "+e.toDisplayString(t.dataAttributes),1)])};const f="function"==typeof Proxy;class v{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const t in e.settings){const o=e.settings[t];n[t]=o.defaultValue}const o=`__vue-devtools-plugin-settings__${e.id}`;let i={...n};try{const e=localStorage.getItem(o),t=JSON.parse(e);Object.assign(i,t)}catch(e){}this.fallbacks={getSettings:()=>i,setSettings(e){try{localStorage.setItem(o,JSON.stringify(e))}catch(e){}i=e}},t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function h(e,t){const n=p(),o=p().__VUE_DEVTOOLS_GLOBAL_HOOK__,i=f&&e.enableEarlyProxy;if(!o||!n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&i){const r=i?new v(e,o):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:t,proxy:r}),r&&t(r.proxiedTarget)}else o.emit("devtools-plugin:setup",e,t)}
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var g="store";function E(t){return void 0===t&&(t=null),e.inject(null!==t?t:g)}function y(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function S(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function k(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;F(e,n,[],e._modules.root,!0),T(e,n,t)}function T(t,n,o){var i=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var r=t._wrappedGetters,l={};y(r,(function(e,n){l[n]=function(e,t){return function(){return e(t)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return l[n]()},enumerable:!0})})),t._state=e.reactive({data:n}),t.strict&&function(t){e.watch((function(){return t._state.data}),(function(){}),{deep:!0,flush:"sync"})}(t),i&&o&&t._withCommit((function(){i.data=null}))}function F(e,t,n,o,i){var r=!n.length,l=e._modules.getNamespace(n);if(o.namespaced&&(e._modulesNamespaceMap[l],e._modulesNamespaceMap[l]=o),!r&&!i){var a=I(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){a[c]=o.state}))}var d=o.context=function(e,t,n){var o=""===t,i={dispatch:o?e.dispatch:function(n,o,i){var r=C(n,o,i),l=r.payload,a=r.options,c=r.type;return a&&a.root||(c=t+c),e.dispatch(c,l)},commit:o?e.commit:function(n,o,i){var r=C(n,o,i),l=r.payload,a=r.options,c=r.type;a&&a.root||(c=t+c),e.commit(c,l,a)}};return Object.defineProperties(i,{getters:{get:o?function(){return e.getters}:function(){return _(e,t)}},state:{get:function(){return I(e.state,n)}}}),i}(e,l,n);o.forEachMutation((function(t,n){!function(e,t,n,o){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){n.call(e,o.state,t)}))}(e,l+n,t,d)})),o.forEachAction((function(t,n){var o=t.root?n:l+n,i=t.handler||t;!function(e,t,n,o){(e._actions[t]||(e._actions[t]=[])).push((function(t){var i,r=n.call(e,{dispatch:o.dispatch,commit:o.commit,getters:o.getters,state:o.state,rootGetters:e.getters,rootState:e.state},t);return(i=r)&&"function"==typeof i.then||(r=Promise.resolve(r)),e._devtoolHook?r.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):r}))}(e,o,i,d)})),o.forEachGetter((function(t,n){!function(e,t,n,o){if(e._wrappedGetters[t])return;e._wrappedGetters[t]=function(e){return n(o.state,o.getters,e.state,e.getters)}}(e,l+n,t,d)})),o.forEachChild((function(o,r){F(e,t,n.concat(r),o,i)}))}function _(e,t){if(!e._makeLocalGettersCache[t]){var n={},o=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,o)===t){var r=i.slice(o);Object.defineProperty(n,r,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function I(e,t){return t.reduce((function(e,t){return e[t]}),e)}function C(e,t,n){var o;return null!==(o=e)&&"object"==typeof o&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var B="vuex:mutations",D="vuex:actions",b="vuex",N=0;function O(e,t){h({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:["vuex bindings"]},(function(n){n.addTimelineLayer({id:B,label:"Vuex Mutations",color:A}),n.addTimelineLayer({id:D,label:"Vuex Actions",color:A}),n.addInspector({id:b,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===b)if(n.filter){var o=[];w(o,t._modules.root,n.filter,""),n.rootNodes=o}else n.rootNodes=[x(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===b){var o=n.nodeId;_(t,o),n.state=function(e,t,n){t="root"===n?t:t[n];var o=Object.keys(t),i={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(o.length){var r=function(e){var t={};return Object.keys(e).forEach((function(n){var o=n.split("/");if(o.length>1){var i=t,r=o.pop();o.forEach((function(e){i[e]||(i[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),i=i[e]._custom.value})),i[r]=L((function(){return e[n]}))}else t[n]=L((function(){return e[n]}))})),t}(t);i.getters=Object.keys(r).map((function(e){return{key:e.endsWith("/")?M(e):e,editable:!1,value:L((function(){return r[e]}))}}))}return i}((i=t._modules,(l=(r=o).split("/").filter((function(e){return e}))).reduce((function(e,t,n){var o=e[t];if(!o)throw new Error('Missing module "'+t+'" for path "'+r+'".');return n===l.length-1?o:o._children}),"root"===r?i:i.root._children)),"root"===o?t.getters:t._makeLocalGettersCache,o)}var i,r,l})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===b){var o=n.nodeId,i=n.path;"root"!==o&&(i=o.split("/").filter(Boolean).concat(i)),t._withCommit((function(){n.set(t._state.data,i,n.state.value)}))}})),t.subscribe((function(e,t){var o={};e.payload&&(o.payload=e.payload),o.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(b),n.sendInspectorState(b),n.addTimelineEvent({layerId:B,event:{time:Date.now(),title:e.type,data:o}})})),t.subscribeAction({before:function(e,t){var o={};e.payload&&(o.payload=e.payload),e._id=N++,e._time=Date.now(),o.state=t,n.addTimelineEvent({layerId:D,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:o}})},after:function(e,t){var o={},i=Date.now()-e._time;o.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},e.payload&&(o.payload=e.payload),o.state=t,n.addTimelineEvent({layerId:D,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:o}})}})}))}var A=8702998,V={label:"namespaced",textColor:16777215,backgroundColor:6710886};function M(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function x(e,t){return{id:t||"root",label:M(t),tags:e.namespaced?[V]:[],children:Object.keys(e._children).map((function(n){return x(e._children[n],t+n+"/")}))}}function w(e,t,n,o){o.includes(n)&&e.push({id:o||"root",label:o.endsWith("/")?o.slice(0,o.length-1):o||"Root",tags:t.namespaced?[V]:[]}),Object.keys(t._children).forEach((function(i){w(e,t._children[i],n,o+i+"/")}))}function L(e){try{return e()}catch(e){return e}}var R=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},P={namespaced:{configurable:!0}};P.namespaced.get=function(){return!!this._rawModule.namespaced},R.prototype.addChild=function(e,t){this._children[e]=t},R.prototype.removeChild=function(e){delete this._children[e]},R.prototype.getChild=function(e){return this._children[e]},R.prototype.hasChild=function(e){return e in this._children},R.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},R.prototype.forEachChild=function(e){y(this._children,e)},R.prototype.forEachGetter=function(e){this._rawModule.getters&&y(this._rawModule.getters,e)},R.prototype.forEachAction=function(e){this._rawModule.actions&&y(this._rawModule.actions,e)},R.prototype.forEachMutation=function(e){this._rawModule.mutations&&y(this._rawModule.mutations,e)},Object.defineProperties(R.prototype,P);var U=function(e){this.register([],e,!1)};function $(e,t,n){if(t.update(n),n.modules)for(var o in n.modules){if(!t.getChild(o))return;$(e.concat(o),t.getChild(o),n.modules[o])}}U.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},U.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},U.prototype.update=function(e){$([],this.root,e)},U.prototype.register=function(e,t,n){var o=this;void 0===n&&(n=!0);var i=new R(t,n);0===e.length?this.root=i:this.get(e.slice(0,-1)).addChild(e[e.length-1],i);t.modules&&y(t.modules,(function(t,i){o.register(e.concat(i),t,n)}))},U.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],o=t.getChild(n);o&&o.runtime&&t.removeChild(n)},U.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var j=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var o=e.strict;void 0===o&&(o=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new U(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var r=this,l=this.dispatch,a=this.commit;this.dispatch=function(e,t){return l.call(r,e,t)},this.commit=function(e,t,n){return a.call(r,e,t,n)},this.strict=o;var c=this._modules.root.state;F(this,c,[],this._modules.root),T(this,c),n.forEach((function(e){return e(t)}))},q={state:{configurable:!0}};j.prototype.install=function(e,t){e.provide(t||g,this),e.config.globalProperties.$store=this,(void 0!==this._devtools?this._devtools:__VUE_PROD_DEVTOOLS__)&&O(e,this)},q.state.get=function(){return this._state.data},q.state.set=function(e){},j.prototype.commit=function(e,t,n){var o=this,i=C(e,t,n),r=i.type,l=i.payload,a={type:r,payload:l},c=this._mutations[r];c&&(this._withCommit((function(){c.forEach((function(e){e(l)}))})),this._subscribers.slice().forEach((function(e){return e(a,o.state)})))},j.prototype.dispatch=function(e,t){var n=this,o=C(e,t),i=o.type,r=o.payload,l={type:i,payload:r},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(l,n.state)}))}catch(e){}var c=a.length>1?Promise.all(a.map((function(e){return e(r)}))):a[0](r);return new Promise((function(e,t){c.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(l,n.state)}))}catch(e){}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(l,n.state,e)}))}catch(e){}t(e)}))}))}},j.prototype.subscribe=function(e,t){return S(e,this._subscribers,t)},j.prototype.subscribeAction=function(e,t){return S("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},j.prototype.watch=function(t,n,o){var i=this;return e.watch((function(){return t(i.state,i.getters)}),n,Object.assign({},o))},j.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},j.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),F(this,this.state,e,this._modules.get(e),n.preserveState),T(this,this.state)},j.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){delete I(t.state,e.slice(0,-1))[e[e.length-1]]})),k(this)},j.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},j.prototype.hotUpdate=function(e){this._modules.update(e),k(this,!0)},j.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(j.prototype,q);var G,Y;!function(e){e.SET_SOURCE="SET_SOURCE",e.SET_KEYWORDS="SET_KEYWORDS",e.SET_RESULTS="SET_RESULTS",e.SET_OFFSET="SET_OFFSET",e.SET_PAGE_SIZE="SET_PAGE_SIZE"}(Y||(Y={}));var H,K,z=(i(G={},Y.SET_SOURCE,(function(e,t){e.pageId=t.pageId,e.blockId=t.blockId})),i(G,Y.SET_KEYWORDS,(function(e,t){console.log("SET_KEYWORDS Payload: ",t),e.keywordQueryModel=t})),i(G,Y.SET_RESULTS,(function(e,t){e.searchResult=t,e.offset=t.first-1})),i(G,Y.SET_OFFSET,(function(e,t){e.offset=t})),i(G,Y.SET_PAGE_SIZE,(function(e,t){e.max=t})),G);!function(e){e.INIT_FILTER="INIT_FILTER",e.FILTER_BY_KEYWORDS="FILTER_BY_KEYWORDS",e.NEXT_PAGE="NEXT_PAGE",e.PREVIOUS_PAGE="PREVIOUS_PAGE",e.FRESH_SEARCH="FRESH_SEARCH",e.SAVE_KEYWORDS="SAVE_KEYWORDS"}(K||(K={}));var X=(i(H={},K.INIT_FILTER,(function(e){var t=window.location.origin+"/applets/api/keywordsearch/keywords/page/".concat(e.state.pageId,"/block/").concat(e.state.blockId);console.log("Keyword Load API: ",t),fetch(t).then((function(e){return e.json()})).then((function(t){e.commit(Y.SET_KEYWORDS,t)}))})),i(H,K.FILTER_BY_KEYWORDS,(function(e){if(console.log("Dispatched Actions.FILTER_BY_KEYWORDS. Query model: ",JSON.stringify(e.state.keywordQueryModel)),e.state.blockId){var t={keywords:e.state.keywordQueryModel,offset:e.state.offset,max:e.state.max};localStorage.setItem(e.getters.searchParamStorageKey,JSON.stringify(t))}var n=window.location.origin+"/applets/api/keywordsearch/items/";console.log("Item Load API: ",n);var o=new FormData;e.state.pageId&&o.append("pageId",e.state.pageId.toString()),e.state.blockId&&o.append("blockId",e.state.blockId.toString()),o.append("offset",e.state.offset.toString()),o.append("max",e.state.max.toString()),o.append("queryParams",JSON.stringify(e.state.keywordQueryModel)),fetch(n,{method:"POST",body:o}).then((function(e){return e.json()})).then((function(t){e.commit(Y.SET_RESULTS,t)})).catch((function(e){console.error("Item Load API Error:",e)}))})),i(H,K.NEXT_PAGE,(function(e){e.commit(Y.SET_OFFSET,e.state.offset+e.state.max),e.dispatch(K.FILTER_BY_KEYWORDS)})),i(H,K.PREVIOUS_PAGE,(function(e){var t=Math.max(e.state.offset-e.state.max,0);e.commit(Y.SET_OFFSET,t),e.dispatch(K.FILTER_BY_KEYWORDS)})),i(H,K.FRESH_SEARCH,(function(e,t){e.commit(Y.SET_OFFSET,0),t&&e.commit(Y.SET_PAGE_SIZE,t),e.dispatch(K.FILTER_BY_KEYWORDS)})),i(H,K.SAVE_KEYWORDS,(function(e,t){console.log("save keywords action :"+JSON.stringify(t)),e.commit(Y.SET_KEYWORDS,t)})),H),W=e.defineComponent({name:"KeywordFilter",setup:function(){var t=E();return{runFreshSearch:function(){return t.dispatch(K.FRESH_SEARCH)},keywordQueryModel:e.computed((function(){return t.state.keywordQueryModel}))}}}),Q={key:0},J={key:0,class:"font-weight-bold"},Z=["value","onUpdate:modelValue"],ee={class:"ml-1"};W.render=function(t,n,o,i,r,l){var a;return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.keywordQueryModel)||void 0===a?void 0:a.containers,(function(o,i){var r,l;return e.openBlock(),e.createElementBlock("div",{key:o},[(null===(r=t.keywordQueryModel)||void 0===r?void 0:r.containers.length)>1&&(null==o||null===(l=o.name)||void 0===l?void 0:l.length)>0?(e.openBlock(),e.createElementBlock("div",Q,e.toDisplayString(o.name),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.fields,(function(o,r){return e.openBlock(),e.createElementBlock("div",{key:o,class:"mb-3"},[o.name.length>0?(e.openBlock(),e.createElementBlock("div",J,e.toDisplayString(o.name),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.values,(function(o,l){return e.openBlock(),e.createElementBlock("div",{key:o},[e.withDirectives(e.createElementVNode("input",{type:"checkbox",value:o,"onUpdate:modelValue":function(e){return t.keywordQueryModel.containers[i].fields[r].selected[l]=e},onChange:n[0]||(n[0]=function(){return t.runFreshSearch&&t.runFreshSearch.apply(t,arguments)})},null,40,Z),[[e.vModelCheckbox,t.keywordQueryModel.containers[i].fields[r].selected[l]]]),e.createElementVNode("label",ee,e.toDisplayString(o),1)])})),128))])})),128))])})),128)};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function te(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var ne=te((function(e,t){e.exports=function(){var e=1e3,t=6e4,n=36e5,o="millisecond",i="second",r="minute",l="hour",a="day",c="week",d="month",s="quarter",u="year",m="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(e,t,n){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(n)+e},E={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),o=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+g(o,2,"0")+":"+g(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var o=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(o,d),r=n-i<0,l=t.clone().add(o+(r?-1:1),d);return+(-(o+(n-i)/(r?i-l:l-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:d,y:u,w:c,d:a,D:m,h:l,m:r,s:i,ms:o,Q:s}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",S={};S[y]=h;var k=function(e){return e instanceof I},T=function(e,t,n){var o;if(!e)return y;if("string"==typeof e)S[e]&&(o=e),t&&(S[e]=t,o=e);else{var i=e.name;S[i]=e,o=i}return!n&&o&&(y=o),o||!n&&y},F=function(e,t){if(k(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new I(n)},_=E;_.l=T,_.i=k,_.w=function(e,t){return F(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var I=function(){function h(e){this.$L=T(e.locale,null,!0),this.parse(e)}var g=h.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(_.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(f);if(o){var i=o[2]-1||0,r=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],i,o[3]||1,o[4]||0,o[5]||0,o[6]||0,r)):new Date(o[1],i,o[3]||1,o[4]||0,o[5]||0,o[6]||0,r)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return _},g.isValid=function(){return!(this.$d.toString()===p)},g.isSame=function(e,t){var n=F(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return F(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<F(e)},g.$g=function(e,t,n){return _.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,o=!!_.u(t)||t,s=_.p(e),p=function(e,t){var i=_.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return o?i:i.endOf(a)},f=function(e,t){return _.w(n.toDate()[e].apply(n.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},v=this.$W,h=this.$M,g=this.$D,E="set"+(this.$u?"UTC":"");switch(s){case u:return o?p(1,0):p(31,11);case d:return o?p(1,h):p(0,h+1);case c:var y=this.$locale().weekStart||0,S=(v<y?v+7:v)-y;return p(o?g-S:g+(6-S),h);case a:case m:return f(E+"Hours",0);case l:return f(E+"Minutes",1);case r:return f(E+"Seconds",2);case i:return f(E+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,c=_.p(e),s="set"+(this.$u?"UTC":""),p=(n={},n[a]=s+"Date",n[m]=s+"Date",n[d]=s+"Month",n[u]=s+"FullYear",n[l]=s+"Hours",n[r]=s+"Minutes",n[i]=s+"Seconds",n[o]=s+"Milliseconds",n)[c],f=c===a?this.$D+(t-this.$W):t;if(c===d||c===u){var v=this.clone().set(m,1);v.$d[p](f),v.init(),this.$d=v.set(m,Math.min(this.$D,v.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[_.p(e)]()},g.add=function(o,s){var m,p=this;o=Number(o);var f=_.p(s),v=function(e){var t=F(p);return _.w(t.date(t.date()+Math.round(e*o)),p)};if(f===d)return this.set(d,this.$M+o);if(f===u)return this.set(u,this.$y+o);if(f===a)return v(1);if(f===c)return v(7);var h=(m={},m[r]=t,m[l]=n,m[i]=e,m)[f]||1,g=this.$d.getTime()+o*h;return _.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var o=e||"YYYY-MM-DDTHH:mm:ssZ",i=_.z(this),r=this.$H,l=this.$m,a=this.$M,c=n.weekdays,d=n.months,s=function(e,n,i,r){return e&&(e[n]||e(t,o))||i[n].substr(0,r)},u=function(e){return _.s(r%12||12,e,"0")},m=n.meridiem||function(e,t,n){var o=e<12?"AM":"PM";return n?o.toLowerCase():o},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:_.s(a+1,2,"0"),MMM:s(n.monthsShort,a,d,3),MMMM:s(d,a),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:s(n.weekdaysMin,this.$W,c,2),ddd:s(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(r),HH:_.s(r,2,"0"),h:u(1),hh:u(2),a:m(r,l,!0),A:m(r,l,!1),m:String(l),mm:_.s(l,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:i};return o.replace(v,(function(e,t){return t||f[e]||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(o,m,p){var f,v=_.p(m),h=F(o),g=(h.utcOffset()-this.utcOffset())*t,E=this-h,y=_.m(this,h);return y=(f={},f[u]=y/12,f[d]=y,f[s]=y/3,f[c]=(E-g)/6048e5,f[a]=(E-g)/864e5,f[l]=E/n,f[r]=E/t,f[i]=E/e,f)[v]||E,p?y:_.a(y)},g.daysInMonth=function(){return this.endOf(d).$D},g.$locale=function(){return S[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),o=T(e,t,!0);return o&&(n.$L=o),n},g.clone=function(){return _.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},h}(),C=I.prototype;return F.prototype=C,[["$ms",o],["$s",i],["$m",r],["$H",l],["$W",a],["$M",d],["$y",u],["$D",m]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),F.extend=function(e,t){return e.$i||(e(t,I,F),e.$i=!0),F},F.locale=T,F.isDayjs=k,F.unix=function(e){return F(1e3*e)},F.en=S[y],F.Ls=S,F.p={},F}()})),oe=ne,ie=e.defineComponent({name:"ItemList",props:{},setup:function(){var t=E(),n=e.ref(25);return{items:e.computed((function(){var e;return null===(e=t.state.searchResult)||void 0===e?void 0:e.items})),freshSearch:function(e){return t.dispatch(K.FRESH_SEARCH,e)},nextPage:function(){return t.dispatch(K.NEXT_PAGE)},previousPage:function(){return t.dispatch(K.PREVIOUS_PAGE)},selectedPageSize:n,count:e.computed((function(){var e;return null===(e=t.state.searchResult)||void 0===e?void 0:e.count})),first:e.computed((function(){var e;return null===(e=t.state.searchResult)||void 0===e?void 0:e.first})),last:e.computed((function(){var e;return null===(e=t.state.searchResult)||void 0===e?void 0:e.last}))}},methods:{formatDate:function(e){return oe(e).format("MMM DD, YYYY")}}}),re={class:"itemList"},le={key:0},ae={key:0},ce={key:1},de=[e.createElementVNode("option",null,"25",-1),e.createElementVNode("option",null,"50",-1),e.createElementVNode("option",null,"100",-1)],se={key:1},ue={class:"item"},me={class:"item-title"},pe=["href"],fe={key:1},ve={class:"item-date"},he={class:"item-subtitle"},ge={class:"categories"},Ee={class:"badge rounded-pill bg-dark text-white m-1"},ye={class:"content"};ie.render=function(t,n,o,i,r,l){var a;return e.openBlock(),e.createElementBlock("div",re,[(null===(a=t.items)||void 0===a?void 0:a.length)>0?(e.openBlock(),e.createElementBlock("div",le,[t.first>1?(e.openBlock(),e.createElementBlock("span",ae,[e.createElementVNode("i",{class:"fas fa-angle-double-left",onClick:n[0]||(n[0]=function(){return t.previousPage&&t.previousPage.apply(t,arguments)})})])):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(t.first)+"-"+e.toDisplayString(t.last)+" of "+e.toDisplayString(t.count)+" ",1),t.count>t.last?(e.openBlock(),e.createElementBlock("span",ce,[e.createElementVNode("i",{class:"fas fa-angle-double-right",onClick:n[1]||(n[1]=function(){return t.nextPage&&t.nextPage.apply(t,arguments)})})])):e.createCommentVNode("",!0),e.createElementVNode("span",null,[e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":n[2]||(n[2]=function(e){return t.selectedPageSize=e}),class:"pull-right",onChange:n[3]||(n[3]=function(e){return t.freshSearch(Number(t.selectedPageSize))})},de,544),[[e.vModelSelect,t.selectedPageSize]])])])):(e.openBlock(),e.createElementBlock("div",se,"No results found.")),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.items,(function(n){var o;return e.openBlock(),e.createElementBlock("div",{key:n.id},[e.createElementVNode("div",ue,[e.createElementVNode("h3",me,[(null===(o=n.detailedViewUrl)||void 0===o?void 0:o.length)>0?(e.openBlock(),e.createElementBlock("a",{key:0,href:n.detailedViewUrl},e.toDisplayString(n.title),9,pe)):(e.openBlock(),e.createElementBlock("span",fe,e.toDisplayString(n.title),1))]),e.createElementVNode("div",ve,e.toDisplayString(t.formatDate(n.date)),1),e.createElementVNode("h5",he,e.toDisplayString(n.subtitle),1),e.createElementVNode("div",ge,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.categories,(function(t){return e.openBlock(),e.createElementBlock("span",Ee,e.toDisplayString(t),1)})),256))]),e.createElementVNode("div",ye,e.toDisplayString(n.content),1)])])})),128))])};var Se=e.defineComponent({name:"Applet",components:{KeywordFilter:W,ItemList:ie},props:a,setup:function(t){console.log("Keyword Search setup ...",t);var n=E();n.commit(Y.SET_SOURCE,{pageId:t.pageId,blockId:t.blockId});var o,i=localStorage.getItem(n.getters.searchParamStorageKey);return i&&i.length>0&&(o=JSON.parse(i))&&o.keywords?(n.commit(Y.SET_KEYWORDS,o.keywords),n.commit(Y.SET_OFFSET,o.offset),n.commit(Y.SET_PAGE_SIZE,o.max)):n.dispatch(K.INIT_FILTER),e.onMounted((function(){return n.dispatch(K.FILTER_BY_KEYWORDS)})),{keywordQueryModel:e.ref(n.state.keywordQueryModel)}},storeConfig:{state:{keywordQueryModel:null,searchResult:null,offset:0,max:25,pageId:null,blockId:null},actions:X,mutations:z,getters:{searchParamStorageKey:function(e){var t;return(null===(t=e.blockId)||void 0===t?void 0:t.toString())+"SearchParams"}}}}),ke={class:"row"},Te={class:"col-md-4 text-left"},Fe={class:"col-md-8"};Se.render=function(t,n,o,i,r,l){var a=e.resolveComponent("KeywordFilter"),c=e.resolveComponent("ItemList");return e.openBlock(),e.createElementBlock("div",ke,[e.createElementVNode("div",Te,[e.createVNode(a)]),e.createElementVNode("div",Fe,[e.createVNode(c)])])};var _e,Ie;!function(e){e.SET_ID="SET_ID",e.SET_TEMPLATE="SET_TEMPLATE"}(Ie||(Ie={}));var Ce,Be,De=(i(_e={},Ie.SET_ID,(function(e,t){e.Id=t})),i(_e,Ie.SET_TEMPLATE,(function(e,t){e.template=t})),_e);!function(e){e.LOAD_TEMPLATE="LOAD_TEMPLATE",e.SET_ID="SET_ID"}(Be||(Be={}));var be=(i(Ce={},Be.LOAD_TEMPLATE,(function(e){var t=window.location.origin+"/applets/api/itemtemplates/".concat(e.state.Id);fetch(t).then((function(e){return e.json()})).then((function(t){e.commit(Ie.SET_TEMPLATE,t)}))})),i(Ce,Be.SET_ID,(function(e,t){e.commit(Ie.SET_ID,t)})),Ce),Ne=e.defineComponent({name:"NotificationEditor",props:{fieldContainer:{required:!1,type:null}},setup:function(){}});Ne.render=function(t,n,o,i,r,l){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h4",null,e.toDisplayString(t.fieldContainer.name.concatenatedContent),1),e.createElementVNode("div",null,e.toDisplayString(t.fieldContainer),1)],64)};var Oe=e.defineComponent({name:"FormEditor",props:["form"],setup:function(){}});Oe.render=function(t,n,o,i,r,l){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h4",null,e.toDisplayString(t.form.name.concatenatedContent),1),e.createElementVNode("div",null,e.toDisplayString(t.form),1)],64)};var Ae=e.defineComponent({name:"MetadatasetEditor",props:["metadataset"],setup:function(){}});Ae.render=function(t,n,o,i,r,l){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h4",null,e.toDisplayString(t.metadataset.name.concatenatedContent),1),e.createElementVNode("div",null,e.toDisplayString(t.metadataset),1)],64)};var Ve=e.defineComponent({name:"ItemTemplate",components:{NotificationEditor:Ne,FormEditor:Oe,MetadatasetEditor:Ae},props:{},setup:function(){var t=E(),n=e.ref(null);return{template:e.computed((function(){return t.state.template})),metadataSets:e.computed((function(){var e;return null===(e=t.state.template)||void 0===e?void 0:e.metadataSets})),dataContainer:e.computed((function(){var e;return null===(e=t.state.template)||void 0===e?void 0:e.dataContainer})),activePanel:n}},methods:{formatDate:function(e){return oe(e).format("MMM DD, YYYY")}}}),Me=function(t){return e.pushScopeId("data-v-2579f0c4"),t=t(),e.popScopeId(),t},xe={class:"container row itemTemplate"},we={class:"col-md-4"},Le=[Me((function(){return e.createElementVNode("div",{class:"sectionLabel"},"Overview",-1)}))],Re=[Me((function(){return e.createElementVNode("div",{class:"sectionLabel"},"Notifications",-1)}))],Pe=["onClick"],Ue=[Me((function(){return e.createElementVNode("div",{class:"sectionLabel"},"Forms",-1)}))],$e=["onClick"],je=[Me((function(){return e.createElementVNode("div",{class:"sectionLabel"},"Metadata Forms",-1)}))],qe=["onClick"],Ge={class:"col-md-8"},Ye={key:0,class:"col-12 wrapper"},He=[Me((function(){return e.createElementVNode("h4",null,"Overview",-1)}))],Ke={key:1,class:"col-12 wrapper"},ze=[Me((function(){return e.createElementVNode("h4",null,"Notifications",-1)}))],Xe={key:0},We={key:2,class:"col-12 wrapper"},Qe=[Me((function(){return e.createElementVNode("h4",null,"Forms",-1)}))],Je={key:0},Ze={key:3,class:"col-12 wrapper"},et=[Me((function(){return e.createElementVNode("h4",null,"Metadata Forms",-1)}))],tt={key:0};function nt(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}nt("\n.menuEntry[data-v-2579f0c4]{\r\n        border: 1px solid Grey;\r\n        margin: 10px;\r\n        padding: 10px 10px;\n}\n.menuEntry.active[data-v-2579f0c4] {\r\n            background-color: #BBBCAA;\n}\n.sectionLabel[data-v-2579f0c4]{\r\n        font-weight: bold;\n}\n.wrapper[data-v-2579f0c4]{\r\n        margin: 0;\r\n        padding: 0;\n}\r\n"),Ve.render=function(t,n,o,i,r,l){var a,c,d,s,u,m=e.resolveComponent("NotificationEditor"),p=e.resolveComponent("FormEditor"),f=e.resolveComponent("MetadatasetEditor");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h3",null,e.toDisplayString(null===(a=t.template)||void 0===a?void 0:a.templateName),1),e.createElementVNode("div",xe,[e.createElementVNode("div",we,[e.createElementVNode("div",{class:e.normalizeClass(["col-12 menuEntry","overview"==t.activePanel||null==t.activePanel?"active":""]),onClick:n[0]||(n[0]=function(e){return t.activePanel="overview"})},Le,2),e.createElementVNode("div",{class:e.normalizeClass(["col-12 menuEntry","notifications"==t.activePanel?"active":""]),onClick:n[1]||(n[1]=function(e){return t.activePanel="notifications"})},Re,2),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(c=t.metadataSets)||void 0===c?void 0:c.filter((function(e){return 1==e.isTemplate})),(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:e.normalizeClass(["col-12 menuEntry",t.activePanel==n.id?"active":""]),onClick:function(e){return t.activePanel=n.id}},e.toDisplayString(n.name.concatenatedContent),11,Pe)})),128)),e.createElementVNode("div",{class:"col-12 menuEntry",onClick:n[2]||(n[2]=function(e){return t.activePanel="forms"})},Ue),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.dataContainer,(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:e.normalizeClass(["col-12 menuEntry",t.activePanel==n.id?"active":""]),onClick:function(e){return t.activePanel=n.id}},e.toDisplayString(n.name.concatenatedContent),11,$e)})),128)),e.createElementVNode("div",{class:"col-12 menuEntry",onClick:n[3]||(n[3]=function(e){return t.activePanel="metadata-forms"})},je),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(d=t.metadataSets)||void 0===d?void 0:d.filter((function(e){return 0==e.isTemplate})),(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:e.normalizeClass(["col-12 menuEntry",t.activePanel==n.id?"active":""]),onClick:function(e){return t.activePanel=n.id}},e.toDisplayString(n.name.concatenatedContent),11,qe)})),128))]),e.createElementVNode("div",Ge,[null==t.activePanel||"overview"==t.activePanel?(e.openBlock(),e.createElementBlock("div",Ye,He)):e.createCommentVNode("",!0),"notifications"==t.activePanel?(e.openBlock(),e.createElementBlock("div",Ke,ze)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(s=t.metadataSets)||void 0===s?void 0:s.filter((function(e){return 1==e.isTemplate})),(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:"col-12 wrapper"},[t.activePanel==n.id?(e.openBlock(),e.createElementBlock("div",Xe,[e.createVNode(m,{fieldContainer:n},null,8,["fieldContainer"])])):e.createCommentVNode("",!0)])})),128)),"forms"==t.activePanel?(e.openBlock(),e.createElementBlock("div",We,Qe)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.dataContainer,(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:"col-12 wrapper"},[t.activePanel==n.id?(e.openBlock(),e.createElementBlock("div",Je,[e.createVNode(p,{form:n},null,8,["form"])])):e.createCommentVNode("",!0)])})),128)),"metadata-forms"==t.activePanel?(e.openBlock(),e.createElementBlock("div",Ze,et)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(u=t.metadataSets)||void 0===u?void 0:u.filter((function(e){return 0==e.isTemplate})),(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:"col-12 wrapper"},[t.activePanel==n.id?(e.openBlock(),e.createElementBlock("div",tt,[e.createVNode(f,{metadataset:n},null,8,["metadataset"])])):e.createCommentVNode("",!0)])})),128))])])],64)},Ve.__scopeId="data-v-2579f0c4";var ot=e.defineComponent({name:"ItemTemplateEditor",components:{ItemTemplate:Ve},props:a,setup:function(e){var t=E();console.log("Item Template Editor setup ..."),console.log("props: ",JSON.stringify(e));var n=e.queryParameters;return t.dispatch("SET_ID",n.id),t.dispatch("LOAD_TEMPLATE"),{queryParams:n}},storeConfig:{state:{Id:null,template:null},actions:be,mutations:De,getters:{}}}),it=e.createElementVNode("h3",null,"Item Template Editor",-1);ot.render=function(t,n,o,i,r,l){var a=e.resolveComponent("ItemTemplate");return e.openBlock(),e.createElementBlock(e.Fragment,null,[it,e.createElementVNode("div",null,"Item Template ID: "+e.toDisplayString(t.queryParameters.id),1),e.createVNode(a)],64)};var rt=e.defineComponent({name:"ItemEditor",components:{},props:a,setup:function(e,t){return console.log("Editor setup ..."),console.log("props: ",e),console.log("context: ",t),{queryParameters:e.queryParameters}},mounted:function(){console.log("Editor mounted ...")}}),lt=e.createElementVNode("h2",null,"Item Ediror",-1);rt.render=function(t,n,o,i,r,l){return e.openBlock(),e.createElementBlock("div",null,[lt,e.createElementVNode("div",null,"Item ID: "+e.toDisplayString(t.queryParameters.id),1)])};var at,ct;!function(e){e.SET_ID="SET_ID",e.SET_ITEM="SET_ITEM"}(ct||(ct={}));var dt,st=(i(at={},ct.SET_ID,(function(e,t){e.id=t,console.log("Mutations.SET_ID: ",e.id)})),i(at,ct.SET_ITEM,(function(e,t){e.item=t})),at);!function(e){e.LOAD_ITEM="LOAD_ITEM"}(dt||(dt={}));var ut,mt,pt,ft=i({},dt.LOAD_ITEM,(function(e){var t=window.location.origin+"/applets/api/itemeditor/".concat(e.state.id);console.log("Item Load API: ",t),fetch(t).then((function(e){return e.json()})).then((function(t){e.commit(ct.SET_ITEM,t)}))})),vt={rootDataItem:function(e){var t,n,o;return null===(t=e.item)||void 0===t||null===(n=t.dataContainer)||void 0===n||null===(o=n.$values)||void 0===o?void 0:o.filter((function(e){return e.isRoot}))[0]},metadataSet:function(e){return function(t){var n,o,i;return console.log("metadataset getter id: "+JSON.stringify(t)),null===(n=e.item)||void 0===n||null===(o=n.metadataSets)||void 0===o||null===(i=o.$values)||void 0===i?void 0:i.find((function(e){return e.templateId===t}))}},dataItemId:function(e){var t,n,o,i;return null===(t=e.item)||void 0===t||null===(n=t.dataContainer)||void 0===n||null===(o=n.$values)||void 0===o||null===(i=o.filter((function(e){return e.isRoot}))[0])||void 0===i?void 0:i.id}};!function(e){e[e[void 0]=0]="undefined",e[e.data=1]="data",e[e.metadata=2]="metadata"}(ut||(ut={})),function(e){e[e.AttachmentField=0]="AttachmentField",e[e.CheckboxField=1]="CheckboxField",e[e.CompositeField=2]="CompositeField",e[e.DateField=3]="DateField",e[e.DecimalField=4]="DecimalField",e[e.EmailField=5]="EmailField",e[e.FieldContainerReference=6]="FieldContainerReference",e[e.InfoSection=7]="InfoSection",e[e.IntegerField=8]="IntegerField",e[e.MonolingualTextField=9]="MonolingualTextField",e[e.RadioField=10]="RadioField",e[e.SelectField=11]="SelectField",e[e.TableField=12]="TableField",e[e.TextArea=13]="TextArea",e[e.TextField=14]="TextField"}(mt||(mt={})),function(e){e.VALID="VALID",e.VALUE_REQUIRED="VALUE_REQUIRED",e.INVALID="INVALID"}(pt||(pt={}));var ht=function(){function e(){t(this,e)}return o(e,null,[{key:"getSelectedFieldLabels",value:function(e){return null==e?void 0:e.filter((function(e){return e.selected})).map((function(e){var t;return null===(t=e.optionText)||void 0===t?void 0:t.values.$values.map((function(e){return e.value})).join(" / ")})).join(", ")}}]),e}(),gt=e.defineComponent({name:"Text",props:{model:{type:null,required:!0}},methods:{isUrl:function(e){return(null==e?void 0:e.startsWith("http://"))||(null==e?void 0:e.startsWith("https://"))}}}),Et={key:0},yt=["href"],St={key:1};gt.render=function(t,n,o,i,r,l){return t.isUrl(t.model.value)?(e.openBlock(),e.createElementBlock("div",Et,[e.createElementVNode("a",{href:t.model.value},e.toDisplayString(t.model.value),9,yt)])):(e.openBlock(),e.createElementBlock("div",St,e.toDisplayString(t.model.value),1))};var kt=e.defineComponent({name:"TextCollection",props:{model:{type:null,required:!0}},components:{Text:gt}});kt.render=function(t,n,o,i,r,l){var a=e.resolveComponent("Text");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values.$values,(function(t){return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(a,{model:t},null,8,["model"])])})),256)};var Tt=e.defineComponent({name:"TextField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!0},isMultiline:{type:Boolean,required:!1,default:!0}},components:{TextCollection:kt}});Tt.render=function(t,n,o,i,r,l){var a=e.resolveComponent("TextCollection");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values.$values,(function(t){return e.openBlock(),e.createElementBlock("div",{key:t.id},[e.createVNode(a,{model:t},null,8,["model"])])})),128)};var Ft=e.defineComponent({name:"EmailField",props:{model:{type:null,required:!0},isMultivalue:{type:Boolean,required:!1,default:!1}}});Ft.render=function(t,n,o,i,r,l){return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values.$values,(function(t){return e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(t.value),1)})),256)};var _t=e.defineComponent({name:"OptionsField",components:{},props:{model:{type:Object,required:!0}},methods:{getSelectedFieldLabels:function(e){return ht.getSelectedFieldLabels(e.options.$values)}}});_t.render=function(t,n,o,i,r,l){return e.toDisplayString(t.getSelectedFieldLabels(t.model))};var It=e.defineComponent({name:"DecimalField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!1},numDecimalPlaces:{type:Number,required:!1,default:2}},methods:{formatToDecimal:function(e,t){return Number(e).toFixed(t)}}});It.render=function(t,n,o,i,r,l){return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values.$values,(function(n){return e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(t.formatToDecimal(n,t.numDecimalPlaces)),1)})),256)};var Ct=e.defineComponent({name:"IntegerField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!1}}});Ct.render=function(t,n,o,i,r,l){return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values.$values,(function(t){return e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(t.value),1)})),256)};var Bt=e.defineComponent({name:"DateField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!1}},methods:{formatDate:function(e){return oe(e).format("MMM DD, YYYY")}}});Bt.render=function(t,n,o,i,r,l){return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values.$values,(function(n){return e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(t.formatDate(n.value)),1)})),256)};var Dt=e.defineComponent({name:"ChildFieldContainer",props:{model:null},components:{TextField:Tt,EmailField:Ft,OptionsField:_t,DecimalField:It,IntegerField:Ct,DateField:Bt},methods:{getFieldType:function(e){var t,n=null==e?void 0:e.$type.substring(0,e.$type.indexOf(","));return n=null===(t=n)||void 0===t?void 0:t.substring(n.lastIndexOf(".")+1),mt[n]},isAttachmentField:function(e){return this.getFieldType(e)===mt.AttachmentField},isOptionsField:function(e){return this.getFieldType(e)===mt.CheckboxField||this.getFieldType(e)===mt.RadioField||this.getFieldType(e)===mt.SelectField},isCompositeField:function(e){return this.getFieldType(e)===mt.CompositeField},isDateField:function(e){return this.getFieldType(e)===mt.DateField},isDecimalField:function(e){return this.getFieldType(e)===mt.DecimalField},isEmailField:function(e){return this.getFieldType(e)===mt.EmailField},isFieldContainerReference:function(e){return this.getFieldType(e)===mt.FieldContainerReference},isInfoSection:function(e){return this.getFieldType(e)===mt.InfoSection},isIntegerField:function(e){return this.getFieldType(e)===mt.IntegerField},isMonolingualTextField:function(e){return this.getFieldType(e)===mt.MonolingualTextField},isTableField:function(e){return this.getFieldType(e)===mt.TableField},isTextArea:function(e){return this.getFieldType(e)===mt.TextArea},isTextField:function(e){return this.getFieldType(e)===mt.TextField},cssClass:function(e){return(e.cssClass?e.cssClass:"")+" "+(e.fieldCssClass?e.fieldCssClass:"")}}}),bt={class:"field-name col-md-3"},Nt={class:"field-value col-md-9"},Ot={key:7},At={key:8},Vt={key:9},Mt={key:11};Dt.render=function(t,n,o,i,r,l){var a=this,c=e.resolveComponent("TextField"),d=e.resolveComponent("EmailField"),s=e.resolveComponent("OptionsField"),u=e.resolveComponent("DecimalField"),m=e.resolveComponent("IntegerField"),p=e.resolveComponent("DateField");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.fields.$values,(function(n){return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["row",t.cssClass(n)])},[e.createElementVNode("div",bt,e.toDisplayString(n.name.concatenatedContent),1),e.createElementVNode("div",Nt,[a.isTextField(n)?(e.openBlock(),e.createBlock(c,{key:0,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isTextArea(n)?(e.openBlock(),e.createBlock(c,{key:1,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isEmailField(n)?(e.openBlock(),e.createBlock(d,{key:2,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isOptionsField(n)?(e.openBlock(),e.createBlock(s,{key:3,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isDecimalField(n)?(e.openBlock(),e.createBlock(u,{key:4,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isIntegerField(n)?(e.openBlock(),e.createBlock(m,{key:5,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isDateField(n)?(e.openBlock(),e.createBlock(p,{key:6,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isAttachmentField(t.model)?(e.openBlock(),e.createElementBlock("div",Ot," AttachmentField ")):e.createCommentVNode("",!0),a.isCompositeField(t.model)?(e.openBlock(),e.createElementBlock("div",At," CompositeField ")):e.createCommentVNode("",!0),a.isInfoSection(t.model)?(e.openBlock(),e.createElementBlock("div",Vt," InfoSection ")):e.createCommentVNode("",!0),a.isMonolingualTextField(t.model)?(e.openBlock(),e.createBlock(c,{key:10,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isTableField(t.model)?(e.openBlock(),e.createElementBlock("div",Mt," TableField ")):e.createCommentVNode("",!0)])],2)})),256)};var xt=e.defineComponent({name:"FieldContainerReference",components:{ChildFieldContainer:Dt},props:{model:{type:null,required:!0}},setup:function(t){var n=E(),o=e.ref(t.model.refId);return console.log("refId: "+JSON.stringify(o)),{refId:o,source:e.computed((function(){return n.getters.metadataSet(o.value)}))}}});xt.render=function(t,n,o,i,r,l){var a=e.resolveComponent("ChildFieldContainer");return e.openBlock(),e.createBlock(a,{model:t.source},null,8,["model"])};var wt=e.defineComponent({name:"AttachmentField",components:{},props:{model:{type:null,required:!0}},setup:function(t){var n=E(),o=e.ref(n.state.item.id),i=e.ref(n.getters.dataItemId);return{itemId:o,fileUrl:"/api/items/"+o.value+"/"+i.value+"/"+t.model.id+"/"}}}),Lt=["href"],Rt=["src"];nt("\n.img-thumbnail[data-v-307ae89a]{\r\n        width:35px;\r\n        height: auto;\r\n        margin-right: 10px;\n}\r\n"),wt.render=function(t,n,o,i,r,l){return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.files.$values,(function(n){return e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("a",{href:t.fileUrl+n.fileName},[e.createElementVNode("img",{src:n.thumbnail,class:"img-thumbnail"},null,8,Rt)],8,Lt),e.createTextVNode(e.toDisplayString(n.originalFileName),1)])})),256)},wt.__scopeId="data-v-307ae89a";var Pt=e.defineComponent({name:"InfoField",props:{model:{type:null,required:!0}}}),Ut=["innerHTML"];Pt.render=function(t,n,o,i,r,l){return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.content.values.$values,(function(t){return e.openBlock(),e.createElementBlock("div",{key:t.id},[e.createElementVNode("div",{innerHTML:t.value},null,8,Ut)])})),128)};var $t=e.defineComponent({name:"FieldContainer",props:{model:null},components:{TextField:Tt,EmailField:Ft,OptionsField:_t,DecimalField:It,IntegerField:Ct,DateField:Bt,ReferenceField:xt,AttachmentField:wt,InfoField:Pt},methods:{getFieldType:function(e){var t,n=null==e?void 0:e.$type.substring(0,e.$type.indexOf(","));return n=null===(t=n)||void 0===t?void 0:t.substring(n.lastIndexOf(".")+1),mt[n]},isAttachmentField:function(e){return this.getFieldType(e)===mt.AttachmentField},isOptionsField:function(e){return this.getFieldType(e)===mt.CheckboxField||this.getFieldType(e)===mt.RadioField||this.getFieldType(e)===mt.SelectField},isCompositeField:function(e){return this.getFieldType(e)===mt.CompositeField},isDateField:function(e){return this.getFieldType(e)===mt.DateField},isDecimalField:function(e){return this.getFieldType(e)===mt.DecimalField},isEmailField:function(e){return this.getFieldType(e)===mt.EmailField},isFieldContainerReference:function(e){return this.getFieldType(e)===mt.FieldContainerReference},isInfoSection:function(e){return this.getFieldType(e)===mt.InfoSection},isIntegerField:function(e){return this.getFieldType(e)===mt.IntegerField},isMonolingualTextField:function(e){return this.getFieldType(e)===mt.MonolingualTextField},isTableField:function(e){return this.getFieldType(e)===mt.TableField},isTextArea:function(e){return this.getFieldType(e)===mt.TextArea},isTextField:function(e){return this.getFieldType(e)===mt.TextField},cssClass:function(e){return e.cssClass+" "+e.fieldCssClass}}}),jt={class:"field-name col-md-3"},qt={class:"field-value col-md-9"},Gt={key:10},Yt={key:11};$t.render=function(t,n,o,i,r,l){var a=this,c=e.resolveComponent("ReferenceField"),d=e.resolveComponent("TextField"),s=e.resolveComponent("EmailField"),u=e.resolveComponent("OptionsField"),m=e.resolveComponent("DecimalField"),p=e.resolveComponent("IntegerField"),f=e.resolveComponent("DateField"),v=e.resolveComponent("AttachmentField"),h=e.resolveComponent("InfoField");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.fields.$values,(function(n){return e.openBlock(),e.createElementBlock("div",null,[a.isFieldContainerReference(n)?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(t.cssClass(n))},[e.createVNode(c,{model:n},null,8,["model"])],2)):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(["row",t.cssClass(n)])},[e.createElementVNode("div",jt,e.toDisplayString(n.name.concatenatedContent),1),e.createElementVNode("div",qt,[a.isTextField(n)?(e.openBlock(),e.createBlock(d,{key:0,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isTextArea(n)?(e.openBlock(),e.createBlock(d,{key:1,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isEmailField(n)?(e.openBlock(),e.createBlock(s,{key:2,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isOptionsField(n)?(e.openBlock(),e.createBlock(u,{key:3,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isDecimalField(n)?(e.openBlock(),e.createBlock(m,{key:4,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isIntegerField(n)?(e.openBlock(),e.createBlock(p,{key:5,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isDateField(n)?(e.openBlock(),e.createBlock(f,{key:6,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isMonolingualTextField(t.model)?(e.openBlock(),e.createBlock(d,{key:7,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isAttachmentField(n)?(e.openBlock(),e.createBlock(v,{key:8,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isInfoSection(n)?(e.openBlock(),e.createBlock(h,{key:9,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isCompositeField(n)?(e.openBlock(),e.createElementBlock("div",Gt," CompositeField ")):e.createCommentVNode("",!0),a.isTableField(n)?(e.openBlock(),e.createElementBlock("div",Yt," TableField ")):e.createCommentVNode("",!0)])],2))])})),256)};var Ht=e.defineComponent({name:"ItemViewer",components:{FieldContainer:$t},props:a,setup:function(t){var n=E();console.log("Item Viewer setup ..."),console.log("props: ",JSON.stringify(t));var o=t.queryParameters;return n.commit(ct.SET_ID,o.iid),n.dispatch(dt.LOAD_ITEM),{queryParams:o,dataItem:e.computed((function(){return n.getters.rootDataItem}))}},storeConfig:{state:{id:null,item:null},actions:ft,mutations:st,getters:vt}});var Kt;nt("\n.field-name[data-v-a52f5804]{\r\n        font-weight:bold !important;\n}\r\n"),Ht.render=function(t,n,o,i,r,l){var a=e.resolveComponent("FieldContainer");return t.dataItem?(e.openBlock(),e.createBlock(a,{key:0,model:t.dataItem},null,8,["model"])):e.createCommentVNode("",!0)},Ht.__scopeId="data-v-a52f5804",function(e){e[e.InProgress=1]="InProgress",e[e.Ready=2]="Ready"}(Kt||(Kt={}));var zt,Xt,Wt={indexingStatus:{pageIndexingStatus:Kt.Ready,dataIndexingStatus:Kt.Ready}};!function(e){e.SET_REINDEX_PAGE_STATUS="SET_REINDEX_PAGE_STATUS",e.SET_REINDEX_DATA_STATUS="SET_REINDEX_DATA_STATUS",e.SET_REINDEX_STATUS="SET_REINDEX_STATUS"}(Xt||(Xt={}));var Qt,Jt,Zt=(i(zt={},Xt.SET_REINDEX_PAGE_STATUS,(function(e,t){console.log("SET_REINDEX_PAGE_STATUS: ",t),e.indexingStatus.pageIndexingStatus=t})),i(zt,Xt.SET_REINDEX_DATA_STATUS,(function(e,t){console.log("SET_REINDEX_DATA_STATUS: ",t),e.indexingStatus.dataIndexingStatus=t})),i(zt,Xt.SET_REINDEX_STATUS,(function(e,t){console.log("SET_REINDEX_STATUS: ",t),e.indexingStatus=t})),zt);!function(e){e.REINDEX_DATA="REINDEX_DATA",e.REINDEX_PAGES="REINDEX_PAGES",e.FETCH_REINDEX_STATUS="FETCH_REINDEX_STATUS"}(Jt||(Jt={}));var en=(i(Qt={},Jt.REINDEX_DATA,(function(e){var t=window.location.origin+"/applets/api/reindex/data";e.commit(Xt.SET_REINDEX_DATA_STATUS,Kt.InProgress),fetch(t,{method:"POST"}).then((function(e){return e.json()})).then((function(t){e.commit(Xt.SET_REINDEX_DATA_STATUS,t)})).catch((function(e){console.error("Data reindexing error:",e)}))})),i(Qt,Jt.REINDEX_PAGES,(function(e){var t=window.location.origin+"/applets/api/reindex/pages";e.commit(Xt.SET_REINDEX_PAGE_STATUS,Kt.InProgress),fetch(t,{method:"POST"}).then((function(e){return e.json()})).then((function(t){e.commit(Xt.SET_REINDEX_PAGE_STATUS,t)})).catch((function(e){console.error("Page reindexing error:",e)}))})),i(Qt,Jt.FETCH_REINDEX_STATUS,(function(e){var t=window.location.origin+"/applets/api/reindex/status";fetch(t).then((function(e){return e.json()})).then((function(t){e.commit(Xt.SET_REINDEX_STATUS,t)})).catch((function(e){console.error("Fetch reindexing status error:",e)}))})),Qt),tn=e.defineComponent({name:"IndexingPanel",props:{},setup:function(){var t=E();return{reindexData:function(){return t.dispatch(Jt.REINDEX_DATA)},reindexPages:function(){return t.dispatch(Jt.REINDEX_PAGES)},isPageIndexingReady:e.computed((function(){return t.state.indexingStatus.pageIndexingStatus==Kt.Ready})),isDataIndexingReady:e.computed((function(){return t.state.indexingStatus.dataIndexingStatus==Kt.Ready}))}}}),nn=e.createElementVNode("h5",{class:"card-title"},"Data Indexing",-1),on=e.createElementVNode("p",{class:"card-text"},"With supporting text below as a natural lead-in to additional content.",-1),rn={key:1,class:"btn btn-danger",disabled:""},ln=e.createElementVNode("br",null,null,-1),an=e.createElementVNode("br",null,null,-1),cn=e.createElementVNode("h5",{class:"card-title"},"Page Indexing",-1),dn=e.createElementVNode("p",{class:"card-text"},"With supporting text below as a natural lead-in to additional content.",-1),sn={key:3,class:"btn btn-danger",disabled:""};tn.render=function(t,n,o,i,r,l){return e.openBlock(),e.createElementBlock(e.Fragment,null,[nn,on,t.isDataIndexingReady?(e.openBlock(),e.createElementBlock("button",{key:0,class:"btn btn-primary",onClick:n[0]||(n[0]=function(){return t.reindexData&&t.reindexData.apply(t,arguments)})},"Reindex")):(e.openBlock(),e.createElementBlock("button",rn,"Indexing In-progress")),ln,an,cn,dn,t.isPageIndexingReady?(e.openBlock(),e.createElementBlock("button",{key:2,class:"btn btn-primary",onClick:n[1]||(n[1]=function(){return t.reindexPages&&t.reindexPages.apply(t,arguments)})},"Reindex")):(e.openBlock(),e.createElementBlock("button",sn,"Indexing In-progress"))],64)};var un,mn,pn=e.defineComponent({name:"Applet",components:{IndexingPanel:tn},props:a,setup:function(t){console.log("Process Manager setup ...",t);var n=E();e.onMounted((function(){return n.dispatch(Jt.FETCH_REINDEX_STATUS)}))},storeConfig:{state:Wt,actions:en,mutations:Zt,getters:{}}}),fn={class:"card"},vn=e.createElementVNode("div",{class:"card-header"}," Indexing Processes ",-1),hn={class:"card-body"};pn.render=function(t,n,o,i,r,l){var a=e.resolveComponent("IndexingPanel");return e.openBlock(),e.createElementBlock("div",fn,[vn,e.createElementVNode("div",hn,[e.createVNode(a)])])},function(e){e.SET_SOURCE="SET_SOURCE",e.SET_MODEL="SET_MODEL"}(mn||(mn={}));var gn,En,yn=(i(un={},mn.SET_SOURCE,(function(e,t){e.pageId=t.pageId,e.blockId=t.blockId})),i(un,mn.SET_MODEL,(function(e,t){e.model=t})),un);!function(e){e.LOAD_BLOCK="LOAD_BLOCK",e.LOAD_PAGE="LOAD_PAGE"}(En||(En={}));var Sn=(i(gn={},En.LOAD_BLOCK,(function(e){e.state.pageId||console.error("Page ID is null. It must be a valid GUID"),e.state.blockId||console.error("Block ID is null. It must be a valid GUID");var t=window.location.origin+"/applets/api/content/page/".concat(e.state.pageId,"/block/").concat(e.state.blockId);console.log("LOAD_BLOCK API: ",t),fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.commit(mn.SET_MODEL,t)})).catch((function(e){console.error("LOAD_BLOCK error:",e)}))})),i(gn,En.LOAD_PAGE,(function(e){if(!e.state.pageId)throw new Error("Page ID is null. It must be a valid GUID");var t=window.location.origin+"/applets/api/content/page/".concat(e.state.pageId);console.log("LOAD_PAGE API: ",t),fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.commit(mn.SET_MODEL,t)})).catch((function(e){console.error("LOAD_PAGE error:",e)}))})),gn),kn=e.defineComponent({name:"ImgDiv",props:{image:{type:Object,required:!0},debounceMs:{type:Number,required:!1,default:200}},methods:{resizeHandler:function(){this.setViewHeight(!1)},setViewHeight:function(e){var t=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout);var n=e?0:this.debounceMs;this.resizeTimeout=setTimeout((function(){if(t.root){var e=Math.round(t.root.clientWidth/t.aspectRatio);t.root.style.height="".concat(e,"px")}}),n)}},created:function(){window.addEventListener("resize",this.resizeHandler)},destroyed:function(){window.removeEventListener("resize",this.resizeHandler)},mounted:function(){this.setViewHeight(!0)},setup:function(t){var n=e.toRefs(t).image,o=e.ref(),i=e.ref();return{root:o,imageUrl:e.computed((function(){var e,t;return null===(e=n.value)||void 0===e||null===(t=e.publicUrl)||void 0===t?void 0:t.replace(/^~+/g,"")})),aspectRatio:e.computed((function(){return n.value?n.value.width/n.value.height:1})),resizeTimeout:i}}}),Tn=["id"];kn.render=function(t,n,o,i,r,l){return e.openBlock(),e.createElementBlock("div",{ref:"root",style:e.normalizeStyle([{backgroundImage:"url(".concat(t.imageUrl,")")},{"background-size":"cover"}]),id:t.image.id,class:"cf-img-div"},null,12,Tn)};var Fn=e.defineComponent({name:"CardTemplate",components:{ImgDiv:kn},props:{model:{type:Object,required:!0}},setup:function(t){var n=e.toRefs(t).model;return{model:n,cardImage:e.computed((function(){var e;return null===(e=n.value)||void 0===e?void 0:e.cardImage.media})),popupImageUrl:e.computed((function(){var e,t,o;return null===(e=n.value)||void 0===e||null===(t=e.modalImage)||void 0===t||null===(o=t.media)||void 0===o?void 0:o.publicUrl})),title:e.computed((function(){var e;return null===(e=n.value)||void 0===e?void 0:e.cardTitle.value})),subTitle:e.computed((function(){var e;return null===(e=n.value)||void 0===e?void 0:e.cardSubTitle.value})),hasModel:e.computed((function(){return n.value.hasAModal})),modelImage:e.computed((function(){var e;return null===(e=n.value)||void 0===e?void 0:e.modalImage})),modalTitle:e.computed((function(){var e;return null===(e=n.value)||void 0===e?void 0:e.modalTitle.value})),modalSubTitle:e.computed((function(){var e;return null===(e=n.value)||void 0===e?void 0:e.modalSubTitle.value}))}}}),_n={class:"col-md-4 cf-card"};nt("\n.cf-card{\r\n        text-align:center;\n}\r\n"),Fn.render=function(t,n,o,i,r,l){var a=e.resolveComponent("img-div");return e.openBlock(),e.createElementBlock("div",_n,[e.createVNode(a,{image:t.cardImage,"debounce-ms":250,class:"img-div"},null,8,["image"]),e.createElementVNode("h2",null,e.toDisplayString(t.title),1),e.createElementVNode("h4",null,e.toDisplayString(t.subTitle),1)])};var In=e.defineComponent({name:"Applet",components:{CardTemplate:Fn},props:a,setup:function(t){console.log("Grid setup ...");var n=E();return n.commit(mn.SET_SOURCE,{pageId:t.pageId,blockId:t.blockId}),e.onMounted((function(){return n.dispatch(En.LOAD_BLOCK)})),{model:e.computed((function(){return n.state.model}))}},storeConfig:{actions:Sn,mutations:yn,getters:{searchParamStorageKey:function(e){var t;return(null===(t=e.blockId)||void 0===t?void 0:t.toString())+"SearchParams"}}}}),Cn=e.createElementVNode("h2",null,"Grid",-1),Bn={class:"row"};In.render=function(t,n,o,i,r,l){var a,c=e.resolveComponent("CardTemplate");return e.openBlock(),e.createElementBlock("div",null,[Cn,e.createElementVNode("div",Bn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.model)||void 0===a?void 0:a.items,(function(t){return e.openBlock(),e.createBlock(c,{model:t},null,8,["model"])})),256))])])};var Dn,bn=te((function(e,t){t.__esModule=!0;var n=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return e.isGuid=function(t){var n=t.toString();return t&&(t instanceof e||e.validator.test(n))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(t){return new e(t)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}();t.Guid=n}));!function(e){e.SET_TEXT_VALUE="SET_TEXT_VALUE",e.SET_OPTION_VALUE="SET_OPTION_VALUE"}(Dn||(Dn={}));var Nn,On,An,Vn=function(){function e(){t(this,e)}return o(e,null,[{key:"cssClass",value:function(e){return e.cssClass+" "+e.fieldCssClass}},{key:"getFieldType",value:function(e){var t,n=null==e?void 0:e.$type.substring(0,e.$type.indexOf(","));return n=null===(t=n)||void 0===t?void 0:t.substring(n.lastIndexOf(".")+1),mt[n]}},{key:"isAttachmentField",value:function(e){return this.getFieldType(e)===mt.AttachmentField}},{key:"isOptionsField",value:function(e){var t=this.getFieldType(e);return t===mt.CheckboxField||t===mt.RadioField||t===mt.SelectField}},{key:"isCompositeField",value:function(e){return this.getFieldType(e)===mt.CompositeField}},{key:"isDateField",value:function(e){return this.getFieldType(e)===mt.DateField}},{key:"isDecimalField",value:function(e){return this.getFieldType(e)===mt.DecimalField}},{key:"isEmailField",value:function(e){return this.getFieldType(e)===mt.EmailField}},{key:"isFieldContainerReference",value:function(e){return this.getFieldType(e)===mt.FieldContainerReference}},{key:"isInfoSection",value:function(e){return this.getFieldType(e)===mt.InfoSection}},{key:"isIntegerField",value:function(e){return this.getFieldType(e)===mt.IntegerField}},{key:"isMonolingualTextField",value:function(e){return this.getFieldType(e)===mt.MonolingualTextField}},{key:"isTableField",value:function(e){return this.getFieldType(e)===mt.TableField}},{key:"isTextArea",value:function(e){return this.getFieldType(e)===mt.TextArea}},{key:"isTextField",value:function(e){return this.getFieldType(e)===mt.TextField}}]),e}();function Mn(e){if(!e.required)return pt.VALID;for(var t=!1,n=0;!t&&null!=e&&e.values&&n<(null===(o=e.values)||void 0===o||null===(i=o.$values)||void 0===i?void 0:i.length);++n)for(var o,i,r,l=null==e||null===(r=e.values)||void 0===r?void 0:r.$values[n],a=0;!t&&l.values&&a<(null===(c=l.values)||void 0===c?void 0:c.$values.length);++a){var c,d,s,u;t=(null===(d=l.values)||void 0===d||null===(s=d.$values[a])||void 0===s||null===(u=s.value)||void 0===u?void 0:u.trim().length)>0}return t?pt.VALID:pt.VALUE_REQUIRED}function xn(e){if(!e.required)return pt.VALID;for(var t=!1,n=0;!t&&null!==(o=e.options)&&void 0!==o&&o.$values&&n<(null===(i=e.options)||void 0===i||null===(r=i.$values)||void 0===r?void 0:r.length);++n){var o,i,r,l;t=null===(l=e.options)||void 0===l?void 0:l.$values[n].selected}return t?pt.VALID:pt.VALUE_REQUIRED}function wn(e){var t,n,o=!0;return null===(t=e.fields)||void 0===t||null===(n=t.$values)||void 0===n||n.forEach((function(e){switch(Vn.getFieldType(e)){case mt.AttachmentField:break;case mt.CheckboxField:e.validationStatus=xn(e);break;case mt.CompositeField:case mt.DateField:case mt.DecimalField:case mt.EmailField:case mt.FieldContainerReference:case mt.IntegerField:break;case mt.MonolingualTextField:e.validationStatus=function(e){if(!e.required)return pt.VALID;for(var t=!1,n=0;!t&&null!=e&&e.values&&n<(null===(o=e.values)||void 0===o?void 0:o.length);++n){var o,i,r;t=(null===(i=e.values[n])||void 0===i||null===(r=i.value)||void 0===r?void 0:r.trim().length)>0}return t?pt.VALID:pt.VALUE_REQUIRED}(e);break;case mt.RadioField:case mt.SelectField:e.validationStatus=xn(e);break;case mt.TableField:break;case mt.TextArea:case mt.TextField:e.validationStatus=Mn(e)}o=o&&e.validationStatus===pt.VALID})),e.validationStatus=o?null:pt.INVALID,o}!function(e){e.None="None",e.InProgress="InProgress",e.Success="Success",e.Fail="Fail"}(On||(On={})),function(e){e.SET_IDS="SET_IDS",e.SET_FORM="SET_FORM",e.SET_SUBMISSIONS="SET_SUBMISSIONS",e.SET_SUBMISSION_STATUS="SET_SUBMISSION_STATUS"}(An||(An={}));var Ln,Rn,Pn=(i(Nn={},An.SET_IDS,(function(e,t){e.itemInstanceId=t[0],e.itemTemplateId=t[1],e.formId=t[2]})),i(Nn,An.SET_FORM,(function(e,t){e.form=t,e.flattenedTextModels={},e.flattenedOptionModels={},function(e,t){var n,o;null==e||null===(n=e.fields)||void 0===n||null===(o=n.$values)||void 0===o||o.forEach((function(e){var n,o,i=null===(n=e.$type)||void 0===n?void 0:n.substring(0,e.$type.indexOf(",")),r=i.substring(i.lastIndexOf(".")+1),l=mt[r],a=l===mt.DateField||l===mt.DecimalField||l===mt.EmailField||l===mt.IntegerField||l===mt.MonolingualTextField,c=l===mt.TextArea||l===mt.TextField,d=l===mt.CheckboxField||l===mt.RadioField||l===mt.SelectField;if(a)null===(o=e.values)||void 0===o||o.forEach((function(e){t.flattenedTextModels[e.id.toString()]=e}));else if(c){var s,u;null===(s=e.values)||void 0===s||null===(u=s.$values)||void 0===u||u.forEach((function(e){var n,o;null===(n=e.values)||void 0===n||null===(o=n.$values)||void 0===o||o.forEach((function(e){t.flattenedTextModels[e.id.toString()]=e}))}))}else if(d){var m=e.options;Array.isArray(m)&&m.forEach((function(e){t.flattenedOptionModels[e.id.toString()]=e}))}}))}(e.form,e)})),i(Nn,An.SET_SUBMISSIONS,(function(e,t){e.formInstances=t})),i(Nn,Dn.SET_TEXT_VALUE,(function(e,t){var n;e.flattenedTextModels[t.id.toString()].value=t.val,(null===(n=e.form)||void 0===n?void 0:n.validationStatus)===pt.INVALID&&wn(e.form)})),i(Nn,Dn.SET_OPTION_VALUE,(function(e,t){e.flattenedOptionModels[t.id.toString()].selected=t.isSelected})),i(Nn,An.SET_SUBMISSION_STATUS,(function(e,t){e.submissionStatus=On[t]})),Nn),Un={itemInstanceId:null,itemTemplateId:null,formId:null,form:null,flattenedTextModels:{},flattenedOptionModels:{},formInstances:[],submissionStatus:On.None};!function(e){e.LOAD_FORM="LOAD_FORM",e.LOAD_SUBMISSIONS="LOAD_SUBMISSIONS",e.SUBMIT_CHILD_FORM="SUBMIT_CHILD_FORM"}(Rn||(Rn={}));var $n=(i(Ln={},Rn.LOAD_FORM,(function(e){var t=window.location.origin+"/applets/api/itemeditor/getchildform/".concat(e.state.itemInstanceId,"/").concat(e.state.formId);console.log("Form Load API: ",t),fetch(t).then((function(e){return e.json()})).then((function(t){e.commit(An.SET_FORM,t)})).catch((function(e){console.error("Actions.LOAD_FORM Error: ",e)}))})),i(Ln,Rn.LOAD_SUBMISSIONS,(function(e){var t=window.location.origin+"/applets/api/itemeditor/getchildformsubmissions/".concat(e.state.itemInstanceId,"/").concat(e.state.formId);console.log("Child Submissions Load API: ",t),fetch(t).then((function(e){return e.json()})).then((function(t){e.commit(An.SET_SUBMISSIONS,t)})).catch((function(e){console.error("Submission loading error:",e)}))})),i(Ln,Rn.SUBMIT_CHILD_FORM,(function(e){if(e.state.form&&wn(e.state.form)){e.commit(An.SET_SUBMISSION_STATUS,"InProgress");var t=window.location.origin+"/applets/api/itemeditor/appendchildforminstance/".concat(e.state.itemInstanceId),n=new FormData;n.append("datamodel",JSON.stringify(e.state.form)),fetch(t,{body:n,method:"post"}).then((function(e){return e.json()})).then((function(t){console.log(JSON.stringify(t)),function(e){Object.keys(e.flattenedTextModels).forEach((function(t){e.flattenedTextModels[t].value=""})),Object.keys(e.flattenedOptionModels).forEach((function(t){e.flattenedOptionModels[t].selected=!1}))}({flattenedOptionModels:e.state.flattenedOptionModels,flattenedTextModels:e.state.flattenedTextModels}),e.commit(An.SET_SUBMISSION_STATUS,"Success")})).catch((function(t){e.commit(An.SET_SUBMISSION_STATUS,"Fail"),console.log(t)}))}})),Ln),jn=e.defineComponent({name:"AttachmentField",components:{},props:{model:{type:null,required:!0}},setup:function(t){var n=E(),o=e.ref(n.state.item.id),i=e.ref(n.getters.dataItemId);return{itemId:o,fileUrl:"/api/items/"+o.value+"/"+i.value+"/"+t.model.id+"/"}}}),qn=function(t){return e.pushScopeId("data-v-dd0e75d6"),t=t(),e.popScopeId(),t}((function(){return e.createElementVNode("div",null,"Attachment Field",-1)}));nt("\n.img-thumbnail[data-v-dd0e75d6]{\r\n        width:35px;\r\n        height: auto;\r\n        margin-right: 10px;\n}\r\n"),jn.render=function(t,n,o,i,r,l){return e.openBlock(),e.createElementBlock(e.Fragment,null,[qn,e.createElementVNode("div",null,e.toDisplayString(JSON.stringify(t.model)),1)],64)},jn.__scopeId="data-v-dd0e75d6";var Gn=e.defineComponent({name:"CheckboxField",components:{},props:{model:{type:Object,required:!0}},methods:{getSelectedFieldLabels:function(e){return ht.getSelectedFieldLabels(e.options.$values)}}}),Yn=e.createElementVNode("div",null,"Options Field",-1);Gn.render=function(t,n,o,i,r,l){return e.openBlock(),e.createElementBlock(e.Fragment,null,[Yn,e.createElementVNode("div",null,e.toDisplayString(JSON.stringify(t.model)),1)],64)};var Hn=e.defineComponent({name:"DateField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!1}},methods:{formatDate:function(e){return oe(e).format("MMM DD, YYYY")}}}),Kn=e.createElementVNode("div",null,"Date Field",-1);Hn.render=function(t,n,o,i,r,l){return e.openBlock(),e.createElementBlock(e.Fragment,null,[Kn,e.createElementVNode("div",null,e.toDisplayString(JSON.stringify(t.model)),1)],64)};var zn=e.defineComponent({name:"DecimalField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!1},numDecimalPlaces:{type:Number,required:!1,default:2}},methods:{formatToDecimal:function(e,t){return Number(e).toFixed(t)}}}),Xn=e.createElementVNode("div",null,"Decimal Field",-1);zn.render=function(t,n,o,i,r,l){return e.openBlock(),e.createElementBlock(e.Fragment,null,[Xn,e.createElementVNode("div",null,e.toDisplayString(JSON.stringify(t.model)),1)],64)};var Wn=e.defineComponent({name:"EmailField",props:{model:{type:null,required:!0},isMultivalue:{type:Boolean,required:!1,default:!1}}}),Qn=e.createElementVNode("div",null,"Email Field",-1);Wn.render=function(t,n,o,i,r,l){return e.openBlock(),e.createElementBlock(e.Fragment,null,[Qn,e.createElementVNode("div",null,e.toDisplayString(JSON.stringify(t.model)),1)],64)};var Jn=e.defineComponent({name:"InfoField",props:{model:{type:null,required:!0}}}),Zn=["innerHTML"];Jn.render=function(t,n,o,i,r,l){var a,c;return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.model)||void 0===a||null===(c=a.content)||void 0===c?void 0:c.values,(function(t){return e.openBlock(),e.createElementBlock("div",{key:t.id},[e.createElementVNode("div",{innerHTML:t.value},null,8,Zn)])})),128)};var eo=e.defineComponent({name:"IntegerField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!1}}}),to=e.createElementVNode("div",null,"Integer Field",-1);eo.render=function(t,n,o,i,r,l){return e.openBlock(),e.createElementBlock(e.Fragment,null,[to,e.createElementVNode("div",null,e.toDisplayString(JSON.stringify(t.model)),1)],64)};var no=e.defineComponent({name:"RadioField",components:{},props:{model:{type:Object,required:!0}},methods:{getSelectedFieldLabels:function(e){return ht.getSelectedFieldLabels(e.options.$values)}}}),oo=e.createElementVNode("div",null,"Radio Field",-1);no.render=function(t,n,o,i,r,l){return e.openBlock(),e.createElementBlock(e.Fragment,null,[oo,e.createElementVNode("div",null,e.toDisplayString(JSON.stringify(t.model)),1)],64)};var io=e.defineComponent({name:"SelectField",components:{},props:{model:{type:Object,required:!0}},methods:{getSelectedFieldLabels:function(e){return ht.getSelectedFieldLabels(e.options.$values)}}}),ro=e.createElementVNode("div",null,"Select Field",-1);io.render=function(t,n,o,i,r,l){return e.openBlock(),e.createElementBlock(e.Fragment,null,[ro,e.createElementVNode("div",null,e.toDisplayString(JSON.stringify(t.model)),1)],64)};var lo=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],ao=function(e){return-1!==lo.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())},co=function(t,n,o,i,r,l){i.setContent(l()),o.attrs["onUpdate:modelValue"]&&function(t,n,o,i){var r=t.modelEvents?t.modelEvents:null,l=Array.isArray(r)?r.join(" "):r;e.watch(i,(function(e,n){o&&"string"==typeof e&&e!==n&&e!==o.getContent({format:t.outputFormat})&&o.setContent(e)})),o.on(l||"change input undo redo",(function(){n.emit("update:modelValue",o.getContent({format:t.outputFormat}))}))}(n,o,i,r),function(e,t,n){Object.keys(t).filter(ao).forEach((function(o){var i=t[o];"function"==typeof i&&("onInit"===o?i(e,n):n.on(o.substring(2),(function(e){return i(e,n)})))}))}(t,o.attrs,i)},so=0,uo=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++so+String(t)},mo=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},po=function(){return{listeners:[],scriptId:uo("tiny-script"),scriptLoaded:!1}},fo=function(){var e=po();return{load:function(t,n,o){e.scriptLoaded?o():(e.listeners.push(o),t.getElementById(e.scriptId)||function(e,t,n,o){var i=t.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=e,i.src=n;var r=function(){i.removeEventListener("load",r),o()};i.addEventListener("load",r),t.head&&t.head.appendChild(i)}(e.scriptId,t,n,(function(){e.listeners.forEach((function(e){return e()})),e.scriptLoaded=!0})))},reinitialize:function(){e=po()}}}(),vo=function(){return"undefined"!=typeof window?window:global},ho=function(){var e=vo();return e&&e.tinymce?e.tinymce:null},go={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},Eo=window&&window.__assign||function(){return Eo=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Eo.apply(this,arguments)},yo=e.defineComponent({props:go,setup:function(t,n){var o=e.toRefs(t),i=o.disabled,r=o.modelValue,l=e.ref(null),a=null,c=t.id||uo("tiny-vue"),d=t.init&&t.init.inline||t.inline,s=!!n.attrs["onUpdate:modelValue"],u=!0,m=t.initialValue?t.initialValue:"",p="",f=function(){var e,o,i,f=(e=u,s?function(){return(null==r?void 0:r.value)?r.value:""}:function(){return e?m:p}),v=Eo(Eo({},t.init),{readonly:t.disabled,selector:"#"+c,plugins:(o=t.init&&t.init.plugins,i=t.plugins,mo(o).concat(mo(i))),toolbar:t.toolbar||t.init&&t.init.toolbar,inline:d,setup:function(e){a=e,e.on("init",(function(o){return co(o,t,n,e,r,f)})),t.init&&"function"==typeof t.init.setup&&t.init.setup(e)}});(function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()})(l.value)&&(l.value.style.visibility=""),ho().init(v),u=!1};return e.watch(i,(function(e){null!==a&&a.setMode(e?"readonly":"design")})),e.onMounted((function(){if(null!==ho())f();else if(l.value&&l.value.ownerDocument){var e=t.cloudChannel?t.cloudChannel:"5",n=t.apiKey?t.apiKey:"no-api-key",o=null==t.tinymceScriptSrc?"https://cdn.tiny.cloud/1/"+n+"/tinymce/"+e+"/tinymce.min.js":t.tinymceScriptSrc;fo.load(l.value.ownerDocument,o,f)}})),e.onBeforeUnmount((function(){null!==ho()&&ho().remove(a)})),d||(e.onActivated((function(){u||f()})),e.onDeactivated((function(){var e;s||(p=a.getContent()),null===(e=ho())||void 0===e||e.remove(a)}))),function(){return d?(n=e.h,o=c,i=l,r=t.tagName,n(r||"div",{id:o,ref:i})):function(e,t,n){return e("textarea",{id:t,visibility:"hidden",ref:n})}(e.h,c,l);var n,o,i,r}}}),So=yo,ko=e.defineComponent({name:"Text",props:{model:{type:null,required:!0},isMultiline:{type:Boolean,required:!0},isRichText:{type:Boolean,required:!0},validationStatus:{type:null,required:!0}},components:{Editor:So},computed:{content:{get:function(){return this.model.value},set:function(e){this.store.commit(Dn.SET_TEXT_VALUE,{id:this.model.id,val:e})}}},setup:function(){return{store:E()}}});ko.render=function(t,n,o,i,r,l){var a=e.resolveComponent("Editor");return t.isRichText?(e.openBlock(),e.createBlock(a,{key:0,apiKey:"0ohehg73era56wydy5kyws6ouf25550ogy2sifi1j41hk65l",modelValue:t.content,"onUpdate:modelValue":n[0]||(n[0]=function(e){return t.content=e}),placeholder:"add multiple lines"},null,8,["modelValue"])):t.isMultiline?e.withDirectives((e.openBlock(),e.createElementBlock("textarea",{key:1,"onUpdate:modelValue":n[1]||(n[1]=function(e){return t.content=e})},null,512)),[[e.vModelText,t.content]]):e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:2,type:"text","onUpdate:modelValue":n[2]||(n[2]=function(e){return t.content=e})},null,512)),[[e.vModelText,t.content]])};var To=e.defineComponent({name:"TextCollection",props:{model:{type:null,required:!0},isMultiline:{type:Boolean,required:!0},isRichText:{type:Boolean,required:!0},validationStatus:{type:null,required:!0}},components:{Text:ko}}),Fo={key:0};To.render=function(t,n,o,i,r,l){var a,c,d=e.resolveComponent("Text");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.model)||void 0===a||null===(c=a.values)||void 0===c?void 0:c.$values,(function(n){var o,i,r;return e.openBlock(),e.createElementBlock("div",null,[(null===(o=t.model)||void 0===o||null===(i=o.values)||void 0===i||null===(r=i.$values)||void 0===r?void 0:r.length)>1?(e.openBlock(),e.createElementBlock("span",Fo,e.toDisplayString(n.language)+": ",1)):e.createCommentVNode("",!0),e.createVNode(d,{model:n,"is-multiline":t.isMultiline,"is-rich-text":t.isRichText,"validation-status":t.validationStatus},null,8,["model","is-multiline","is-rich-text","validation-status"])])})),256)};var _o=e.defineComponent({name:"MultilingualTextField",props:{model:{type:null,required:!0},isMultiline:{type:Boolean,required:!0}},components:{TextCollection:To},setup:function(t){var n=t.model.modelType,o=e.computed((function(){return Mn(t.model)}));return{type:n,isRichText:e.computed((function(){return!(null==(e=t.model)||!e.richText)&&e.richText;var e})),validationStatus:o,isRequiredField:e.computed((function(){return!(null==(e=t.model)||!e.required)&&e.required;var e}))}}});_o.render=function(t,n,o,i,r,l){var a,c=e.resolveComponent("TextCollection");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.model.values)||void 0===a?void 0:a.$values,(function(n){return e.openBlock(),e.createBlock(c,{model:n,"is-multiline":t.isMultiline,"is-rich-text":t.isRichText,"validation-status":t.validationStatus},null,8,["model","is-multiline","is-rich-text","validation-status"])})),256)};var Io=e.defineComponent({name:"Field",props:{model:{type:null,required:!0}},components:{AttachmentField:jn,CheckboxField:Gn,DateField:Hn,DecimalField:zn,EmailField:Wn,InfoField:Jn,IntegerField:eo,RadioField:no,SelectField:io,MultilingualTextField:_o},setup:function(e){var t=Vn.getFieldType(e.model),n=Vn.cssClass(e.model);return{FieldTypes:mt,ValidationStatus:pt,fieldType:t,cssClass:n}}}),Co={key:0},Bo={class:"col-md-3 field-name"},Do={key:0,style:{color:"red"}},bo={class:"col-md-9 field-value"},No={key:0,style:{color:"red"}},Oo={key:1,style:{color:"red"}},Ao={key:12},Vo={key:13};Io.render=function(t,n,o,i,r,l){var a,c,d=e.resolveComponent("InfoField"),s=e.resolveComponent("AttachmentField"),u=e.resolveComponent("CheckboxField"),m=e.resolveComponent("DateField"),p=e.resolveComponent("DecimalField"),f=e.resolveComponent("EmailField"),v=e.resolveComponent("IntegerField"),h=e.resolveComponent("RadioField"),g=e.resolveComponent("SelectField"),E=e.resolveComponent("MultilingualTextField");return t.fieldType===t.FieldTypes.FieldContainerReference?(e.openBlock(),e.createElementBlock("div",Co," TODO: Implement editor template for FieldContainerReference ")):t.fieldType===t.FieldTypes.InfoSection?(e.openBlock(),e.createBlock(d,{key:1,model:t.model,class:e.normalizeClass(t.cssClass)},null,8,["model","class"])):(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(t.cssClass+" row")},[e.createElementVNode("div",Bo,[e.createTextVNode(e.toDisplayString(t.model.name.concatenatedContent)+" ",1),this.model.required?(e.openBlock(),e.createElementBlock("span",Do,"*")):e.createCommentVNode("",!0)]),e.createElementVNode("div",bo,[(null===(a=t.model)||void 0===a?void 0:a.validationStatus)===t.ValidationStatus.VALUE_REQUIRED?(e.openBlock(),e.createElementBlock("div",No,"This field requires a value.")):e.createCommentVNode("",!0),(null===(c=t.model)||void 0===c?void 0:c.validationStatus)===t.ValidationStatus.INVALID?(e.openBlock(),e.createElementBlock("div",Oo,"This field has an invalid value.")):e.createCommentVNode("",!0),t.fieldType===t.FieldTypes.AttachmentField?(e.openBlock(),e.createBlock(s,{key:2,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.CheckboxField?(e.openBlock(),e.createBlock(u,{key:3,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.DateField?(e.openBlock(),e.createBlock(m,{key:4,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.DecimalField?(e.openBlock(),e.createBlock(p,{key:5,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.EmailField?(e.openBlock(),e.createBlock(f,{key:6,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.IntegerField?(e.openBlock(),e.createBlock(v,{key:7,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.RadioField?(e.openBlock(),e.createBlock(h,{key:8,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.SelectField?(e.openBlock(),e.createBlock(g,{key:9,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.TextArea?(e.openBlock(),e.createBlock(E,{key:10,model:t.model,"is-multiline":!0},null,8,["model"])):t.fieldType===t.FieldTypes.TextField?(e.openBlock(),e.createBlock(E,{key:11,model:t.model,"is-multiline":!1},null,8,["model"])):t.fieldType===t.FieldTypes.CompositeField?(e.openBlock(),e.createElementBlock("div",Ao," TODO: Implement editor template for the CompositeField")):t.fieldType===t.FieldTypes.TableField?(e.openBlock(),e.createElementBlock("div",Vo," TODO: Implement editor template for the TableField")):e.createCommentVNode("",!0)])],2))};var Mo=e.defineComponent({name:"FieldContainer",props:{model:null},components:{Field:Io}});Mo.render=function(t,n,o,i,r,l){var a,c=e.resolveComponent("Field");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.model.fields)||void 0===a?void 0:a.$values,(function(t){return e.openBlock(),e.createBlock(c,{model:t},null,8,["model"])})),256)};var xo=e.defineComponent({name:"ChildFormSubmission",components:{ChildForm:Mo,ChildView:$t},props:a,setup:function(t){console.log("props: ",JSON.stringify(t));var n=t.queryParameters,o=t.dataAttributes,i=bn.Guid.parse(n.iid),r=bn.Guid.parse(o["template-id"]),l=bn.Guid.parse(o["child-form-id"]),a=E();return a.commit(An.SET_IDS,[i,r,l]),a.dispatch(Rn.LOAD_FORM),a.dispatch(Rn.LOAD_SUBMISSIONS),{childForm:e.computed((function(){return a.state.form})),childSubmissions:e.computed((function(){var e;return null===(e=a.state.formInstances)||void 0===e?void 0:e.$values})),store:a,submissionStatus:e.computed((function(){return a.state.submissionStatus})),eSubmissionStatus:On,eValidationStatus:pt}},storeConfig:{state:Un,actions:$n,mutations:Pn,getters:{}},methods:{submitChildForm:function(){this.store.dispatch(Rn.SUBMIT_CHILD_FORM)}}}),wo={key:0},Lo={key:0,class:"alert alert-danger"},Ro={key:1},Po={key:0,class:"alert alert-info"},Uo={key:1,class:"alert alert-info"},$o={key:2,class:"alert alert-danger"},jo={key:1},qo=e.createElementVNode("h3",null,"Responses",-1),Go=e.createElementVNode("hr",null,null,-1);xo.render=function(t,n,o,i,r,l){var a,c=e.resolveComponent("ChildForm"),d=e.resolveComponent("ChildView");return e.openBlock(),e.createElementBlock(e.Fragment,null,[t.childForm&&Object.keys(t.childForm).length>0?(e.openBlock(),e.createElementBlock("div",wo,[e.createVNode(c,{model:t.childForm},null,8,["model"]),(null===(a=t.childForm)||void 0===a?void 0:a.validationStatus)===t.eValidationStatus.INVALID?(e.openBlock(),e.createElementBlock("div",Lo,"For validation failed.")):(e.openBlock(),e.createElementBlock("div",Ro,[t.submissionStatus===t.eSubmissionStatus.InProgress?(e.openBlock(),e.createElementBlock("div",Po,"Submitting...")):e.createCommentVNode("",!0),t.submissionStatus===t.eSubmissionStatus.Success?(e.openBlock(),e.createElementBlock("div",Uo,"Submission successful")):e.createCommentVNode("",!0),t.submissionStatus===t.eSubmissionStatus.Fail?(e.openBlock(),e.createElementBlock("div",$o,"Submission failed")):e.createCommentVNode("",!0)])),e.createElementVNode("button",{class:"btn btn-primary",onClick:n[0]||(n[0]=function(e){return t.submitChildForm()})},"Submit")])):e.createCommentVNode("",!0),t.childSubmissions&&t.childSubmissions.length>0?(e.openBlock(),e.createElementBlock("div",jo,[qo,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.childSubmissions,(function(t){return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(d,{model:t},null,8,["model"]),Go])})),256))])):e.createCommentVNode("",!0)],64)};var Yo=Object.freeze({__proto__:null,Carousel:c,KeywordSearch:Se,ItemTemplateEditor:ot,ItemEditor:rt,ItemViewer:Ht,ProcessManager:pn,Grid:In,ChildFormSubmission:xo}),Ho=function(e){Object.entries(Yo).forEach((function(t){var n=r(t,2),o=n[0],i=n[1];e.component(o,i)}))},Ko=Object.freeze({__proto__:null,default:Ho,Carousel:c,KeywordSearch:Se,ItemTemplateEditor:ot,ItemEditor:rt,ItemViewer:Ht,ProcessManager:pn,Grid:In,ChildFormSubmission:xo});return Object.entries(Ko).forEach((function(e){var t=r(e,2),n=t[0],o=t[1];"default"!==n&&(Ho[n]=o)})),Ho}(Vue);