var Applets=function(e){"use strict";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,l,i=[],r=!0,a=!1;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==n.return||n.return()}finally{if(a)throw l}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var s={pageId:{required:!1,type:null},blockId:{required:!1,type:null},appletTitle:{required:!1,type:String},dataAttributes:{required:!1,type:null},queryParameters:{required:!1,type:null}},d=e.defineComponent({name:"Carousel",components:{},props:s,setup:function(e,t){console.log("Carousel setup ..."),console.log("props: ",e),console.log("context: ",t)},mounted:function(){console.log("Carousel mounted ...")}}),u=e.createElementVNode("h2",null,"Carousel",-1),m={class:"row"},p={class:"row"},f={class:"row"};function v(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}}d.render=function(t,n,o,l,i,r){return e.openBlock(),e.createElementBlock("div",null,[u,e.createElementVNode("div",m,"Page Id: "+e.toDisplayString(t.pageId),1),e.createElementVNode("div",p,"Block Id: "+e.toDisplayString(t.blockId),1),e.createElementVNode("div",f,"Data Attributes "+e.toDisplayString(t.dataAttributes),1)])};const E="function"==typeof Proxy;class h{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const t in e.settings){const o=e.settings[t];n[t]=o.defaultValue}const o=`__vue-devtools-plugin-settings__${e.id}`;let l={...n};try{const e=localStorage.getItem(o),t=JSON.parse(e);Object.assign(l,t)}catch(e){}this.fallbacks={getSettings:()=>l,setSettings(e){try{localStorage.setItem(o,JSON.stringify(e))}catch(e){}l=e}},t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function g(e,t){const n=v(),o=v().__VUE_DEVTOOLS_GLOBAL_HOOK__,l=E&&e.enableEarlyProxy;if(!o||!n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&l){const i=l?new h(e,o):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:t,proxy:i}),i&&t(i.proxiedTarget)}else o.emit("devtools-plugin:setup",e,t)}
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var S="store";function y(t){return void 0===t&&(t=null),e.inject(null!==t?t:S)}function T(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function k(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function _(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;F(e,n,[],e._modules.root,!0),I(e,n,t)}function I(t,n,o){var l=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,r={};T(i,(function(e,n){r[n]=function(e,t){return function(){return e(t)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return r[n]()},enumerable:!0})})),t._state=e.reactive({data:n}),t.strict&&function(t){e.watch((function(){return t._state.data}),(function(){}),{deep:!0,flush:"sync"})}(t),l&&o&&t._withCommit((function(){l.data=null}))}function F(e,t,n,o,l){var i=!n.length,r=e._modules.getNamespace(n);if(o.namespaced&&(e._modulesNamespaceMap[r],e._modulesNamespaceMap[r]=o),!i&&!l){var a=B(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){a[c]=o.state}))}var s=o.context=function(e,t,n){var o=""===t,l={dispatch:o?e.dispatch:function(n,o,l){var i=D(n,o,l),r=i.payload,a=i.options,c=i.type;return a&&a.root||(c=t+c),e.dispatch(c,r)},commit:o?e.commit:function(n,o,l){var i=D(n,o,l),r=i.payload,a=i.options,c=i.type;a&&a.root||(c=t+c),e.commit(c,r,a)}};return Object.defineProperties(l,{getters:{get:o?function(){return e.getters}:function(){return C(e,t)}},state:{get:function(){return B(e.state,n)}}}),l}(e,r,n);o.forEachMutation((function(t,n){!function(e,t,n,o){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){n.call(e,o.state,t)}))}(e,r+n,t,s)})),o.forEachAction((function(t,n){var o=t.root?n:r+n,l=t.handler||t;!function(e,t,n,o){(e._actions[t]||(e._actions[t]=[])).push((function(t){var l,i=n.call(e,{dispatch:o.dispatch,commit:o.commit,getters:o.getters,state:o.state,rootGetters:e.getters,rootState:e.state},t);return(l=i)&&"function"==typeof l.then||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}(e,o,l,s)})),o.forEachGetter((function(t,n){!function(e,t,n,o){if(e._wrappedGetters[t])return;e._wrappedGetters[t]=function(e){return n(o.state,o.getters,e.state,e.getters)}}(e,r+n,t,s)})),o.forEachChild((function(o,i){F(e,t,n.concat(i),o,l)}))}function C(e,t){if(!e._makeLocalGettersCache[t]){var n={},o=t.length;Object.keys(e.getters).forEach((function(l){if(l.slice(0,o)===t){var i=l.slice(o);Object.defineProperty(n,i,{get:function(){return e.getters[l]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function B(e,t){return t.reduce((function(e,t){return e[t]}),e)}function D(e,t,n){var o;return null!==(o=e)&&"object"==typeof o&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var N="vuex:mutations",b="vuex:actions",O="vuex",A=0;function M(e,t){g({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:["vuex bindings"]},(function(n){n.addTimelineLayer({id:N,label:"Vuex Mutations",color:L}),n.addTimelineLayer({id:b,label:"Vuex Actions",color:L}),n.addInspector({id:O,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===O)if(n.filter){var o=[];w(o,t._modules.root,n.filter,""),n.rootNodes=o}else n.rootNodes=[x(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===O){var o=n.nodeId;C(t,o),n.state=function(e,t,n){t="root"===n?t:t[n];var o=Object.keys(t),l={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(o.length){var i=function(e){var t={};return Object.keys(e).forEach((function(n){var o=n.split("/");if(o.length>1){var l=t,i=o.pop();o.forEach((function(e){l[e]||(l[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),l=l[e]._custom.value})),l[i]=P((function(){return e[n]}))}else t[n]=P((function(){return e[n]}))})),t}(t);l.getters=Object.keys(i).map((function(e){return{key:e.endsWith("/")?R(e):e,editable:!1,value:P((function(){return i[e]}))}}))}return l}((l=t._modules,(r=(i=o).split("/").filter((function(e){return e}))).reduce((function(e,t,n){var o=e[t];if(!o)throw new Error('Missing module "'+t+'" for path "'+i+'".');return n===r.length-1?o:o._children}),"root"===i?l:l.root._children)),"root"===o?t.getters:t._makeLocalGettersCache,o)}var l,i,r})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===O){var o=n.nodeId,l=n.path;"root"!==o&&(l=o.split("/").filter(Boolean).concat(l)),t._withCommit((function(){n.set(t._state.data,l,n.state.value)}))}})),t.subscribe((function(e,t){var o={};e.payload&&(o.payload=e.payload),o.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(O),n.sendInspectorState(O),n.addTimelineEvent({layerId:N,event:{time:Date.now(),title:e.type,data:o}})})),t.subscribeAction({before:function(e,t){var o={};e.payload&&(o.payload=e.payload),e._id=A++,e._time=Date.now(),o.state=t,n.addTimelineEvent({layerId:b,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:o}})},after:function(e,t){var o={},l=Date.now()-e._time;o.duration={_custom:{type:"duration",display:l+"ms",tooltip:"Action duration",value:l}},e.payload&&(o.payload=e.payload),o.state=t,n.addTimelineEvent({layerId:b,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:o}})}})}))}var L=8702998,V={label:"namespaced",textColor:16777215,backgroundColor:6710886};function R(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function x(e,t){return{id:t||"root",label:R(t),tags:e.namespaced?[V]:[],children:Object.keys(e._children).map((function(n){return x(e._children[n],t+n+"/")}))}}function w(e,t,n,o){o.includes(n)&&e.push({id:o||"root",label:o.endsWith("/")?o.slice(0,o.length-1):o||"Root",tags:t.namespaced?[V]:[]}),Object.keys(t._children).forEach((function(l){w(e,t._children[l],n,o+l+"/")}))}function P(e){try{return e()}catch(e){return e}}var U=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},$={namespaced:{configurable:!0}};$.namespaced.get=function(){return!!this._rawModule.namespaced},U.prototype.addChild=function(e,t){this._children[e]=t},U.prototype.removeChild=function(e){delete this._children[e]},U.prototype.getChild=function(e){return this._children[e]},U.prototype.hasChild=function(e){return e in this._children},U.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},U.prototype.forEachChild=function(e){T(this._children,e)},U.prototype.forEachGetter=function(e){this._rawModule.getters&&T(this._rawModule.getters,e)},U.prototype.forEachAction=function(e){this._rawModule.actions&&T(this._rawModule.actions,e)},U.prototype.forEachMutation=function(e){this._rawModule.mutations&&T(this._rawModule.mutations,e)},Object.defineProperties(U.prototype,$);var j=function(e){this.register([],e,!1)};function G(e,t,n){if(t.update(n),n.modules)for(var o in n.modules){if(!t.getChild(o))return;G(e.concat(o),t.getChild(o),n.modules[o])}}j.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},j.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},j.prototype.update=function(e){G([],this.root,e)},j.prototype.register=function(e,t,n){var o=this;void 0===n&&(n=!0);var l=new U(t,n);0===e.length?this.root=l:this.get(e.slice(0,-1)).addChild(e[e.length-1],l);t.modules&&T(t.modules,(function(t,l){o.register(e.concat(l),t,n)}))},j.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],o=t.getChild(n);o&&o.runtime&&t.removeChild(n)},j.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var q=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var o=e.strict;void 0===o&&(o=!1);var l=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new j(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=l;var i=this,r=this.dispatch,a=this.commit;this.dispatch=function(e,t){return r.call(i,e,t)},this.commit=function(e,t,n){return a.call(i,e,t,n)},this.strict=o;var c=this._modules.root.state;F(this,c,[],this._modules.root),I(this,c),n.forEach((function(e){return e(t)}))},H={state:{configurable:!0}};q.prototype.install=function(e,t){e.provide(t||S,this),e.config.globalProperties.$store=this,(void 0!==this._devtools?this._devtools:__VUE_PROD_DEVTOOLS__)&&M(e,this)},H.state.get=function(){return this._state.data},H.state.set=function(e){},q.prototype.commit=function(e,t,n){var o=this,l=D(e,t,n),i=l.type,r=l.payload,a={type:i,payload:r},c=this._mutations[i];c&&(this._withCommit((function(){c.forEach((function(e){e(r)}))})),this._subscribers.slice().forEach((function(e){return e(a,o.state)})))},q.prototype.dispatch=function(e,t){var n=this,o=D(e,t),l=o.type,i=o.payload,r={type:l,payload:i},a=this._actions[l];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(r,n.state)}))}catch(e){}var c=a.length>1?Promise.all(a.map((function(e){return e(i)}))):a[0](i);return new Promise((function(e,t){c.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(r,n.state)}))}catch(e){}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(r,n.state,e)}))}catch(e){}t(e)}))}))}},q.prototype.subscribe=function(e,t){return k(e,this._subscribers,t)},q.prototype.subscribeAction=function(e,t){return k("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},q.prototype.watch=function(t,n,o){var l=this;return e.watch((function(){return t(l.state,l.getters)}),n,Object.assign({},o))},q.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},q.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),F(this,this.state,e,this._modules.get(e),n.preserveState),I(this,this.state)},q.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){delete B(t.state,e.slice(0,-1))[e[e.length-1]]})),_(this)},q.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},q.prototype.hotUpdate=function(e){this._modules.update(e),_(this,!0)},q.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(q.prototype,H);var Y,z;!function(e){e.SET_SOURCE="SET_SOURCE",e.SET_KEYWORDS="SET_KEYWORDS",e.SET_RESULTS="SET_RESULTS",e.SET_OFFSET="SET_OFFSET",e.SET_PAGE_SIZE="SET_PAGE_SIZE"}(z||(z={}));var K,W,X=(r(Y={},z.SET_SOURCE,(function(e,t){e.pageId=t.pageId,e.blockId=t.blockId})),r(Y,z.SET_KEYWORDS,(function(e,t){console.log("SET_KEYWORDS Payload: ",t),e.keywordQueryModel=t})),r(Y,z.SET_RESULTS,(function(e,t){e.searchResult=t,e.offset=t.first-1})),r(Y,z.SET_OFFSET,(function(e,t){e.offset=t})),r(Y,z.SET_PAGE_SIZE,(function(e,t){e.max=t})),Y);!function(e){e.INIT_FILTER="INIT_FILTER",e.FILTER_BY_KEYWORDS="FILTER_BY_KEYWORDS",e.NEXT_PAGE="NEXT_PAGE",e.PREVIOUS_PAGE="PREVIOUS_PAGE",e.FRESH_SEARCH="FRESH_SEARCH",e.SAVE_KEYWORDS="SAVE_KEYWORDS"}(W||(W={}));var J=(r(K={},W.INIT_FILTER,(function(e){var t=window.location.origin+"/applets/api/keywordsearch/keywords/page/".concat(e.state.pageId,"/block/").concat(e.state.blockId);console.log("Keyword Load API: ",t),fetch(t).then((function(e){return e.json()})).then((function(t){e.commit(z.SET_KEYWORDS,t)}))})),r(K,W.FILTER_BY_KEYWORDS,(function(e){if(console.log("Dispatched Actions.FILTER_BY_KEYWORDS. Query model: ",JSON.stringify(e.state.keywordQueryModel)),e.state.blockId){var t={keywords:e.state.keywordQueryModel,offset:e.state.offset,max:e.state.max};localStorage.setItem(e.getters.searchParamStorageKey,JSON.stringify(t))}var n=window.location.origin+"/applets/api/keywordsearch/items/";console.log("Item Load API: ",n);var o=new FormData;e.state.pageId&&o.append("pageId",e.state.pageId.toString()),e.state.blockId&&o.append("blockId",e.state.blockId.toString()),o.append("offset",e.state.offset.toString()),o.append("max",e.state.max.toString()),o.append("queryParams",JSON.stringify(e.state.keywordQueryModel)),fetch(n,{method:"POST",body:o}).then((function(e){return e.json()})).then((function(t){e.commit(z.SET_RESULTS,t)})).catch((function(e){console.error("Item Load API Error:",e)}))})),r(K,W.NEXT_PAGE,(function(e){e.commit(z.SET_OFFSET,e.state.offset+e.state.max),e.dispatch(W.FILTER_BY_KEYWORDS)})),r(K,W.PREVIOUS_PAGE,(function(e){var t=Math.max(e.state.offset-e.state.max,0);e.commit(z.SET_OFFSET,t),e.dispatch(W.FILTER_BY_KEYWORDS)})),r(K,W.FRESH_SEARCH,(function(e,t){e.commit(z.SET_OFFSET,0),t&&e.commit(z.SET_PAGE_SIZE,t),e.dispatch(W.FILTER_BY_KEYWORDS)})),r(K,W.SAVE_KEYWORDS,(function(e,t){console.log("save keywords action :"+JSON.stringify(t)),e.commit(z.SET_KEYWORDS,t)})),K),Q=e.defineComponent({name:"KeywordFilter",setup:function(){var t=y();return{runFreshSearch:function(){return t.dispatch(W.FRESH_SEARCH)},keywordQueryModel:e.computed((function(){return t.state.keywordQueryModel}))}}}),Z={key:0},ee={key:0,class:"font-weight-bold"},te=["value","onUpdate:modelValue"],ne={class:"ml-1"};Q.render=function(t,n,o,l,i,r){var a;return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.keywordQueryModel)||void 0===a?void 0:a.containers,(function(o,l){var i,r;return e.openBlock(),e.createElementBlock("div",{key:o},[(null===(i=t.keywordQueryModel)||void 0===i?void 0:i.containers.length)>1&&(null==o||null===(r=o.name)||void 0===r?void 0:r.length)>0?(e.openBlock(),e.createElementBlock("div",Z,e.toDisplayString(o.name),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.fields,(function(o,i){return e.openBlock(),e.createElementBlock("div",{key:o,class:"mb-3"},[o.name.length>0?(e.openBlock(),e.createElementBlock("div",ee,e.toDisplayString(o.name),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.values,(function(o,r){return e.openBlock(),e.createElementBlock("div",{key:o},[e.withDirectives(e.createElementVNode("input",{type:"checkbox",value:o,"onUpdate:modelValue":function(e){return t.keywordQueryModel.containers[l].fields[i].selected[r]=e},onChange:n[0]||(n[0]=function(){return t.runFreshSearch&&t.runFreshSearch.apply(t,arguments)})},null,40,te),[[e.vModelCheckbox,t.keywordQueryModel.containers[l].fields[i].selected[r]]]),e.createElementVNode("label",ne,e.toDisplayString(o),1)])})),128))])})),128))])})),128)};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function oe(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var le=oe((function(e,t){e.exports=function(){var e=1e3,t=6e4,n=36e5,o="millisecond",l="second",i="minute",r="hour",a="day",c="week",s="month",d="quarter",u="year",m="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(e,t,n){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(n)+e},g={s:h,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),o=Math.floor(n/60),l=n%60;return(t<=0?"+":"-")+h(o,2,"0")+":"+h(l,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var o=12*(n.year()-t.year())+(n.month()-t.month()),l=t.clone().add(o,s),i=n-l<0,r=t.clone().add(o+(i?-1:1),s);return+(-(o+(n-l)/(i?l-r:r-l))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:s,y:u,w:c,d:a,D:m,h:r,m:i,s:l,ms:o,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},S="en",y={};y[S]=E;var T=function(e){return e instanceof F},k=function(e,t,n){var o;if(!e)return S;if("string"==typeof e)y[e]&&(o=e),t&&(y[e]=t,o=e);else{var l=e.name;y[l]=e,o=l}return!n&&o&&(S=o),o||!n&&S},_=function(e,t){if(T(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new F(n)},I=g;I.l=k,I.i=T,I.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var F=function(){function E(e){this.$L=k(e.locale,null,!0),this.parse(e)}var h=E.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(I.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(f);if(o){var l=o[2]-1||0,i=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],l,o[3]||1,o[4]||0,o[5]||0,o[6]||0,i)):new Date(o[1],l,o[3]||1,o[4]||0,o[5]||0,o[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return I},h.isValid=function(){return!(this.$d.toString()===p)},h.isSame=function(e,t){var n=_(e);return this.startOf(t)<=n&&n<=this.endOf(t)},h.isAfter=function(e,t){return _(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<_(e)},h.$g=function(e,t,n){return I.u(e)?this[t]:this.set(n,e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,t){var n=this,o=!!I.u(t)||t,d=I.p(e),p=function(e,t){var l=I.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return o?l:l.endOf(a)},f=function(e,t){return I.w(n.toDate()[e].apply(n.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},v=this.$W,E=this.$M,h=this.$D,g="set"+(this.$u?"UTC":"");switch(d){case u:return o?p(1,0):p(31,11);case s:return o?p(1,E):p(0,E+1);case c:var S=this.$locale().weekStart||0,y=(v<S?v+7:v)-S;return p(o?h-y:h+(6-y),E);case a:case m:return f(g+"Hours",0);case r:return f(g+"Minutes",1);case i:return f(g+"Seconds",2);case l:return f(g+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(e,t){var n,c=I.p(e),d="set"+(this.$u?"UTC":""),p=(n={},n[a]=d+"Date",n[m]=d+"Date",n[s]=d+"Month",n[u]=d+"FullYear",n[r]=d+"Hours",n[i]=d+"Minutes",n[l]=d+"Seconds",n[o]=d+"Milliseconds",n)[c],f=c===a?this.$D+(t-this.$W):t;if(c===s||c===u){var v=this.clone().set(m,1);v.$d[p](f),v.init(),this.$d=v.set(m,Math.min(this.$D,v.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[I.p(e)]()},h.add=function(o,d){var m,p=this;o=Number(o);var f=I.p(d),v=function(e){var t=_(p);return I.w(t.date(t.date()+Math.round(e*o)),p)};if(f===s)return this.set(s,this.$M+o);if(f===u)return this.set(u,this.$y+o);if(f===a)return v(1);if(f===c)return v(7);var E=(m={},m[i]=t,m[r]=n,m[l]=e,m)[f]||1,h=this.$d.getTime()+o*E;return I.w(h,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var o=e||"YYYY-MM-DDTHH:mm:ssZ",l=I.z(this),i=this.$H,r=this.$m,a=this.$M,c=n.weekdays,s=n.months,d=function(e,n,l,i){return e&&(e[n]||e(t,o))||l[n].substr(0,i)},u=function(e){return I.s(i%12||12,e,"0")},m=n.meridiem||function(e,t,n){var o=e<12?"AM":"PM";return n?o.toLowerCase():o},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:I.s(a+1,2,"0"),MMM:d(n.monthsShort,a,s,3),MMMM:d(s,a),D:this.$D,DD:I.s(this.$D,2,"0"),d:String(this.$W),dd:d(n.weekdaysMin,this.$W,c,2),ddd:d(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(i),HH:I.s(i,2,"0"),h:u(1),hh:u(2),a:m(i,r,!0),A:m(i,r,!1),m:String(r),mm:I.s(r,2,"0"),s:String(this.$s),ss:I.s(this.$s,2,"0"),SSS:I.s(this.$ms,3,"0"),Z:l};return o.replace(v,(function(e,t){return t||f[e]||l.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(o,m,p){var f,v=I.p(m),E=_(o),h=(E.utcOffset()-this.utcOffset())*t,g=this-E,S=I.m(this,E);return S=(f={},f[u]=S/12,f[s]=S,f[d]=S/3,f[c]=(g-h)/6048e5,f[a]=(g-h)/864e5,f[r]=g/n,f[i]=g/t,f[l]=g/e,f)[v]||g,p?S:I.a(S)},h.daysInMonth=function(){return this.endOf(s).$D},h.$locale=function(){return y[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),o=k(e,t,!0);return o&&(n.$L=o),n},h.clone=function(){return I.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},E}(),C=F.prototype;return _.prototype=C,[["$ms",o],["$s",l],["$m",i],["$H",r],["$W",a],["$M",s],["$y",u],["$D",m]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),_.extend=function(e,t){return e.$i||(e(t,F,_),e.$i=!0),_},_.locale=k,_.isDayjs=T,_.unix=function(e){return _(1e3*e)},_.en=y[S],_.Ls=y,_.p={},_}()})),ie=le,re=e.defineComponent({name:"ItemList",props:{},setup:function(){var t=y(),n=e.ref(25);return{items:e.computed((function(){var e;return null===(e=t.state.searchResult)||void 0===e?void 0:e.items})),freshSearch:function(e){return t.dispatch(W.FRESH_SEARCH,e)},nextPage:function(){return t.dispatch(W.NEXT_PAGE)},previousPage:function(){return t.dispatch(W.PREVIOUS_PAGE)},selectedPageSize:n,count:e.computed((function(){var e;return null===(e=t.state.searchResult)||void 0===e?void 0:e.count})),first:e.computed((function(){var e;return null===(e=t.state.searchResult)||void 0===e?void 0:e.first})),last:e.computed((function(){var e;return null===(e=t.state.searchResult)||void 0===e?void 0:e.last}))}},methods:{formatDate:function(e){return ie(e).format("MMM DD, YYYY")}}}),ae={class:"itemList"},ce={key:0},se={key:0},de={key:1},ue=[e.createElementVNode("option",null,"25",-1),e.createElementVNode("option",null,"50",-1),e.createElementVNode("option",null,"100",-1)],me={key:1},pe={class:"item"},fe={class:"item-title"},ve=["href"],Ee={key:1},he={class:"item-date"},ge={class:"item-subtitle"},Se={class:"categories"},ye={class:"badge rounded-pill bg-dark text-white m-1"},Te={class:"content"};re.render=function(t,n,o,l,i,r){var a;return e.openBlock(),e.createElementBlock("div",ae,[(null===(a=t.items)||void 0===a?void 0:a.length)>0?(e.openBlock(),e.createElementBlock("div",ce,[t.first>1?(e.openBlock(),e.createElementBlock("span",se,[e.createElementVNode("i",{class:"fas fa-angle-double-left",onClick:n[0]||(n[0]=function(){return t.previousPage&&t.previousPage.apply(t,arguments)})})])):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(t.first)+"-"+e.toDisplayString(t.last)+" of "+e.toDisplayString(t.count)+" ",1),t.count>t.last?(e.openBlock(),e.createElementBlock("span",de,[e.createElementVNode("i",{class:"fas fa-angle-double-right",onClick:n[1]||(n[1]=function(){return t.nextPage&&t.nextPage.apply(t,arguments)})})])):e.createCommentVNode("",!0),e.createElementVNode("span",null,[e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":n[2]||(n[2]=function(e){return t.selectedPageSize=e}),class:"pull-right",onChange:n[3]||(n[3]=function(e){return t.freshSearch(Number(t.selectedPageSize))})},ue,544),[[e.vModelSelect,t.selectedPageSize]])])])):(e.openBlock(),e.createElementBlock("div",me,"No results found.")),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.items,(function(n){var o;return e.openBlock(),e.createElementBlock("div",{key:n.id},[e.createElementVNode("div",pe,[e.createElementVNode("h3",fe,[(null===(o=n.detailedViewUrl)||void 0===o?void 0:o.length)>0?(e.openBlock(),e.createElementBlock("a",{key:0,href:n.detailedViewUrl},e.toDisplayString(n.title),9,ve)):(e.openBlock(),e.createElementBlock("span",Ee,e.toDisplayString(n.title),1))]),e.createElementVNode("div",he,e.toDisplayString(t.formatDate(n.date)),1),e.createElementVNode("h5",ge,e.toDisplayString(n.subtitle),1),e.createElementVNode("div",Se,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.categories,(function(t){return e.openBlock(),e.createElementBlock("span",ye,e.toDisplayString(t),1)})),256))]),e.createElementVNode("div",Te,e.toDisplayString(n.content),1)])])})),128))])};var ke=e.defineComponent({name:"Applet",components:{KeywordFilter:Q,ItemList:re},props:s,setup:function(t){console.log("Keyword Search setup ...",t);var n=y();n.commit(z.SET_SOURCE,{pageId:t.pageId,blockId:t.blockId});var o,l=localStorage.getItem(n.getters.searchParamStorageKey);return l&&l.length>0&&(o=JSON.parse(l))&&o.keywords?(n.commit(z.SET_KEYWORDS,o.keywords),n.commit(z.SET_OFFSET,o.offset),n.commit(z.SET_PAGE_SIZE,o.max)):n.dispatch(W.INIT_FILTER),e.onMounted((function(){return n.dispatch(W.FILTER_BY_KEYWORDS)})),{keywordQueryModel:e.ref(n.state.keywordQueryModel)}},storeConfig:{state:{keywordQueryModel:null,searchResult:null,offset:0,max:25,pageId:null,blockId:null},actions:J,mutations:X,getters:{searchParamStorageKey:function(e){var t;return(null===(t=e.blockId)||void 0===t?void 0:t.toString())+"SearchParams"}}}}),_e={class:"row"},Ie={class:"col-md-4 text-left"},Fe={class:"col-md-8"};ke.render=function(t,n,o,l,i,r){var a=e.resolveComponent("KeywordFilter"),c=e.resolveComponent("ItemList");return e.openBlock(),e.createElementBlock("div",_e,[e.createElementVNode("div",Ie,[e.createVNode(a)]),e.createElementVNode("div",Fe,[e.createVNode(c)])])};var Ce,Be;!function(e){e.SET_ID="SET_ID",e.SET_TEMPLATE="SET_TEMPLATE"}(Be||(Be={}));var De,Ne,be=(r(Ce={},Be.SET_ID,(function(e,t){e.Id=t})),r(Ce,Be.SET_TEMPLATE,(function(e,t){e.template=t})),Ce);!function(e){e.LOAD_TEMPLATE="LOAD_TEMPLATE",e.SET_ID="SET_ID"}(Ne||(Ne={}));var Oe=(r(De={},Ne.LOAD_TEMPLATE,(function(e){var t=window.location.origin+"/applets/api/itemtemplates/".concat(e.state.Id);fetch(t).then((function(e){return e.json()})).then((function(t){e.commit(Be.SET_TEMPLATE,t)}))})),r(De,Ne.SET_ID,(function(e,t){e.commit(Be.SET_ID,t)})),De),Ae=e.defineComponent({name:"NotificationEditor",props:{fieldContainer:{required:!1,type:null}},setup:function(){}});Ae.render=function(t,n,o,l,i,r){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h4",null,e.toDisplayString(t.fieldContainer.name.concatenatedContent),1),e.createElementVNode("div",null,e.toDisplayString(t.fieldContainer),1)],64)};var Me=e.defineComponent({name:"FormEditor",props:["form"],setup:function(){}});Me.render=function(t,n,o,l,i,r){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h4",null,e.toDisplayString(t.form.name.concatenatedContent),1),e.createElementVNode("div",null,e.toDisplayString(t.form),1)],64)};var Le=e.defineComponent({name:"MetadatasetEditor",props:["metadataset"],setup:function(){}});Le.render=function(t,n,o,l,i,r){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h4",null,e.toDisplayString(t.metadataset.name.concatenatedContent),1),e.createElementVNode("div",null,e.toDisplayString(t.metadataset),1)],64)};var Ve=e.defineComponent({name:"ItemTemplate",components:{NotificationEditor:Ae,FormEditor:Me,MetadatasetEditor:Le},props:{},setup:function(){var t=y(),n=e.ref(null);return{template:e.computed((function(){return t.state.template})),metadataSets:e.computed((function(){var e;return null===(e=t.state.template)||void 0===e?void 0:e.metadataSets})),dataContainer:e.computed((function(){var e;return null===(e=t.state.template)||void 0===e?void 0:e.dataContainer})),activePanel:n}},methods:{formatDate:function(e){return ie(e).format("MMM DD, YYYY")}}}),Re=function(t){return e.pushScopeId("data-v-2579f0c4"),t=t(),e.popScopeId(),t},xe={class:"container row itemTemplate"},we={class:"col-md-4"},Pe=[Re((function(){return e.createElementVNode("div",{class:"sectionLabel"},"Overview",-1)}))],Ue=[Re((function(){return e.createElementVNode("div",{class:"sectionLabel"},"Notifications",-1)}))],$e=["onClick"],je=[Re((function(){return e.createElementVNode("div",{class:"sectionLabel"},"Forms",-1)}))],Ge=["onClick"],qe=[Re((function(){return e.createElementVNode("div",{class:"sectionLabel"},"Metadata Forms",-1)}))],He=["onClick"],Ye={class:"col-md-8"},ze={key:0,class:"col-12 wrapper"},Ke=[Re((function(){return e.createElementVNode("h4",null,"Overview",-1)}))],We={key:1,class:"col-12 wrapper"},Xe=[Re((function(){return e.createElementVNode("h4",null,"Notifications",-1)}))],Je={key:0},Qe={key:2,class:"col-12 wrapper"},Ze=[Re((function(){return e.createElementVNode("h4",null,"Forms",-1)}))],et={key:0},tt={key:3,class:"col-12 wrapper"},nt=[Re((function(){return e.createElementVNode("h4",null,"Metadata Forms",-1)}))],ot={key:0};function lt(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===n&&o.firstChild?o.insertBefore(l,o.firstChild):o.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}lt("\n.menuEntry[data-v-2579f0c4]{\r\n        border: 1px solid Grey;\r\n        margin: 10px;\r\n        padding: 10px 10px;\n}\n.menuEntry.active[data-v-2579f0c4] {\r\n            background-color: #BBBCAA;\n}\n.sectionLabel[data-v-2579f0c4]{\r\n        font-weight: bold;\n}\n.wrapper[data-v-2579f0c4]{\r\n        margin: 0;\r\n        padding: 0;\n}\r\n"),Ve.render=function(t,n,o,l,i,r){var a,c,s,d,u,m=e.resolveComponent("NotificationEditor"),p=e.resolveComponent("FormEditor"),f=e.resolveComponent("MetadatasetEditor");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h3",null,e.toDisplayString(null===(a=t.template)||void 0===a?void 0:a.templateName),1),e.createElementVNode("div",xe,[e.createElementVNode("div",we,[e.createElementVNode("div",{class:e.normalizeClass(["col-12 menuEntry","overview"==t.activePanel||null==t.activePanel?"active":""]),onClick:n[0]||(n[0]=function(e){return t.activePanel="overview"})},Pe,2),e.createElementVNode("div",{class:e.normalizeClass(["col-12 menuEntry","notifications"==t.activePanel?"active":""]),onClick:n[1]||(n[1]=function(e){return t.activePanel="notifications"})},Ue,2),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(c=t.metadataSets)||void 0===c?void 0:c.filter((function(e){return 1==e.isTemplate})),(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:e.normalizeClass(["col-12 menuEntry",t.activePanel==n.id?"active":""]),onClick:function(e){return t.activePanel=n.id}},e.toDisplayString(n.name.concatenatedContent),11,$e)})),128)),e.createElementVNode("div",{class:"col-12 menuEntry",onClick:n[2]||(n[2]=function(e){return t.activePanel="forms"})},je),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.dataContainer,(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:e.normalizeClass(["col-12 menuEntry",t.activePanel==n.id?"active":""]),onClick:function(e){return t.activePanel=n.id}},e.toDisplayString(n.name.concatenatedContent),11,Ge)})),128)),e.createElementVNode("div",{class:"col-12 menuEntry",onClick:n[3]||(n[3]=function(e){return t.activePanel="metadata-forms"})},qe),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(s=t.metadataSets)||void 0===s?void 0:s.filter((function(e){return 0==e.isTemplate})),(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:e.normalizeClass(["col-12 menuEntry",t.activePanel==n.id?"active":""]),onClick:function(e){return t.activePanel=n.id}},e.toDisplayString(n.name.concatenatedContent),11,He)})),128))]),e.createElementVNode("div",Ye,[null==t.activePanel||"overview"==t.activePanel?(e.openBlock(),e.createElementBlock("div",ze,Ke)):e.createCommentVNode("",!0),"notifications"==t.activePanel?(e.openBlock(),e.createElementBlock("div",We,Xe)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(d=t.metadataSets)||void 0===d?void 0:d.filter((function(e){return 1==e.isTemplate})),(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:"col-12 wrapper"},[t.activePanel==n.id?(e.openBlock(),e.createElementBlock("div",Je,[e.createVNode(m,{fieldContainer:n},null,8,["fieldContainer"])])):e.createCommentVNode("",!0)])})),128)),"forms"==t.activePanel?(e.openBlock(),e.createElementBlock("div",Qe,Ze)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.dataContainer,(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:"col-12 wrapper"},[t.activePanel==n.id?(e.openBlock(),e.createElementBlock("div",et,[e.createVNode(p,{form:n},null,8,["form"])])):e.createCommentVNode("",!0)])})),128)),"metadata-forms"==t.activePanel?(e.openBlock(),e.createElementBlock("div",tt,nt)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(u=t.metadataSets)||void 0===u?void 0:u.filter((function(e){return 0==e.isTemplate})),(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:"col-12 wrapper"},[t.activePanel==n.id?(e.openBlock(),e.createElementBlock("div",ot,[e.createVNode(f,{metadataset:n},null,8,["metadataset"])])):e.createCommentVNode("",!0)])})),128))])])],64)},Ve.__scopeId="data-v-2579f0c4";var it=e.defineComponent({name:"ItemTemplateEditor",components:{ItemTemplate:Ve},props:s,setup:function(e){var t=y();console.log("Item Template Editor setup ..."),console.log("props: ",JSON.stringify(e));var n=e.queryParameters;return t.dispatch("SET_ID",n.id),t.dispatch("LOAD_TEMPLATE"),{queryParams:n}},storeConfig:{state:{Id:null,template:null},actions:Oe,mutations:be,getters:{}}}),rt=e.createElementVNode("h3",null,"Item Template Editor",-1);it.render=function(t,n,o,l,i,r){var a=e.resolveComponent("ItemTemplate");return e.openBlock(),e.createElementBlock(e.Fragment,null,[rt,e.createElementVNode("div",null,"Item Template ID: "+e.toDisplayString(t.queryParameters.id),1),e.createVNode(a)],64)};var at=e.defineComponent({name:"ItemEditor",components:{},props:s,setup:function(e,t){return console.log("Editor setup ..."),console.log("props: ",e),console.log("context: ",t),{queryParameters:e.queryParameters}},mounted:function(){console.log("Editor mounted ...")}}),ct=e.createElementVNode("h2",null,"Item Ediror",-1);at.render=function(t,n,o,l,i,r){return e.openBlock(),e.createElementBlock("div",null,[ct,e.createElementVNode("div",null,"Item ID: "+e.toDisplayString(t.queryParameters.id),1)])};var st,dt,ut={id:null,item:null};!function(e){e.SET_ID="SET_ID",e.SET_ITEM="SET_ITEM",e.CHANGE_STATE="CHANGE_STATE"}(dt||(dt={}));var mt,pt,ft=(r(st={},dt.SET_ID,(function(e,t){e.id=t})),r(st,dt.SET_ITEM,(function(e,t){e.item=t})),r(st,dt.CHANGE_STATE,(function(e,t){console.log(JSON.stringify(e)),console.log(JSON.stringify(t))})),st);!function(e){e.LOAD_ITEM="LOAD_ITEM",e.CHANGE_STATE="CHANGE_STATE"}(pt||(pt={}));var vt,Et,ht,gt=(r(mt={},pt.LOAD_ITEM,(function(e){var t=window.location.origin+"/applets/api/items/".concat(e.state.id);console.log("Item Load API: ",t),fetch(t).then((function(e){return e.json()})).then((function(t){e.commit(dt.SET_ITEM,t)}))})),r(mt,pt.CHANGE_STATE,(function(e,t){console.log(JSON.stringify(e.state));var n=window.location.origin+"/applets/api/items/deleteItem/".concat(t);console.log("Item Load API: ",n),fetch(n,{method:"post"}).then((function(e){switch(console.log(e.status),e.status){case 200:window.location.href="/";break;case 401:alert("Authorization failed.");break;case 404:alert("Item not found.");break;case 500:alert("Internal server error occurred.");break;default:alert("Unknown error occurred.")}})).catch((function(e){alert("Unknown error occurred."),console.log(e)}))})),mt),St={rootDataItem:function(e){var t,n,o;return null===(t=e.item)||void 0===t||null===(n=t.dataContainer)||void 0===n||null===(o=n.$values)||void 0===o?void 0:o.filter((function(e){return e.isRoot}))[0]},metadataSet:function(e){return function(t){var n,o,l;return console.log("metadataset getter id: "+JSON.stringify(t)),null===(n=e.item)||void 0===n||null===(o=n.metadataSets)||void 0===o||null===(l=o.$values)||void 0===l?void 0:l.find((function(e){return e.templateId===t}))}},dataItemId:function(e){var t,n,o,l;return null===(t=e.item)||void 0===t||null===(n=t.dataContainer)||void 0===n||null===(o=n.$values)||void 0===o||null===(l=o.filter((function(e){return e.isRoot}))[0])||void 0===l?void 0:l.id}};!function(e){e[e[void 0]=0]="undefined",e[e.data=1]="data",e[e.metadata=2]="metadata"}(vt||(vt={})),function(e){e[e.AttachmentField=0]="AttachmentField",e[e.CheckboxField=1]="CheckboxField",e[e.CompositeField=2]="CompositeField",e[e.DateField=3]="DateField",e[e.DecimalField=4]="DecimalField",e[e.EmailField=5]="EmailField",e[e.FieldContainerReference=6]="FieldContainerReference",e[e.InfoSection=7]="InfoSection",e[e.IntegerField=8]="IntegerField",e[e.MonolingualTextField=9]="MonolingualTextField",e[e.RadioField=10]="RadioField",e[e.SelectField=11]="SelectField",e[e.TableField=12]="TableField",e[e.TextArea=13]="TextArea",e[e.TextField=14]="TextField",e[e.AudioRecorderField=15]="AudioRecorderField"}(Et||(Et={})),function(e){e.VALID="VALID",e.VALUE_REQUIRED="VALUE_REQUIRED",e.INVALID="INVALID"}(ht||(ht={}));var yt=function(){function e(){o(this,e)}return i(e,null,[{key:"getSelectedFieldLabels",value:function(e){return null==e?void 0:e.filter((function(e){return e.selected})).map((function(e){var t;return null===(t=e.optionText)||void 0===t?void 0:t.values.$values.map((function(e){return e.value})).join(" / ")})).join(", ")}}]),e}(),Tt=e.defineComponent({name:"Text",props:{model:{type:null,required:!0}},methods:{isUrl:function(e){return(null==e?void 0:e.startsWith("http://"))||(null==e?void 0:e.startsWith("https://"))}}}),kt={key:0},_t=["href"],It={key:1};Tt.render=function(t,n,o,l,i,r){return t.isUrl(t.model.value)?(e.openBlock(),e.createElementBlock("div",kt,[e.createElementVNode("a",{href:t.model.value},e.toDisplayString(t.model.value),9,_t)])):(e.openBlock(),e.createElementBlock("div",It,e.toDisplayString(t.model.value),1))};var Ft=e.defineComponent({name:"TextCollection",props:{model:{type:null,required:!0}},components:{Text:Tt}});Ft.render=function(t,n,o,l,i,r){var a=e.resolveComponent("Text");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values.$values,(function(t){return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(a,{model:t},null,8,["model"])])})),256)};var Ct=e.defineComponent({name:"TextField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!0},isMultiline:{type:Boolean,required:!1,default:!0}},components:{TextCollection:Ft}});Ct.render=function(t,n,o,l,i,r){var a=e.resolveComponent("TextCollection");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values.$values,(function(t){return e.openBlock(),e.createElementBlock("div",{key:t.id},[e.createVNode(a,{model:t},null,8,["model"])])})),128)};var Bt=e.defineComponent({name:"EmailField",props:{model:{type:null,required:!0},isMultivalue:{type:Boolean,required:!1,default:!1}}});Bt.render=function(t,n,o,l,i,r){return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values.$values,(function(t){return e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(t.value),1)})),256)};var Dt=e.defineComponent({name:"OptionsField",components:{},props:{model:{type:Object,required:!0}},methods:{getSelectedFieldLabels:function(e){return yt.getSelectedFieldLabels(e.options.$values)}}});Dt.render=function(t,n,o,l,i,r){return e.toDisplayString(t.getSelectedFieldLabels(t.model))};var Nt=e.defineComponent({name:"DecimalField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!1},numDecimalPlaces:{type:Number,required:!1,default:2}},methods:{formatToDecimal:function(e,t){return Number(e).toFixed(t)}}});Nt.render=function(t,n,o,l,i,r){return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values.$values,(function(n){return e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(t.formatToDecimal(n,t.numDecimalPlaces)),1)})),256)};var bt=e.defineComponent({name:"IntegerField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!1}}});bt.render=function(t,n,o,l,i,r){return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values.$values,(function(t){return e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(t.value),1)})),256)};var Ot=e.defineComponent({name:"DateField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!1}},methods:{formatDate:function(e){return ie(e).format("MMM DD, YYYY")}}});Ot.render=function(t,n,o,l,i,r){return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values.$values,(function(n){return e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(t.formatDate(n.value)),1)})),256)};var At=e.defineComponent({name:"ChildFieldContainer",props:{model:null},components:{TextField:Ct,EmailField:Bt,OptionsField:Dt,DecimalField:Nt,IntegerField:bt,DateField:Ot},methods:{getFieldType:function(e){var t,n=null==e?void 0:e.$type.substring(0,e.$type.indexOf(","));return n=null===(t=n)||void 0===t?void 0:t.substring(n.lastIndexOf(".")+1),Et[n]},isAttachmentField:function(e){return this.getFieldType(e)===Et.AttachmentField},isOptionsField:function(e){return this.getFieldType(e)===Et.CheckboxField||this.getFieldType(e)===Et.RadioField||this.getFieldType(e)===Et.SelectField},isCompositeField:function(e){return this.getFieldType(e)===Et.CompositeField},isDateField:function(e){return this.getFieldType(e)===Et.DateField},isDecimalField:function(e){return this.getFieldType(e)===Et.DecimalField},isEmailField:function(e){return this.getFieldType(e)===Et.EmailField},isFieldContainerReference:function(e){return this.getFieldType(e)===Et.FieldContainerReference},isInfoSection:function(e){return this.getFieldType(e)===Et.InfoSection},isIntegerField:function(e){return this.getFieldType(e)===Et.IntegerField},isMonolingualTextField:function(e){return this.getFieldType(e)===Et.MonolingualTextField},isTableField:function(e){return this.getFieldType(e)===Et.TableField},isTextArea:function(e){return this.getFieldType(e)===Et.TextArea},isTextField:function(e){return this.getFieldType(e)===Et.TextField},cssClass:function(e){return(e.cssClass?e.cssClass:"")+" "+(e.fieldCssClass?e.fieldCssClass:"")}}}),Mt={class:"field-name col-md-3"},Lt={class:"field-value col-md-9"},Vt={key:7},Rt={key:8},xt={key:9},wt={key:11};At.render=function(t,n,o,l,i,r){var a=this,c=e.resolveComponent("TextField"),s=e.resolveComponent("EmailField"),d=e.resolveComponent("OptionsField"),u=e.resolveComponent("DecimalField"),m=e.resolveComponent("IntegerField"),p=e.resolveComponent("DateField");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.fields.$values,(function(n){return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["row",t.cssClass(n)])},[e.createElementVNode("div",Mt,e.toDisplayString(n.name.concatenatedContent),1),e.createElementVNode("div",Lt,[a.isTextField(n)?(e.openBlock(),e.createBlock(c,{key:0,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isTextArea(n)?(e.openBlock(),e.createBlock(c,{key:1,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isEmailField(n)?(e.openBlock(),e.createBlock(s,{key:2,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isOptionsField(n)?(e.openBlock(),e.createBlock(d,{key:3,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isDecimalField(n)?(e.openBlock(),e.createBlock(u,{key:4,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isIntegerField(n)?(e.openBlock(),e.createBlock(m,{key:5,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isDateField(n)?(e.openBlock(),e.createBlock(p,{key:6,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isAttachmentField(t.model)?(e.openBlock(),e.createElementBlock("div",Vt," AttachmentField ")):e.createCommentVNode("",!0),a.isCompositeField(t.model)?(e.openBlock(),e.createElementBlock("div",Rt," CompositeField ")):e.createCommentVNode("",!0),a.isInfoSection(t.model)?(e.openBlock(),e.createElementBlock("div",xt," InfoSection ")):e.createCommentVNode("",!0),a.isMonolingualTextField(t.model)?(e.openBlock(),e.createBlock(c,{key:10,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isTableField(t.model)?(e.openBlock(),e.createElementBlock("div",wt," TableField ")):e.createCommentVNode("",!0)])],2)})),256)};var Pt=e.defineComponent({name:"FieldContainerReference",components:{ChildFieldContainer:At},props:{model:{type:null,required:!0}},setup:function(t){var n=y(),o=e.ref(t.model.refId);return console.log("refId: "+JSON.stringify(o)),{refId:o,source:e.computed((function(){return n.getters.metadataSet(o.value)}))}}});Pt.render=function(t,n,o,l,i,r){var a=e.resolveComponent("ChildFieldContainer");return e.openBlock(),e.createBlock(a,{model:t.source},null,8,["model"])};var Ut=e.defineComponent({name:"AttachmentField",components:{},props:{model:{type:null,required:!0}},setup:function(t){var n=y(),o=e.ref(n.state.item.id),l=e.ref(n.getters.dataItemId);return{itemId:o,fileUrl:"/api/items/"+o.value+"/"+l.value+"/"+t.model.id+"/"}}}),$t=["href"],jt=["src"];lt("\n.img-thumbnail[data-v-307ae89a]{\r\n        width:35px;\r\n        height: auto;\r\n        margin-right: 10px;\n}\r\n"),Ut.render=function(t,n,o,l,i,r){return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.files.$values,(function(n){return e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("a",{href:t.fileUrl+n.fileName},[e.createElementVNode("img",{src:n.thumbnail,class:"img-thumbnail"},null,8,jt)],8,$t),e.createTextVNode(e.toDisplayString(n.originalFileName),1)])})),256)},Ut.__scopeId="data-v-307ae89a";var Gt=e.defineComponent({name:"InfoField",props:{model:{type:null,required:!0}}}),qt=["innerHTML"];Gt.render=function(t,n,o,l,i,r){return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.content.values.$values,(function(t){return e.openBlock(),e.createElementBlock("div",{key:t.id},[e.createElementVNode("div",{innerHTML:t.value},null,8,qt)])})),128)};var Ht=e.defineComponent({name:"FieldContainer",props:{model:null,hideFieldNames:Boolean},components:{TextField:Ct,EmailField:Bt,OptionsField:Dt,DecimalField:Nt,IntegerField:bt,DateField:Ot,ReferenceField:Pt,AttachmentField:Ut,InfoField:Gt},methods:{getFieldType:function(e){var t,n=null==e?void 0:e.$type.substring(0,e.$type.indexOf(","));return n=null===(t=n)||void 0===t?void 0:t.substring(n.lastIndexOf(".")+1),Et[n]},isAttachmentField:function(e){return this.getFieldType(e)===Et.AttachmentField},isOptionsField:function(e){return this.getFieldType(e)===Et.CheckboxField||this.getFieldType(e)===Et.RadioField||this.getFieldType(e)===Et.SelectField},isCompositeField:function(e){return this.getFieldType(e)===Et.CompositeField},isDateField:function(e){return this.getFieldType(e)===Et.DateField},isDecimalField:function(e){return this.getFieldType(e)===Et.DecimalField},isEmailField:function(e){return this.getFieldType(e)===Et.EmailField},isFieldContainerReference:function(e){return this.getFieldType(e)===Et.FieldContainerReference},isInfoSection:function(e){return this.getFieldType(e)===Et.InfoSection},isIntegerField:function(e){return this.getFieldType(e)===Et.IntegerField},isMonolingualTextField:function(e){return this.getFieldType(e)===Et.MonolingualTextField},isTableField:function(e){return this.getFieldType(e)===Et.TableField},isTextArea:function(e){return this.getFieldType(e)===Et.TextArea},isTextField:function(e){return this.getFieldType(e)===Et.TextField},cssClass:function(e){return e.cssClass+" "+e.fieldCssClass},formatDate:function(e){return ie(e).format("MMM DD, YYYY")}}}),Yt={class:"timeStamp"},zt={key:0,class:"field-name col-md-3"},Kt={class:"field-value col-md-9"},Wt={key:10},Xt={key:11};Ht.render=function(t,n,o,l,i,r){var a=this,c=e.resolveComponent("ReferenceField"),s=e.resolveComponent("TextField"),d=e.resolveComponent("EmailField"),u=e.resolveComponent("OptionsField"),m=e.resolveComponent("DecimalField"),p=e.resolveComponent("IntegerField"),f=e.resolveComponent("DateField"),v=e.resolveComponent("AttachmentField"),E=e.resolveComponent("InfoField");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",Yt,e.toDisplayString(t.formatDate(t.model.created)),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.fields.$values,(function(n){return e.openBlock(),e.createElementBlock("div",null,[a.isFieldContainerReference(n)?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(t.cssClass(n))},[e.createVNode(c,{model:n},null,8,["model"])],2)):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(["row",t.cssClass(n)])},[t.hideFieldNames?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",zt,e.toDisplayString(n.name.concatenatedContent),1)),e.createElementVNode("div",Kt,[a.isTextField(n)?(e.openBlock(),e.createBlock(s,{key:0,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isTextArea(n)?(e.openBlock(),e.createBlock(s,{key:1,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isEmailField(n)?(e.openBlock(),e.createBlock(d,{key:2,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isOptionsField(n)?(e.openBlock(),e.createBlock(u,{key:3,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isDecimalField(n)?(e.openBlock(),e.createBlock(m,{key:4,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isIntegerField(n)?(e.openBlock(),e.createBlock(p,{key:5,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isDateField(n)?(e.openBlock(),e.createBlock(f,{key:6,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isMonolingualTextField(t.model)?(e.openBlock(),e.createBlock(s,{key:7,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isAttachmentField(n)?(e.openBlock(),e.createBlock(v,{key:8,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isInfoSection(n)?(e.openBlock(),e.createBlock(E,{key:9,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isCompositeField(n)?(e.openBlock(),e.createElementBlock("div",Wt," CompositeField ")):e.createCommentVNode("",!0),a.isTableField(n)?(e.openBlock(),e.createElementBlock("div",Xt," TableField ")):e.createCommentVNode("",!0)])],2))])})),256))],64)};var Jt=e.defineComponent({name:"ItemViewer",components:{FieldContainer:Ht},props:s,setup:function(t){var n=y(),o=t.dataAttributes;console.log("Item Viewer setup ..."),console.log("props: ",JSON.stringify(t));var l=o["is-admin"];console.log("isAdmin: ",l);var i=t.queryParameters;return n.commit(dt.SET_ID,i.iid),n.dispatch(pt.LOAD_ITEM),{store:n,queryParams:i,dataItem:e.computed((function(){return n.getters.rootDataItem})),isAdmin:l}},storeConfig:{state:ut,actions:gt,mutations:ft,getters:St},methods:{changeItemState:function(e){confirm("Do you really want to delete this item?")&&(console.log("id: "+e),this.store.dispatch(pt.CHANGE_STATE,e))}}}),Qt={key:0,class:"text-right"},Zt={class:"item"};var en;lt("\n.field-name[data-v-f3c870c6] {\r\n        font-weight: bold !important;\n}\n.fa-remove[data-v-f3c870c6] {\r\n        color: red;\r\n        margin-left: 30px;\n}\r\n"),Jt.render=function(t,n,o,l,i,r){var a=e.resolveComponent("FieldContainer");return e.openBlock(),e.createElementBlock(e.Fragment,null,[t.isAdmin?(e.openBlock(),e.createElementBlock("div",Qt,[e.createElementVNode("span",{class:"fas fa-remove",onClick:n[0]||(n[0]=function(e){t.changeItemState(t.queryParams.iid)})})])):e.createCommentVNode("",!0),e.createElementVNode("div",Zt,[t.dataItem?(e.openBlock(),e.createBlock(a,{key:0,model:t.dataItem},null,8,["model"])):e.createCommentVNode("",!0)])],64)},Jt.__scopeId="data-v-f3c870c6",function(e){e[e.InProgress=1]="InProgress",e[e.Ready=2]="Ready"}(en||(en={}));var tn,nn,on={indexingStatus:{pageIndexingStatus:en.Ready,dataIndexingStatus:en.Ready}};!function(e){e.SET_REINDEX_PAGE_STATUS="SET_REINDEX_PAGE_STATUS",e.SET_REINDEX_DATA_STATUS="SET_REINDEX_DATA_STATUS",e.SET_REINDEX_STATUS="SET_REINDEX_STATUS"}(nn||(nn={}));var ln,rn,an=(r(tn={},nn.SET_REINDEX_PAGE_STATUS,(function(e,t){console.log("SET_REINDEX_PAGE_STATUS: ",t),e.indexingStatus.pageIndexingStatus=t})),r(tn,nn.SET_REINDEX_DATA_STATUS,(function(e,t){console.log("SET_REINDEX_DATA_STATUS: ",t),e.indexingStatus.dataIndexingStatus=t})),r(tn,nn.SET_REINDEX_STATUS,(function(e,t){console.log("SET_REINDEX_STATUS: ",t),e.indexingStatus=t})),tn);!function(e){e.REINDEX_DATA="REINDEX_DATA",e.REINDEX_PAGES="REINDEX_PAGES",e.FETCH_REINDEX_STATUS="FETCH_REINDEX_STATUS"}(rn||(rn={}));var cn=(r(ln={},rn.REINDEX_DATA,(function(e){var t=window.location.origin+"/applets/api/reindex/data";e.commit(nn.SET_REINDEX_DATA_STATUS,en.InProgress),fetch(t,{method:"POST"}).then((function(e){return e.json()})).then((function(t){e.commit(nn.SET_REINDEX_DATA_STATUS,t)})).catch((function(e){console.error("Data reindexing error:",e)}))})),r(ln,rn.REINDEX_PAGES,(function(e){var t=window.location.origin+"/applets/api/reindex/pages";e.commit(nn.SET_REINDEX_PAGE_STATUS,en.InProgress),fetch(t,{method:"POST"}).then((function(e){return e.json()})).then((function(t){e.commit(nn.SET_REINDEX_PAGE_STATUS,t)})).catch((function(e){console.error("Page reindexing error:",e)}))})),r(ln,rn.FETCH_REINDEX_STATUS,(function(e){var t=window.location.origin+"/applets/api/reindex/status";fetch(t).then((function(e){return e.json()})).then((function(t){e.commit(nn.SET_REINDEX_STATUS,t)})).catch((function(e){console.error("Fetch reindexing status error:",e)}))})),ln),sn=e.defineComponent({name:"IndexingPanel",props:{},setup:function(){var t=y();return{reindexData:function(){return t.dispatch(rn.REINDEX_DATA)},reindexPages:function(){return t.dispatch(rn.REINDEX_PAGES)},isPageIndexingReady:e.computed((function(){return t.state.indexingStatus.pageIndexingStatus==en.Ready})),isDataIndexingReady:e.computed((function(){return t.state.indexingStatus.dataIndexingStatus==en.Ready}))}}}),dn=e.createElementVNode("h5",{class:"card-title"},"Data Indexing",-1),un=e.createElementVNode("p",{class:"card-text"},"With supporting text below as a natural lead-in to additional content.",-1),mn={key:1,class:"btn btn-danger",disabled:""},pn=e.createElementVNode("br",null,null,-1),fn=e.createElementVNode("br",null,null,-1),vn=e.createElementVNode("h5",{class:"card-title"},"Page Indexing",-1),En=e.createElementVNode("p",{class:"card-text"},"With supporting text below as a natural lead-in to additional content.",-1),hn={key:3,class:"btn btn-danger",disabled:""};sn.render=function(t,n,o,l,i,r){return e.openBlock(),e.createElementBlock(e.Fragment,null,[dn,un,t.isDataIndexingReady?(e.openBlock(),e.createElementBlock("button",{key:0,class:"btn btn-primary",onClick:n[0]||(n[0]=function(){return t.reindexData&&t.reindexData.apply(t,arguments)})},"Reindex")):(e.openBlock(),e.createElementBlock("button",mn,"Indexing In-progress")),pn,fn,vn,En,t.isPageIndexingReady?(e.openBlock(),e.createElementBlock("button",{key:2,class:"btn btn-primary",onClick:n[1]||(n[1]=function(){return t.reindexPages&&t.reindexPages.apply(t,arguments)})},"Reindex")):(e.openBlock(),e.createElementBlock("button",hn,"Indexing In-progress"))],64)};var gn,Sn,yn=e.defineComponent({name:"Applet",components:{IndexingPanel:sn},props:s,setup:function(t){console.log("Process Manager setup ...",t);var n=y();e.onMounted((function(){return n.dispatch(rn.FETCH_REINDEX_STATUS)}))},storeConfig:{state:on,actions:cn,mutations:an,getters:{}}}),Tn={class:"card"},kn=e.createElementVNode("div",{class:"card-header"}," Indexing Processes ",-1),_n={class:"card-body"};yn.render=function(t,n,o,l,i,r){var a=e.resolveComponent("IndexingPanel");return e.openBlock(),e.createElementBlock("div",Tn,[kn,e.createElementVNode("div",_n,[e.createVNode(a)])])},function(e){e.SET_SOURCE="SET_SOURCE",e.SET_MODEL="SET_MODEL"}(Sn||(Sn={}));var In,Fn,Cn=(r(gn={},Sn.SET_SOURCE,(function(e,t){e.pageId=t.pageId,e.blockId=t.blockId})),r(gn,Sn.SET_MODEL,(function(e,t){e.model=t})),gn);!function(e){e.LOAD_BLOCK="LOAD_BLOCK",e.LOAD_PAGE="LOAD_PAGE"}(Fn||(Fn={}));var Bn=(r(In={},Fn.LOAD_BLOCK,(function(e){e.state.pageId||console.error("Page ID is null. It must be a valid GUID"),e.state.blockId||console.error("Block ID is null. It must be a valid GUID");var t=window.location.origin+"/applets/api/content/page/".concat(e.state.pageId,"/block/").concat(e.state.blockId);console.log("LOAD_BLOCK API: ",t),fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.commit(Sn.SET_MODEL,t)})).catch((function(e){console.error("LOAD_BLOCK error:",e)}))})),r(In,Fn.LOAD_PAGE,(function(e){if(!e.state.pageId)throw new Error("Page ID is null. It must be a valid GUID");var t=window.location.origin+"/applets/api/content/page/".concat(e.state.pageId);console.log("LOAD_PAGE API: ",t),fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.commit(Sn.SET_MODEL,t)})).catch((function(e){console.error("LOAD_PAGE error:",e)}))})),In),Dn=e.defineComponent({name:"ImgDiv",props:{image:{type:Object,required:!0},debounceMs:{type:Number,required:!1,default:200}},methods:{resizeHandler:function(){this.setViewHeight(!1)},setViewHeight:function(e){var t=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout);var n=e?0:this.debounceMs;this.resizeTimeout=setTimeout((function(){if(t.root){var e=Math.round(t.root.clientWidth/t.aspectRatio);t.root.style.height="".concat(e,"px")}}),n)}},created:function(){window.addEventListener("resize",this.resizeHandler)},destroyed:function(){window.removeEventListener("resize",this.resizeHandler)},mounted:function(){this.setViewHeight(!0)},setup:function(t){var n=e.toRefs(t).image,o=e.ref(),l=e.ref();return{root:o,imageUrl:e.computed((function(){var e,t;return null===(e=n.value)||void 0===e||null===(t=e.publicUrl)||void 0===t?void 0:t.replace(/^~+/g,"")})),aspectRatio:e.computed((function(){return n.value?n.value.width/n.value.height:1})),resizeTimeout:l}}}),Nn=["id"];Dn.render=function(t,n,o,l,i,r){return e.openBlock(),e.createElementBlock("div",{ref:"root",style:e.normalizeStyle([{backgroundImage:"url(".concat(t.imageUrl,")")},{"background-size":"cover"}]),id:t.image.id,class:"cf-img-div"},null,12,Nn)};var bn=e.defineComponent({name:"CardTemplate",components:{ImgDiv:Dn},props:{model:{type:Object,required:!0}},setup:function(t){var n=e.toRefs(t).model;return{model:n,cardImage:e.computed((function(){var e;return null===(e=n.value)||void 0===e?void 0:e.cardImage.media})),popupImageUrl:e.computed((function(){var e,t,o;return null===(e=n.value)||void 0===e||null===(t=e.modalImage)||void 0===t||null===(o=t.media)||void 0===o?void 0:o.publicUrl})),title:e.computed((function(){var e;return null===(e=n.value)||void 0===e?void 0:e.cardTitle.value})),subTitle:e.computed((function(){var e;return null===(e=n.value)||void 0===e?void 0:e.cardSubTitle.value})),hasModel:e.computed((function(){return n.value.hasAModal})),modelImage:e.computed((function(){var e;return null===(e=n.value)||void 0===e?void 0:e.modalImage})),modalTitle:e.computed((function(){var e;return null===(e=n.value)||void 0===e?void 0:e.modalTitle.value})),modalSubTitle:e.computed((function(){var e;return null===(e=n.value)||void 0===e?void 0:e.modalSubTitle.value}))}}}),On={class:"col-md-4 cf-card"};lt("\n.cf-card{\r\n        text-align:center;\n}\r\n"),bn.render=function(t,n,o,l,i,r){var a=e.resolveComponent("img-div");return e.openBlock(),e.createElementBlock("div",On,[e.createVNode(a,{image:t.cardImage,"debounce-ms":250,class:"img-div"},null,8,["image"]),e.createElementVNode("h2",null,e.toDisplayString(t.title),1),e.createElementVNode("h4",null,e.toDisplayString(t.subTitle),1)])};var An=e.defineComponent({name:"Applet",components:{CardTemplate:bn},props:s,setup:function(t){console.log("Grid setup ...");var n=y();return n.commit(Sn.SET_SOURCE,{pageId:t.pageId,blockId:t.blockId}),e.onMounted((function(){return n.dispatch(Fn.LOAD_BLOCK)})),{model:e.computed((function(){return n.state.model}))}},storeConfig:{actions:Bn,mutations:Cn,getters:{searchParamStorageKey:function(e){var t;return(null===(t=e.blockId)||void 0===t?void 0:t.toString())+"SearchParams"}}}}),Mn=e.createElementVNode("h2",null,"Grid",-1),Ln={class:"row"};An.render=function(t,n,o,l,i,r){var a,c=e.resolveComponent("CardTemplate");return e.openBlock(),e.createElementBlock("div",null,[Mn,e.createElementVNode("div",Ln,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.model)||void 0===a?void 0:a.items,(function(t){return e.openBlock(),e.createBlock(c,{model:t},null,8,["model"])})),256))])])};var Vn,Rn,xn=oe((function(e,t){t.__esModule=!0;var n=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return e.isGuid=function(t){var n=t.toString();return t&&(t instanceof e||e.validator.test(n))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(t){return new e(t)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}();t.Guid=n}));!function(e){e.None="None",e.InProgress="InProgress",e.Success="Success",e.Fail="Fail"}(Vn||(Vn={})),function(e){e.SET_TEXT_VALUE="SET_TEXT_VALUE",e.SET_OPTION_VALUE="SET_OPTION_VALUE",e.ADD_FILE="ADD_FILE",e.REMOVE_FILE="REMOVE_FILE"}(Rn||(Rn={}));var wn=function(){function e(){o(this,e)}return i(e,null,[{key:"cssClass",value:function(e){return e.cssClass+" "+e.fieldCssClass}},{key:"getFieldType",value:function(e){var t,n=null==e?void 0:e.$type.substring(0,e.$type.indexOf(","));return n=null===(t=n)||void 0===t?void 0:t.substring(n.lastIndexOf(".")+1),Et[n]}},{key:"isAttachmentField",value:function(e){return this.getFieldType(e)===Et.AttachmentField}},{key:"isOptionsField",value:function(e){var t=this.getFieldType(e);return t===Et.CheckboxField||t===Et.RadioField||t===Et.SelectField}},{key:"isCompositeField",value:function(e){return this.getFieldType(e)===Et.CompositeField}},{key:"isDateField",value:function(e){return this.getFieldType(e)===Et.DateField}},{key:"isDecimalField",value:function(e){return this.getFieldType(e)===Et.DecimalField}},{key:"isEmailField",value:function(e){return this.getFieldType(e)===Et.EmailField}},{key:"isFieldContainerReference",value:function(e){return this.getFieldType(e)===Et.FieldContainerReference}},{key:"isInfoSection",value:function(e){return this.getFieldType(e)===Et.InfoSection}},{key:"isIntegerField",value:function(e){return this.getFieldType(e)===Et.IntegerField}},{key:"isMonolingualTextField",value:function(e){return this.getFieldType(e)===Et.MonolingualTextField}},{key:"isTableField",value:function(e){return this.getFieldType(e)===Et.TableField}},{key:"isTextArea",value:function(e){return this.getFieldType(e)===Et.TextArea}},{key:"isTextField",value:function(e){return this.getFieldType(e)===Et.TextField}},{key:"isAudioRecorderField",value:function(e){return this.getFieldType(e)===Et.AudioRecorderField}}]),e}();function Pn(e,t){var n,o;null==e||null===(n=e.fields)||void 0===n||null===(o=n.$values)||void 0===o||o.forEach((function(e){var n,o,l,i=null===(n=e.$type)||void 0===n?void 0:n.substring(0,e.$type.indexOf(",")),r=i.substring(i.lastIndexOf(".")+1),a=Et[r],c=a===Et.DateField||a===Et.DecimalField||a===Et.EmailField||a===Et.IntegerField||a===Et.MonolingualTextField,s=a===Et.TextArea||a===Et.TextField,d=a===Et.CheckboxField||a===Et.RadioField||a===Et.SelectField;if(c)null===(o=e.values)||void 0===o||null===(l=o.$values)||void 0===l||l.forEach((function(e){t.flattenedTextModels[e.id.toString()]=e}));else if(s){var u,m;null===(u=e.values)||void 0===u||null===(m=u.$values)||void 0===m||m.forEach((function(e){var n,o;null===(n=e.values)||void 0===n||null===(o=n.$values)||void 0===o||o.forEach((function(e){t.flattenedTextModels[e.id.toString()]=e}))}))}else if(d){var p,f;null===(p=e.options)||void 0===p||null===(f=p.$values)||void 0===f||f.forEach((function(e){t.flattenedOptionModels[e.id.toString()]=e}))}}))}function Un(e){Object.keys(e.flattenedTextModels).forEach((function(t){e.flattenedTextModels[t].value=""})),Object.keys(e.flattenedOptionModels).forEach((function(t){e.flattenedOptionModels[t].selected=!1})),Object.keys(e.flattenedFileModels).forEach((function(t){e.flattenedFileModels[t]=[]}))}var $n,jn,Gn={itemTemplateId:null,formId:null,collectionId:null,groupId:null,form:null,flattenedTextModels:{},flattenedOptionModels:{},flattenedFileModels:{},submissionStatus:Vn.None,formLoadAPI:null,formSubmissionAPI:null},qn=n({itemInstanceId:null,childResponseFormId:null,childResponseForm:null,formInstances:null},Gn),Hn=function e(){o(this,e)};function Yn(e){if(!e.required)return ht.VALID;for(var t=!1,n=0;!t&&null!=e&&e.values&&n<(null===(o=e.values)||void 0===o||null===(l=o.$values)||void 0===l?void 0:l.length);++n)for(var o,l,i,r=null==e||null===(i=e.values)||void 0===i?void 0:i.$values[n],a=0;!t&&r.values&&a<(null===(c=r.values)||void 0===c?void 0:c.$values.length);++a){var c,s,d,u;t=(null===(s=r.values)||void 0===s||null===(d=s.$values[a])||void 0===d||null===(u=d.value)||void 0===u?void 0:u.trim().length)>0}return t?ht.VALID:ht.VALUE_REQUIRED}function zn(e,t){for(var n=!1,o=ht.VALID,l=0;null!=e&&e.values&&l<(null===(i=e.values)||void 0===i?void 0:i.$values.length);++l){var i,r,a,c=null===(r=e.values.$values[l])||void 0===r||null===(a=r.value)||void 0===a?void 0:a.trim();(null==c?void 0:c.length)>0&&(n=!0,t&&!t.test(c)&&(o=ht.INVALID))}return e.required&&!n&&(o=ht.VALUE_REQUIRED),o}function Kn(e){for(var t=!1,n=ht.VALID,o=0;null!=e&&e.values&&o<(null===(l=e.values)||void 0===l?void 0:l.$values.length);++o){var l,i;"number"==typeof(null===(i=e.values.$values[o])||void 0===i?void 0:i.value)&&(t=!0)}return e.required&&!t&&(n=ht.VALUE_REQUIRED),n}function Wn(e){if(!e.required)return ht.VALID;for(var t=!1,n=0;!t&&null!==(o=e.options)&&void 0!==o&&o.$values&&n<(null===(l=e.options)||void 0===l||null===(i=l.$values)||void 0===i?void 0:i.length);++n){var o,l,i,r;t=null===(r=e.options)||void 0===r?void 0:r.$values[n].selected}return t?ht.VALID:ht.VALUE_REQUIRED}function Xn(e){var t,n,o=!0;return null===(t=e.fields)||void 0===t||null===(n=t.$values)||void 0===n||n.forEach((function(e){switch(wn.getFieldType(e)){case Et.AttachmentField:break;case Et.CheckboxField:case Et.RadioField:case Et.SelectField:e.validationStatus=Wn(e);break;case Et.CompositeField:break;case Et.DateField:e.validationStatus=zn(e,null);break;case Et.DecimalField:case Et.IntegerField:e.validationStatus=Kn(e);break;case Et.EmailField:e.validationStatus=zn(e,Hn.Email);break;case Et.FieldContainerReference:break;case Et.MonolingualTextField:e.validationStatus=zn(e,null);break;case Et.TableField:break;case Et.TextArea:case Et.TextField:e.validationStatus=Yn(e);break;case Et.AudioRecorderField:e.validationStatus=ht.VALID}o=o&&e.validationStatus===ht.VALID})),e.validationStatus=o?null:ht.INVALID,o}r(Hn,"Email",/^[^\s@]+@[^\s@]+\.[^\s@]+$/),r(Hn,"Number",/^\d+$/),r(Hn,"Decimal",/^[+-]?(\d+\.?\d*|\.\d+)$/),function(e){e.CLEAR_FLATTENED_FIELD_MODELS="CLEAR_FLATTENED_FIELD_mODELS",e.SET_ITEM_TEMPLATE_ID="SET_ITEM_TEMPLATE_ID",e.SET_FORM_ID="SET_FORM_ID",e.SET_FORM="SET_FORM",e.SET_SUBMISSION_STATUS="SET_SUBMISSION_STATUS",e.SET_COLLECTION_ID="SET_COLLECTION_ID",e.SET_GROUP_ID="SET_GROUP_ID"}(jn||(jn={}));var Jn,Qn,Zn=(r($n={},jn.CLEAR_FLATTENED_FIELD_MODELS,(function(e){e.flattenedTextModels={},e.flattenedOptionModels={}})),r($n,jn.SET_ITEM_TEMPLATE_ID,(function(e,t){e.itemTemplateId=t})),r($n,jn.SET_FORM_ID,(function(e,t){e.formId=t})),r($n,jn.SET_COLLECTION_ID,(function(e,t){e.collectionId=t})),r($n,jn.SET_GROUP_ID,(function(e,t){e.groupId=t})),r($n,jn.SET_FORM,(function(e,t){e.form=t,Pn(e.form,e)})),r($n,Rn.SET_TEXT_VALUE,(function(e,t){var n;e.flattenedTextModels[t.id.toString()].value=t.val,(null===(n=e.form)||void 0===n?void 0:n.validationStatus)===ht.INVALID&&Xn(e.form)})),r($n,Rn.SET_OPTION_VALUE,(function(e,t){e.flattenedOptionModels[t.id.toString()].selected=t.isSelected})),r($n,jn.SET_SUBMISSION_STATUS,(function(e,t){e.submissionStatus=Vn[t]})),r($n,Rn.ADD_FILE,(function(e,t){e.flattenedFileModels[t.id.toString()]||(e.flattenedFileModels[t.id.toString()]=[]),e.flattenedFileModels[t.id.toString()].push(t.val)})),r($n,Rn.REMOVE_FILE,(function(e,t){var n;null===(n=e.flattenedFileModels[t.id.toString()])||void 0===n||n.splice(t.index,1)})),$n);!function(e){e.SET_SUBMISSIONS="SET_SUBMISSIONS",e.SET_PARENT_ITEM_ID="SET_PARENT_ITEM_ID",e.APPEND_CHILD_INSTANCE="APPEND_CHILD_INSTANCE",e.SET_RESPONSE_FORM_ID="SET_RESPONSE_FORM_ID",e.SET_RESPONSE_FORM="SET_RESPONSE_FORM",e.APPEND_CHILD_RESPONSE_INSTANCE="APPEND_CHILD_RESPONSE_INSTANCE",e.DELETE_CHILD_RESPONSE_INSTANCE="DELETE_CHILD_RESPONSE_INSTANCE",e.DELETE_CHILD_INSTANCE="DELETE_CHILD_INSTANCE"}(Qn||(Qn={}));var eo,to,no=n((r(Jn={},Qn.SET_SUBMISSIONS,(function(e,t){e.formInstances=t})),r(Jn,Qn.SET_PARENT_ITEM_ID,(function(e,t){e.itemInstanceId=t})),r(Jn,Qn.APPEND_CHILD_INSTANCE,(function(e,t){var n;null===(n=e.formInstances)||void 0===n||n.$values.unshift(t)})),r(Jn,Qn.SET_RESPONSE_FORM_ID,(function(e,t){e.childResponseFormId=t})),r(Jn,Qn.SET_RESPONSE_FORM,(function(e,t){e.childResponseForm=t,Pn(e.childResponseForm,e)})),r(Jn,Qn.APPEND_CHILD_RESPONSE_INSTANCE,(function(e,t){var n,o,l=null===(n=e.formInstances)||void 0===n?void 0:n.$values.find((function(e){return e.id===(null==t?void 0:t.parentId)}));l&&(null===(o=l.childFieldContainers)||void 0===o||o.$values.push(t))})),r(Jn,Qn.DELETE_CHILD_RESPONSE_INSTANCE,(function(e,t){var n,o=null===(n=e.formInstances)||void 0===n?void 0:n.$values.find((function(e){return e.id===(null==t?void 0:t.parentId)}));if(o){var l,i,r=null==o||null===(l=o.childFieldContainers)||void 0===l?void 0:l.$values.indexOf(t);r>=0&&(null===(i=o.childFieldContainers)||void 0===i||i.$values.splice(r,1))}})),r(Jn,Qn.DELETE_CHILD_INSTANCE,(function(e,t){var n,o,l,i=null===(n=e.formInstances)||void 0===n||null===(o=n.$values)||void 0===o?void 0:o.indexOf(t);void 0!==i&&i>=0&&(null===(l=e.formInstances)||void 0===l||l.$values.splice(i,1))})),Jn),Zn);!function(e){e.LOAD_FORM="LOAD_FORM",e.LOAD_SUBMISSIONS="LOAD_SUBMISSIONS",e.LOAD_RESPONSE_FORM="LOAD_RESPONSE_FORM",e.SUBMIT_CHILD_FORM="SUBMIT_CHILD_FORM",e.SUBMIT_CHILD_RESPONSE_FORM="SUBMIT_CHILD_RESPONSE_FORM",e.DELETE_CHILD_RESPONSE_INSTANCE="DELETE_CHILD_RESPONSE_INSTANCE",e.DELETE_CHILD_INSTANCE="DELETE_CHILD_INSTANCE"}(to||(to={}));var oo=(r(eo={},to.LOAD_FORM,(function(e){var t=window.location.origin+"/applets/api/items/getchildform/".concat(e.state.itemInstanceId,"/").concat(e.state.formId);fetch(t).then((function(e){return e.json()})).then((function(t){e.commit(jn.SET_FORM,t)})).catch((function(e){console.error("Actions.LOAD_FORM Error: ",e)}))})),r(eo,to.LOAD_RESPONSE_FORM,(function(e){var t=window.location.origin+"/applets/api/items/getchildform/".concat(e.state.itemInstanceId,"/").concat(e.state.childResponseFormId);fetch(t).then((function(e){return e.json()})).then((function(t){e.commit(Qn.SET_RESPONSE_FORM,t)})).catch((function(e){console.error("Actions.LOAD_FORM Error: ",e)}))})),r(eo,to.LOAD_SUBMISSIONS,(function(e){var t=window.location.origin+"/applets/api/items/getchildformsubmissions/".concat(e.state.itemInstanceId,"/").concat(e.state.formId);console.log("Child Submissions Load API: ",t),fetch(t).then((function(e){return e.json()})).then((function(t){e.commit(Qn.SET_SUBMISSIONS,t)})).catch((function(e){console.error("Submission loading error:",e)}))})),r(eo,to.SUBMIT_CHILD_FORM,(function(e){if(e.state.form&&Xn(e.state.form)){e.commit(jn.SET_SUBMISSION_STATUS,"InProgress");var t=window.location.origin+"/applets/api/items/appendchildforminstance/".concat(e.state.itemInstanceId),n=new FormData;n.append("datamodel",JSON.stringify(e.state.form)),fetch(t,{body:n,method:"post"}).then((function(e){return e.json()})).then((function(t){Un({flattenedOptionModels:e.state.flattenedOptionModels,flattenedTextModels:e.state.flattenedTextModels,flattenedFileModels:e.state.flattenedFileModels}),e.commit(Qn.APPEND_CHILD_INSTANCE,t),e.commit(jn.SET_SUBMISSION_STATUS,"Success")})).catch((function(t){e.commit(jn.SET_SUBMISSION_STATUS,"Fail"),console.log(t)}))}})),r(eo,to.SUBMIT_CHILD_RESPONSE_FORM,(function(e,t){if(e.state.childResponseForm&&Xn(e.state.childResponseForm)){var n=window.location.origin+"/applets/api/items/appendchildforminstance/".concat(e.state.itemInstanceId),o=new FormData;o.append("datamodel",JSON.stringify(e.state.childResponseForm)),t&&o.append("parentId",t.toString()),fetch(n,{body:o,method:"post"}).then((function(e){return e.json()})).then((function(t){e.commit(Qn.APPEND_CHILD_RESPONSE_INSTANCE,t),Un({flattenedOptionModels:e.state.flattenedOptionModels,flattenedTextModels:e.state.flattenedTextModels,flattenedFileModels:e.state.flattenedFileModels})})).catch((function(t){e.commit(jn.SET_SUBMISSION_STATUS,"Fail"),console.log(t)}))}})),r(eo,to.DELETE_CHILD_RESPONSE_INSTANCE,(function(e,t){var n=window.location.origin+"/applets/api/items/deleteChildForm/".concat(e.state.itemInstanceId,"/").concat(t.id,"?parentId=").concat(t.parentId);fetch(n,{method:"post"}).then((function(e){return e.json()})).then((function(n){n.id&&(console.log("deleteChildForm response received"),e.commit(Qn.DELETE_CHILD_RESPONSE_INSTANCE,t))})).catch((function(t){e.commit(jn.SET_SUBMISSION_STATUS,"Fail"),console.log(t)}))})),r(eo,to.DELETE_CHILD_INSTANCE,(function(e,t){var n=window.location.origin+"/applets/api/items/deleteChildForm/".concat(e.state.itemInstanceId,"/").concat(t.id);fetch(n,{method:"post"}).then((function(e){return e.json()})).then((function(n){n.id&&(console.log("deleteChildForm response received"),e.commit(Qn.DELETE_CHILD_INSTANCE,t))})).catch((function(t){e.commit(jn.SET_SUBMISSION_STATUS,"Fail"),console.log(t)}))})),eo),lo=e.defineComponent({name:"DropZone",props:{id:{required:!0,type:String}},setup:function(){var t=e.ref(!1);return{active:t,toggleActive:function(){t.value=!t.value}}}}),io=function(t){return e.pushScopeId("data-v-eae6523c"),t=t(),e.popScopeId(),t},ro=io((function(){return e.createElementVNode("span",null,"Drag and Drop File(s)",-1)})),ao=io((function(){return e.createElementVNode("span",null,"OR",-1)})),co=["for"],so=["id"];lt("\n.dropzone[data-v-eae6523c] {\r\n        width: 400px;\r\n        height: 200px;\r\n        margin-top:20px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        row-gap: 16px;\r\n        border: 2px dashed #41b883;\r\n        background-color: #fff;\r\n        transition: 0.3s ease all;\n}\n.dropzone label[data-v-eae6523c] {\r\n            padding: 8px 12px;\r\n            color: #fff;\r\n            background-color: #41b883;\r\n            transition: 0.3s ease all;\n}\n.dropzone input[data-v-eae6523c] {\r\n            display: none;\n}\n.active-dropzone[data-v-eae6523c] {\r\n        color: #fff;\r\n        border-color: #fff;\r\n        background-color: #41b883;\n}\n.active-dropzone label[data-v-eae6523c] {\r\n            background-color: #fff;\r\n            color: #41b883;\n}\r\n"),lo.render=function(t,n,o,l,i,r){return e.openBlock(),e.createElementBlock("div",{onDragenter:n[0]||(n[0]=e.withModifiers((function(){return t.toggleActive&&t.toggleActive.apply(t,arguments)}),["prevent"])),onDragleave:n[1]||(n[1]=e.withModifiers((function(){return t.toggleActive&&t.toggleActive.apply(t,arguments)}),["prevent"])),onDragover:n[2]||(n[2]=e.withModifiers((function(){}),["prevent"])),onDrop:n[3]||(n[3]=e.withModifiers((function(){return t.toggleActive&&t.toggleActive.apply(t,arguments)}),["prevent"])),class:e.normalizeClass([{"active-dropzone":t.active},"dropzone"])},[ro,ao,e.createElementVNode("label",{for:t.id},"Select File(s)",8,co),e.createElementVNode("input",{type:"file",id:t.id,class:"dropzoneFile",multiple:""},null,8,so)],34)},lo.__scopeId="data-v-eae6523c";var uo=e.defineComponent({name:"AttachmentField",components:{DropZone:lo},props:{model:{type:null,required:!0}},setup:function(t){var n=y(),o=e.computed((function(){return n.state.flattenedFileModels[t.model.id.toString()]})),l=e.computed((function(){var e;return null==o||null===(e=o.value)||void 0===e?void 0:e.map((function(e){return e.name}))}));return{drop:function(e){Array.from(e.dataTransfer.files).forEach((function(e){n.commit(Rn.ADD_FILE,{id:t.model.id,val:e})}))},selectFiles:function(){var e=document.getElementById(t.model.id.toString());Array.from(null==e?void 0:e.files).forEach((function(e){n.commit(Rn.ADD_FILE,{id:t.model.id,val:e})}))},selectedFiles:o,selectedFileNames:l}}});uo.render=function(t,n,o,l,i,r){var a,c=e.resolveComponent("DropZone");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",null,e.toDisplayString(null===(a=t.selectedFileNames)||void 0===a?void 0:a.join(" | ")),1),e.createVNode(c,{id:t.model.id,onDrop:e.withModifiers(t.drop,["prevent"]),onChange:t.selectFiles},null,8,["id","onDrop","onChange"])],64)};var mo=e.defineComponent({name:"CheckboxField",components:{},props:{model:{type:Object,required:!0}},methods:{getConcatenatedOptionLabels:function(e){var t,n,o=null===(t=e.optionText)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.$values.map((function(e){return e.value})).join(" / ");return o||""},selectoption:function(e){this.store.commit(Rn.SET_OPTION_VALUE,{id:e.target.value,isSelected:e.target.checked})}},setup:function(t){return{store:y(),selectedoptions:e.computed((function(){return t.model.options.$values.filter((function(e){return!0===e.selected})).map((function(e){return e.id}))}))}}}),po=["id","value"],fo=["for"];mo.render=function(t,n,o,l,i,r){var a=this;return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.options.$values,(function(o){return e.openBlock(),e.createElementBlock("div",null,[e.withDirectives(e.createElementVNode("input",{type:"checkbox",id:o.id,value:o.id,"onUpdate:modelValue":n[0]||(n[0]=function(e){return t.selectedoptions=e}),onChange:n[1]||(n[1]=function(e){return t.selectoption(e)})},null,40,po),[[e.vModelCheckbox,t.selectedoptions]]),e.createElementVNode("label",{for:o.id},e.toDisplayString(a.getConcatenatedOptionLabels(o)),9,fo)])})),256)};var vo=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Eo=function(e){return-1!==vo.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())},ho=function(t,n,o,l,i,r){l.setContent(r()),o.attrs["onUpdate:modelValue"]&&function(t,n,o,l){var i=t.modelEvents?t.modelEvents:null,r=Array.isArray(i)?i.join(" "):i;e.watch(l,(function(e,n){o&&"string"==typeof e&&e!==n&&e!==o.getContent({format:t.outputFormat})&&o.setContent(e)})),o.on(r||"change input undo redo",(function(){n.emit("update:modelValue",o.getContent({format:t.outputFormat}))}))}(n,o,l,i),function(e,t,n){Object.keys(t).filter(Eo).forEach((function(o){var l=t[o];"function"==typeof l&&("onInit"===o?l(e,n):n.on(o.substring(2),(function(e){return l(e,n)})))}))}(t,o.attrs,l)},go=0,So=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++go+String(t)},yo=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},To=function(){return{listeners:[],scriptId:So("tiny-script"),scriptLoaded:!1}},ko=function(){var e=To();return{load:function(t,n,o){e.scriptLoaded?o():(e.listeners.push(o),t.getElementById(e.scriptId)||function(e,t,n,o){var l=t.createElement("script");l.referrerPolicy="origin",l.type="application/javascript",l.id=e,l.src=n;var i=function(){l.removeEventListener("load",i),o()};l.addEventListener("load",i),t.head&&t.head.appendChild(l)}(e.scriptId,t,n,(function(){e.listeners.forEach((function(e){return e()})),e.scriptLoaded=!0})))},reinitialize:function(){e=To()}}}(),_o=function(){return"undefined"!=typeof window?window:global},Io=function(){var e=_o();return e&&e.tinymce?e.tinymce:null},Fo={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},Co=window&&window.__assign||function(){return Co=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},Co.apply(this,arguments)},Bo=e.defineComponent({props:Fo,setup:function(t,n){var o=e.toRefs(t),l=o.disabled,i=o.modelValue,r=e.ref(null),a=null,c=t.id||So("tiny-vue"),s=t.init&&t.init.inline||t.inline,d=!!n.attrs["onUpdate:modelValue"],u=!0,m=t.initialValue?t.initialValue:"",p="",f=function(){var e,o,l,f=(e=u,d?function(){return(null==i?void 0:i.value)?i.value:""}:function(){return e?m:p}),v=Co(Co({},t.init),{readonly:t.disabled,selector:"#"+c,plugins:(o=t.init&&t.init.plugins,l=t.plugins,yo(o).concat(yo(l))),toolbar:t.toolbar||t.init&&t.init.toolbar,inline:s,setup:function(e){a=e,e.on("init",(function(o){return ho(o,t,n,e,i,f)})),t.init&&"function"==typeof t.init.setup&&t.init.setup(e)}});(function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()})(r.value)&&(r.value.style.visibility=""),Io().init(v),u=!1};return e.watch(l,(function(e){null!==a&&a.setMode(e?"readonly":"design")})),e.onMounted((function(){if(null!==Io())f();else if(r.value&&r.value.ownerDocument){var e=t.cloudChannel?t.cloudChannel:"5",n=t.apiKey?t.apiKey:"no-api-key",o=null==t.tinymceScriptSrc?"https://cdn.tiny.cloud/1/"+n+"/tinymce/"+e+"/tinymce.min.js":t.tinymceScriptSrc;ko.load(r.value.ownerDocument,o,f)}})),e.onBeforeUnmount((function(){null!==Io()&&Io().remove(a)})),s||(e.onActivated((function(){u||f()})),e.onDeactivated((function(){var e;d||(p=a.getContent()),null===(e=Io())||void 0===e||e.remove(a)}))),function(){return s?(n=e.h,o=c,l=r,i=t.tagName,n(i||"div",{id:o,ref:l})):function(e,t,n){return e("textarea",{id:t,visibility:"hidden",ref:n})}(e.h,c,r);var n,o,l,i}}}),Do=Bo,No=e.defineComponent({name:"Text",props:{model:{type:null,required:!0},isMultiline:{type:Boolean,required:!0},isRichText:{type:Boolean,required:!0},validationStatus:{type:null,required:!0},field:{type:String,required:!1,default:"text"}},components:{Editor:Do},computed:{content:{get:function(){return this.model.value},set:function(e){this.store.commit(Rn.SET_TEXT_VALUE,{id:this.model.id,val:e})}}},setup:function(e){return{store:y(),field:e.field}}}),bo={key:2},Oo=["type"];No.render=function(t,n,o,l,i,r){var a=e.resolveComponent("Editor");return t.isRichText?(e.openBlock(),e.createBlock(a,{key:0,apiKey:"0ohehg73era56wydy5kyws6ouf25550ogy2sifi1j41hk65l",modelValue:t.content,"onUpdate:modelValue":n[0]||(n[0]=function(e){return t.content=e}),placeholder:"add multiple lines"},null,8,["modelValue"])):t.isMultiline?e.withDirectives((e.openBlock(),e.createElementBlock("textarea",{key:1,"onUpdate:modelValue":n[1]||(n[1]=function(e){return t.content=e})},null,512)),[[e.vModelText,t.content]]):(e.openBlock(),e.createElementBlock("div",bo,["text"===t.field?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,type:"text","onUpdate:modelValue":n[2]||(n[2]=function(e){return t.content=e})},null,512)),[[e.vModelText,t.content]]):"decimal"===t.field?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:1,type:"number","onUpdate:modelValue":n[3]||(n[3]=function(e){return t.content=e}),step:"0.01",placeholder:"0.00"},null,512)),[[e.vModelText,t.content]]):e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:2,type:t.field,"onUpdate:modelValue":n[4]||(n[4]=function(e){return t.content=e})},null,8,Oo)),[[e.vModelDynamic,t.content]])]))};var Ao=e.defineComponent({name:"DateField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!1}},components:{Text:No},setup:function(t){return{validationStatus:e.computed((function(){return zn(t.model,null)})),type:t.model.modelType}}});Ao.render=function(t,n,o,l,i,r){var a,c,s=e.resolveComponent("Text");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.model)||void 0===a||null===(c=a.values)||void 0===c?void 0:c.$values,(function(n){return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(s,{model:n,"is-multiline":!1,"is-rich-text":!1,"validation-status":t.validationStatus,field:"date"},null,8,["model","validation-status"])])})),256)};var Mo=e.defineComponent({name:"DecimalField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!1},numDecimalPlaces:{type:Number,required:!1,default:2}},components:{Text:No},setup:function(t){return{validationStatus:e.computed((function(){return Kn(t.model)})),type:t.model.modelType}}});Mo.render=function(t,n,o,l,i,r){var a,c,s=e.resolveComponent("Text");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.model)||void 0===a||null===(c=a.values)||void 0===c?void 0:c.$values,(function(n){return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(s,{model:n,"is-multiline":!1,"is-rich-text":!1,"validation-status":t.validationStatus,field:"decimal"},null,8,["model","validation-status"])])})),256)};var Lo=e.defineComponent({name:"EmailField",props:{model:{type:null,required:!0},isMultivalue:{type:Boolean,required:!1,default:!1}},components:{Text:No},setup:function(t){return{validationStatus:e.computed((function(){return zn(t.model,Hn.Email)})),type:t.model.modelType}}});Lo.render=function(t,n,o,l,i,r){var a,c,s=e.resolveComponent("Text");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.model)||void 0===a||null===(c=a.values)||void 0===c?void 0:c.$values,(function(n){return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(s,{model:n,"is-multiline":!1,"is-rich-text":!1,"validation-status":t.validationStatus,field:"email"},null,8,["model","validation-status"])])})),256)};var Vo=e.defineComponent({name:"InfoField",props:{model:{type:null,required:!0}}}),Ro=["innerHTML"];Vo.render=function(t,n,o,l,i,r){var a,c;return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.model)||void 0===a||null===(c=a.content)||void 0===c?void 0:c.values,(function(t){return e.openBlock(),e.createElementBlock("div",{key:t.id},[e.createElementVNode("div",{innerHTML:t.value},null,8,Ro)])})),128)};var xo=e.defineComponent({name:"IntegerField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!1}},components:{Text:No},setup:function(t){return{validationStatus:e.computed((function(){return Kn(t.model)})),type:t.model.modelType}}});xo.render=function(t,n,o,l,i,r){var a,c,s=e.resolveComponent("Text");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.model)||void 0===a||null===(c=a.values)||void 0===c?void 0:c.$values,(function(n){return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(s,{model:n,"is-multiline":!1,"is-rich-text":!1,"validation-status":t.validationStatus,field:"number"},null,8,["model","validation-status"])])})),256)};var wo=e.defineComponent({name:"RadioField",props:{model:{type:Object,required:!0}},methods:{getSelectedFieldLabels:function(e){return yt.getSelectedFieldLabels(e.options.$values)},getConcatenatedOptionLabels:function(e){var t,n,o=null===(t=e.optionText)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.$values.map((function(e){return e.value})).join(" / ");return o||""}},computed:{selected:{get:function(){var e;return null===(e=this.model.options.$values.find((function(e){return e.selected})))||void 0===e?void 0:e.id},set:function(e){var t=this;this.model.options.$values.forEach((function(n){t.store.commit(Rn.SET_OPTION_VALUE,{id:n.id,isSelected:n.id===e})}))}}},setup:function(t){var n=e.computed((function(){return Wn(t.model)})),o="radio_"+t.model.id;return{store:y(),validationStatus:n,name:o}}}),Po=["name","id","value"],Uo=e.createTextVNode(),$o=["for"];wo.render=function(t,n,o,l,i,r){var a=this;return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.options.$values,(function(o){return e.openBlock(),e.createElementBlock("div",null,[e.withDirectives(e.createElementVNode("input",{type:"radio",name:t.name,id:o.id,value:o.id,"onUpdate:modelValue":n[0]||(n[0]=function(e){return t.selected=e})},null,8,Po),[[e.vModelRadio,t.selected]]),Uo,e.createElementVNode("label",{for:o.id},e.toDisplayString(a.getConcatenatedOptionLabels(o)),9,$o)])})),256)};var jo=e.defineComponent({name:"SelectField",components:{},props:{model:{type:Object,required:!0}},methods:{getConcatenatedOptionLabels:function(e){var t,n,o=null===(t=e.optionText)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.$values.map((function(e){return e.value})).join(" / ");return o||""}},computed:{selected:{get:function(){var e;return null===(e=this.model.options.$values.find((function(e){return e.selected})))||void 0===e?void 0:e.id},set:function(e){var t=this;this.model.options.$values.forEach((function(n){t.store.commit(Rn.SET_OPTION_VALUE,{id:n.id,isSelected:n.id===e})}))}}},setup:function(t){var n=e.computed((function(){return Wn(t.model)}));return{store:y(),validationStatus:n}}}),Go=e.createElementVNode("option",{disabled:"",value:""},"Please select one",-1),qo=["id","value"];jo.render=function(t,n,o,l,i,r){var a=this;return e.openBlock(),e.createElementBlock("div",null,[e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":n[0]||(n[0]=function(e){return t.selected=e}),class:"form-control col-md-6"},[Go,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.options.$values,(function(t){return e.openBlock(),e.createElementBlock("option",{id:t.id,value:t.id},e.toDisplayString(a.getConcatenatedOptionLabels(t)),9,qo)})),256))],512),[[e.vModelSelect,t.selected]])])};var Ho=e.defineComponent({name:"TextCollection",props:{model:{type:null,required:!0},isMultiline:{type:Boolean,required:!0},isRichText:{type:Boolean,required:!0},validationStatus:{type:null,required:!0}},components:{Text:No}}),Yo={key:0};Ho.render=function(t,n,o,l,i,r){var a,c,s=e.resolveComponent("Text");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.model)||void 0===a||null===(c=a.values)||void 0===c?void 0:c.$values,(function(n){var o,l,i;return e.openBlock(),e.createElementBlock("div",null,[(null===(o=t.model)||void 0===o||null===(l=o.values)||void 0===l||null===(i=l.$values)||void 0===i?void 0:i.length)>1?(e.openBlock(),e.createElementBlock("span",Yo,e.toDisplayString(n.language)+": ",1)):e.createCommentVNode("",!0),e.createVNode(s,{model:n,"is-multiline":t.isMultiline,"is-rich-text":t.isRichText,"validation-status":t.validationStatus},null,8,["model","is-multiline","is-rich-text","validation-status"])])})),256)};var zo=e.defineComponent({name:"MultilingualTextField",props:{model:{type:null,required:!0},isMultiline:{type:Boolean,required:!0}},components:{TextCollection:Ho},setup:function(t){var n=t.model.modelType,o=e.computed((function(){return Yn(t.model)}));return{type:n,isRichText:e.computed((function(){return!(null==(e=t.model)||!e.richText)&&e.richText;var e})),validationStatus:o,isRequiredField:e.computed((function(){return!(null==(e=t.model)||!e.required)&&e.required;var e}))}}});zo.render=function(t,n,o,l,i,r){var a,c=e.resolveComponent("TextCollection");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.model.values)||void 0===a?void 0:a.$values,(function(n){return e.openBlock(),e.createBlock(c,{model:n,"is-multiline":t.isMultiline,"is-rich-text":t.isRichText,"validation-status":t.validationStatus},null,8,["model","is-multiline","is-rich-text","validation-status"])})),256)};var Ko=e.defineComponent({name:"AudioRecorder",components:{},props:{model:{type:Object,required:!0}},methods:{}});Ko.render=function(t,n,o,l,i,r){return e.openBlock(),e.createElementBlock("div",null,"My Audio Recorder")};var Wo=e.defineComponent({name:"Field",props:{model:{type:null,required:!0}},components:{AttachmentField:uo,CheckboxField:mo,DateField:Ao,DecimalField:Mo,EmailField:Lo,InfoField:Vo,IntegerField:xo,RadioField:wo,SelectField:jo,MultilingualTextField:zo,AudioRecorderField:Ko},setup:function(e){var t=wn.getFieldType(e.model),n=wn.cssClass(e.model);return{FieldTypes:Et,ValidationStatus:ht,fieldType:t,cssClass:n}}}),Xo={key:0},Jo={class:"col-md-3 field-name"},Qo={key:0,style:{color:"red"}},Zo={class:"col-md-9 field-value"},el={key:0,style:{color:"red"}},tl={key:1,style:{color:"red"}},nl={key:13},ol={key:14};Wo.render=function(t,n,o,l,i,r){var a,c,s=e.resolveComponent("InfoField"),d=e.resolveComponent("AttachmentField"),u=e.resolveComponent("CheckboxField"),m=e.resolveComponent("DateField"),p=e.resolveComponent("DecimalField"),f=e.resolveComponent("EmailField"),v=e.resolveComponent("IntegerField"),E=e.resolveComponent("RadioField"),h=e.resolveComponent("SelectField"),g=e.resolveComponent("MultilingualTextField"),S=e.resolveComponent("AudioRecorderField");return t.fieldType===t.FieldTypes.FieldContainerReference?(e.openBlock(),e.createElementBlock("div",Xo," TODO: Implement editor template for FieldContainerReference ")):t.fieldType===t.FieldTypes.InfoSection?(e.openBlock(),e.createBlock(s,{key:1,model:t.model,class:e.normalizeClass(t.cssClass)},null,8,["model","class"])):(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(t.cssClass+" row")},[e.createElementVNode("div",Jo,[e.createTextVNode(e.toDisplayString(t.model.name.concatenatedContent)+" ",1),this.model.required?(e.openBlock(),e.createElementBlock("span",Qo,"*")):e.createCommentVNode("",!0)]),e.createElementVNode("div",Zo,[(null===(a=t.model)||void 0===a?void 0:a.validationStatus)===t.ValidationStatus.VALUE_REQUIRED?(e.openBlock(),e.createElementBlock("div",el,"This field requires a value.")):e.createCommentVNode("",!0),(null===(c=t.model)||void 0===c?void 0:c.validationStatus)===t.ValidationStatus.INVALID?(e.openBlock(),e.createElementBlock("div",tl,"This field has an invalid value.")):e.createCommentVNode("",!0),t.fieldType===t.FieldTypes.AttachmentField?(e.openBlock(),e.createBlock(d,{key:2,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.CheckboxField?(e.openBlock(),e.createBlock(u,{key:3,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.DateField?(e.openBlock(),e.createBlock(m,{key:4,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.DecimalField?(e.openBlock(),e.createBlock(p,{key:5,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.EmailField?(e.openBlock(),e.createBlock(f,{key:6,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.IntegerField?(e.openBlock(),e.createBlock(v,{key:7,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.RadioField?(e.openBlock(),e.createBlock(E,{key:8,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.SelectField?(e.openBlock(),e.createBlock(h,{key:9,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.TextArea?(e.openBlock(),e.createBlock(g,{key:10,model:t.model,"is-multiline":!0},null,8,["model"])):t.fieldType===t.FieldTypes.TextField?(e.openBlock(),e.createBlock(g,{key:11,model:t.model,"is-multiline":!1},null,8,["model"])):t.fieldType===t.FieldTypes.AudioRecorderField?(e.openBlock(),e.createBlock(S,{key:12,model:t.model},null,8,["model"])):t.fieldType===t.FieldTypes.CompositeField?(e.openBlock(),e.createElementBlock("div",nl," TODO: Implement editor template for the CompositeField")):t.fieldType===t.FieldTypes.TableField?(e.openBlock(),e.createElementBlock("div",ol," TODO: Implement editor template for the TableField")):e.createCommentVNode("",!0)])],2))};var ll=e.defineComponent({name:"FieldContainer",props:{model:null},components:{Field:Wo}});ll.render=function(t,n,o,l,i,r){var a,c=e.resolveComponent("Field");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.model.fields)||void 0===a?void 0:a.$values,(function(t){return e.openBlock(),e.createBlock(c,{model:t},null,8,["model"])})),256)};var il=e.defineComponent({name:"ChildFormSubmission",components:{ChildForm:ll,ChildView:Ht},props:s,setup:function(t){var n=t.queryParameters,o=t.dataAttributes,l=xn.Guid.parse(n.iid),i=xn.Guid.parse(o["template-id"]),r=xn.Guid.parse(o["child-form-id"]),a=o["response-form-id"],c=o["is-admin"],s=(null==a?void 0:a.length)>0?xn.Guid.parse(a):void 0,d=y();d.commit(jn.CLEAR_FLATTENED_FIELD_MODELS),d.commit(jn.SET_ITEM_TEMPLATE_ID,i),d.commit(jn.SET_FORM_ID,r),d.commit(Qn.SET_PARENT_ITEM_ID,l),d.dispatch(to.LOAD_FORM),d.dispatch(to.LOAD_SUBMISSIONS),s&&(d.commit(Qn.SET_RESPONSE_FORM_ID,s),d.dispatch(to.LOAD_RESPONSE_FORM));var u=e.ref([]),m=e.computed((function(){var e;return null===(e=d.state.formInstances)||void 0===e?void 0:e.$values})),p=function(e){return u.value[e],u.value[e]=!u.value[e],u.value.forEach((function(t,n){t&&n!==e&&(u.value[n]=!1)})),!1};return{childForm:e.computed((function(){return d.state.form})),childSubmissions:e.computed((function(){var e;return null===(e=d.state.formInstances)||void 0===e?void 0:e.$values})),store:d,submissionStatus:e.computed((function(){return d.state.submissionStatus})),eSubmissionStatus:Vn,eValidationStatus:ht,childResponseFormId:s,childResponseForm:e.computed((function(){return d.state.childResponseForm})),responseDisplayFlags:u,toggleDisplayResponse:p,submitChildResponse:function(e){var t;d.dispatch(to.SUBMIT_CHILD_RESPONSE_FORM,null===(t=m.value[e])||void 0===t?void 0:t.id),p(e)},isAdmin:c}},storeConfig:{state:qn,actions:oo,mutations:no,getters:{}},methods:{submitChildForm:function(){this.store.dispatch(to.SUBMIT_CHILD_FORM)},removeResponseForm:function(e){confirm("Do you really want to delete this item?")&&this.store.dispatch(to.DELETE_CHILD_RESPONSE_INSTANCE,e)},removeChildForm:function(e){confirm("Do you really want to delete this item?")&&this.store.dispatch(to.DELETE_CHILD_INSTANCE,e)}}}),rl=function(t){return e.pushScopeId("data-v-101fde4c"),t=t(),e.popScopeId(),t},al={key:0,class:"submissionForm"},cl={key:0,class:"alert alert-danger"},sl={key:1},dl={key:0,class:"alert alert-info"},ul={key:1,class:"alert alert-info"},ml={key:2,class:"alert alert-danger"},pl={key:1,class:"mt-2 submissionInstanceList"},fl=rl((function(){return e.createElementVNode("h3",null,"Responses",-1)})),vl={class:"submissionInstance"},El={key:0,class:"text-right"},hl=["onClick"],gl=[rl((function(){return e.createElementVNode("span",{class:"fas fa-reply replyBtn"},null,-1)}))],Sl=["onClick"],yl={class:"ml-3 submissionInstanceList"},Tl={key:0,class:"mb-2"},kl={key:0,class:"childResponseForm"},_l={key:0,class:"alert alert-danger"},Il=["onClick"],Fl={class:"submissionInstance"},Cl={key:0,class:"text-right"},Bl=["onClick"];var Dl,Nl;lt("\n.fa-remove[data-v-101fde4c] {\r\n\t\tcolor: red;\r\n\t\tmargin-left: 30px;\n}\r\n"),il.render=function(t,n,o,l,i,r){var a,c=e.resolveComponent("ChildForm"),s=e.resolveComponent("ChildView");return e.openBlock(),e.createElementBlock(e.Fragment,null,[t.childForm&&Object.keys(t.childForm).length>0?(e.openBlock(),e.createElementBlock("div",al,[e.createVNode(c,{model:t.childForm},null,8,["model"]),(null===(a=t.childForm)||void 0===a?void 0:a.validationStatus)===t.eValidationStatus.INVALID?(e.openBlock(),e.createElementBlock("div",cl,"Form validation failed.")):(e.openBlock(),e.createElementBlock("div",sl,[t.submissionStatus===t.eSubmissionStatus.InProgress?(e.openBlock(),e.createElementBlock("div",dl,"Submitting...")):e.createCommentVNode("",!0),t.submissionStatus===t.eSubmissionStatus.Success?(e.openBlock(),e.createElementBlock("div",ul,"Submission successful")):e.createCommentVNode("",!0),t.submissionStatus===t.eSubmissionStatus.Fail?(e.openBlock(),e.createElementBlock("div",ml,"Submission failed")):e.createCommentVNode("",!0)])),e.createElementVNode("button",{class:"btn btn-primary",onClick:n[0]||(n[0]=function(e){return t.submitChildForm()})},"Submit")])):e.createCommentVNode("",!0),t.childSubmissions&&t.childSubmissions.length>0?(e.openBlock(),e.createElementBlock("div",pl,[fl,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.childSubmissions,(function(n,o){var l;return e.openBlock(),e.createElementBlock("div",vl,[e.createVNode(s,{model:n,"hide-field-names":!0},null,8,["model"]),t.responseDisplayFlags[o]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",El,[e.createElementVNode("a",{href:"#",class:"text-decoration-none",onClick:function(e){return t.toggleDisplayResponse(o)},onclick:"return false;"},gl,8,hl),t.isAdmin?(e.openBlock(),e.createElementBlock("span",{key:0,class:"fas fa-remove",onClick:function(e){t.removeChildForm(n)}},null,8,Sl)):e.createCommentVNode("",!0)])),e.createElementVNode("div",yl,[t.childResponseFormId?(e.openBlock(),e.createElementBlock("div",Tl,[t.responseDisplayFlags[o]?(e.openBlock(),e.createElementBlock("div",kl,[e.createVNode(c,{model:t.childResponseForm},null,8,["model"]),(null===(l=t.childResponseForm)||void 0===l?void 0:l.validationStatus)===t.eValidationStatus.INVALID?(e.openBlock(),e.createElementBlock("div",_l,"Response validation failed.")):e.createCommentVNode("",!0),e.createElementVNode("button",{class:"btn btn-primary submitBtn",onClick:function(e){return t.submitChildResponse(o)}},"Submit",8,Il)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.childFieldContainers.$values,(function(n,o){return e.openBlock(),e.createElementBlock("div",Fl,[e.createVNode(s,{model:n,"hide-field-names":!0},null,8,["model"]),t.isAdmin?(e.openBlock(),e.createElementBlock("div",Cl,[e.createElementVNode("span",{class:"fas fa-remove deleteBtn",onClick:function(e){t.removeResponseForm(n)}},null,8,Bl)])):e.createCommentVNode("",!0)])})),256))])])})),256))])):e.createCommentVNode("",!0)],64)},il.__scopeId="data-v-101fde4c",function(e){e.LOAD_FORM="LOAD_FORM",e.SUBMIT_FORM="SUBMIT_FORM"}(Nl||(Nl={}));var bl=(r(Dl={},Nl.LOAD_FORM,(function(e){var t=window.location.origin+"/applets/api/itemtemplates/".concat(e.state.itemTemplateId,"/data-form/").concat(e.state.formId);fetch(t).then((function(e){return e.json()})).then((function(t){e.commit(jn.SET_FORM,t)})).catch((function(e){console.error("Actions.LOAD_FORM Error: ",e)}))})),r(Dl,Nl.SUBMIT_FORM,(function(e){if(e.state.form){e.commit(jn.SET_SUBMISSION_STATUS,"InProgress");var t=window.location.origin+"/applets/api/items/?itemTemplateId=".concat(e.state.itemTemplateId,"&groupId=").concat(e.state.groupId?e.state.groupId:"","&collectionId=").concat(e.state.collectionId),n=new FormData;n.append("datamodel",JSON.stringify(e.state.form));var o=function(t){e.state.flattenedFileModels[t].length>0&&e.state.flattenedFileModels[t].forEach((function(e){console.log("File: ",e.name),n.append("files",e),n.append("fileKeys",t)}))};for(var l in e.state.flattenedFileModels)o(l);fetch(t,{body:n,method:"post",headers:{encType:"multipart/form-data"}}).then((function(e){return e.json()})).then((function(t){console.log(JSON.stringify(t)),Un({flattenedOptionModels:e.state.flattenedOptionModels,flattenedTextModels:e.state.flattenedTextModels,flattenedFileModels:e.state.flattenedFileModels}),e.commit(jn.SET_SUBMISSION_STATUS,"Success")})).catch((function(t){e.commit(jn.SET_SUBMISSION_STATUS,"Fail"),console.log(t)}))}})),Dl),Ol=e.defineComponent({name:"FormSubmission",components:{SubmissionForm:ll},props:s,setup:function(t){console.log("props: ",JSON.stringify(t));var n=t.dataAttributes,o=xn.Guid.parse(n["template-id"]),l=xn.Guid.parse(n["form-id"]),i=xn.Guid.parse(n["collection-id"]),r=n["group-id"]?xn.Guid.parse(n["group-id"]):null,a=y();return a.commit(jn.CLEAR_FLATTENED_FIELD_MODELS),a.commit(jn.SET_ITEM_TEMPLATE_ID,o),a.commit(jn.SET_FORM_ID,l),a.commit(jn.SET_COLLECTION_ID,i),a.commit(jn.SET_GROUP_ID,r),a.dispatch(Nl.LOAD_FORM),{store:a,submissionForm:e.computed((function(){return a.state.form})),submissionStatus:e.computed((function(){return a.state.submissionStatus})),eSubmissionStatus:Vn,eValidationStatus:ht}},storeConfig:{state:Gn,actions:bl,mutations:Zn,getters:{}},methods:{submitForm:function(){this.store.dispatch(Nl.SUBMIT_FORM)}}}),Al={key:0},Ml={key:0,class:"alert alert-danger"},Ll={key:1},Vl={key:0,class:"alert alert-info"},Rl={key:1,class:"alert alert-info"},xl={key:2,class:"alert alert-danger"};Ol.render=function(t,n,o,l,i,r){var a,c=e.resolveComponent("SubmissionForm");return t.submissionForm&&Object.keys(t.submissionForm).length>0?(e.openBlock(),e.createElementBlock("div",Al,[e.createVNode(c,{model:t.submissionForm},null,8,["model"]),(null===(a=t.submissionForm)||void 0===a?void 0:a.validationStatus)===t.eValidationStatus.INVALID?(e.openBlock(),e.createElementBlock("div",Ml,"Form validation failed.")):(e.openBlock(),e.createElementBlock("div",Ll,[t.submissionStatus===t.eSubmissionStatus.InProgress?(e.openBlock(),e.createElementBlock("div",Vl,"Submitting...")):e.createCommentVNode("",!0),t.submissionStatus===t.eSubmissionStatus.Success?(e.openBlock(),e.createElementBlock("div",Rl,"Submission successful")):e.createCommentVNode("",!0),t.submissionStatus===t.eSubmissionStatus.Fail?(e.openBlock(),e.createElementBlock("div",xl,"Submission failed")):e.createCommentVNode("",!0)])),e.createElementVNode("button",{class:"btn btn-primary",onClick:n[0]||(n[0]=function(e){return t.submitForm()})},"Submit")])):e.createCommentVNode("",!0)};var wl,Pl,Ul={itemTemplateID:null,collectionID:null,groupId:null,reportFields:null,reportData:null};!function(e){e.SET_TEMPLATE_ID="SET_TEMPLATE_ID",e.SET_COLLECTION_ID="SET_COLLECTION_ID",e.SET_GROUP_ID="SET_GROUP_ID",e.SET_REPORT_FIELDS="SET_REPORT_FIELDS",e.SET_REPORT_DATA="SET_REPORT_DATA"}(Pl||(Pl={}));var $l,jl=(r(wl={},Pl.SET_TEMPLATE_ID,(function(e,t){e.itemTemplateID=t})),r(wl,Pl.SET_COLLECTION_ID,(function(e,t){e.collectionID=t})),r(wl,Pl.SET_GROUP_ID,(function(e,t){e.groupId=t})),r(wl,Pl.SET_REPORT_FIELDS,(function(e,t){e.reportFields=t})),r(wl,Pl.SET_REPORT_DATA,(function(e,t){e.reportData=[];for(var n=function(n){var o,l,i=t[n],r={};null===(o=e.reportFields)||void 0===o||o.forEach((function(e){var t,n=i.dataContainer.$values.filter((function(t){return t.id===e.formTemplateId}))[0],o=null==n?void 0:n.fields.$values.filter((function(t){return t.id===e.fieldId}))[0],l={formId:e.formTemplateId,fieldId:e.fieldId,value:o.id.toString()};null===(t=r.cells)||void 0===t||t.push(l)})),null===(l=e.reportData)||void 0===l||l.push(r)},o=0;o<t.length;++o)n(o)})),wl);!function(e){e.LOAD_DATA="LOAD_DATA"}($l||($l={}));var Gl=r({},$l.LOAD_DATA,(function(e){console.log("Store: ",JSON.stringify(e.state));var t=window.location.origin+"/applets/api/items/GetReportData/".concat(e.state.groupId,"/template/").concat(e.state.itemTemplateID,"/collection/").concat(e.state.collectionID);console.log("reports Load API: ",t);var n=new FormData;n.append("datamodel",JSON.stringify(e.state.reportFields)),fetch(t,{body:n,method:"post",headers:{encType:"multipart/form-data"}}).then((function(e){return e.json()})).then((function(t){e.commit(Pl.SET_REPORT_DATA,t)}))})),ql=e.defineComponent({name:"Report",components:{},props:s,setup:function(t){var n=y(),o=t.dataAttributes,l=xn.Guid.parse(o["template-id"]);n.commit(Pl.SET_TEMPLATE_ID,l),n.state.itemTemplateId=l;var i=xn.Guid.parse(o["collection-id"]);n.commit(Pl.SET_COLLECTION_ID,i),n.state.collectionId=i;var r=xn.Guid.parse(o["group-id"]);n.commit(Pl.SET_GROUP_ID,r),n.state.groupId=r;var a=JSON.parse(o["selected-fields"]);n.commit(Pl.SET_REPORT_FIELDS,a),n.state.reportFields=a;var c=o["is-admin"];return{store:n,selectedFields:a,reportRows:e.computed((function(){return Ul.reportData})),isAdmin:c,loadData:function(){return n.dispatch($l.LOAD_DATA)}}},storeConfig:{state:Ul,actions:Gl,mutations:jl,getters:{}}}),Hl=e.createElementVNode("h3",null,"Report",-1),Yl={class:"table"};ql.render=function(t,n,o,l,i,r){return e.openBlock(),e.createElementBlock(e.Fragment,null,[Hl,e.createElementVNode("button",{class:"btn btn-primary",onClick:n[0]||(n[0]=function(e){return t.loadData()})},"Execute"),e.createElementVNode("div",null,e.toDisplayString(t.selectedFields),1),e.createElementVNode("div",null,e.toDisplayString(t.selectedFields.length),1),e.createElementVNode("table",Yl,[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.selectedFields,(function(t){return e.openBlock(),e.createElementBlock("th",null,e.toDisplayString(t.fieldName),1)})),256))])]),e.createElementVNode("tbody",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.reportRows,(function(t){return e.openBlock(),e.createElementBlock("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.cells,(function(t){return e.openBlock(),e.createElementBlock("td",null,e.toDisplayString(t.value),1)})),256))])})),256))])])],64)};var zl=n({},ut),Kl=n({},gt),Wl=n({},ft),Xl=e.defineComponent({name:"ImageCarousel",components:{},props:{model:{type:null,required:!0},fileUrl:{type:null,required:!0}},setup:function(t){return{files:e.computed((function(){return t.model.files.$values})),fieldUrl:e.computed((function(){return t.fileUrl})),file1stId:e.computed((function(){return t.model.files.$values[0].id}))}}}),Jl=e.createElementVNode("h5",null,"Carousel",-1),Ql={id:"carouselSlides",class:"carousel slide","data-ride":"carousel"},Zl={class:"carousel-inner"},ei=["src"],ti=e.createElementVNode("a",{class:"carousel-control-prev",href:"#carouselSlides",role:"button","data-slide":"prev"},[e.createElementVNode("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),e.createElementVNode("span",{class:"sr-only"},"Previous")],-1),ni=e.createElementVNode("a",{class:"carousel-control-next",href:"#carouselSlides",role:"button","data-slide":"next"},[e.createElementVNode("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),e.createElementVNode("span",{class:"sr-only"},"Next")],-1);Xl.render=function(t,n,o,l,i,r){return e.openBlock(),e.createElementBlock(e.Fragment,null,[Jl,e.createElementVNode("div",Ql,[e.createElementVNode("div",Zl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.files.$values,(function(n){return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(n.id===t.file1stId?"carousel-item active":"carousel-item"),key:n.id},[e.createElementVNode("img",{class:"d-block w-100",src:t.fileUrl+n.fileName},null,8,ei)],2)})),128))]),ti,ni])],64)};var oi=e.defineComponent({name:"ImageGallery",components:{},props:{model:{type:null,required:!0},fileUrl:{type:null,required:!0}},setup:function(t){return{files:e.computed((function(){return t.model.files.$values})),fieldUrl:e.computed((function(){return t.fileUrl}))}}}),li=e.createElementVNode("h5",null,"Gallery",-1),ii={class:"container"},ri={class:"d-flex flex-row"},ai=["src","alt"];oi.render=function(t,n,o,l,i,r){return e.openBlock(),e.createElementBlock(e.Fragment,null,[li,e.createElementVNode("div",ii,[e.createElementVNode("div",ri,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.files,(function(n){return e.openBlock(),e.createElementBlock("img",{src:t.fileUrl+n.fileName,class:"w-100 shadow-1-strong rounded mb-4",alt:n.originalFileName},null,8,ai)})),256))])])],64)};var ci=e.defineComponent({name:"PdfViewer",components:{},props:{fileUrl:{type:null,required:!1}},setup:function(t){var n=window.location.origin+"/assets/js/vendor/pdfjs-2.13.216/web/viewer.html?file=";return{fileUrl:e.computed((function(){return t.fileUrl})),pdfViewerPath:n}}}),si={class:"pdfViewer"},di=["src"];lt("\n.pdfViewer[data-v-97ebf75e] {\r\n        width: 50%;\r\n        height: 79vh;\r\n        min-width: 400px;\n}\r\n"),ci.render=function(t,n,o,l,i,r){return e.openBlock(),e.createElementBlock("div",si,[e.createElementVNode("iframe",{height:"100%",width:"100%",src:t.pdfViewerPath+t.fileUrl},null,8,di)])},ci.__scopeId="data-v-97ebf75e";var ui=e.defineComponent({name:"FieldComponent",components:{ImageCarousel:Xl,ImageGallery:oi,PdfViewer:ci},props:{model:{type:null,required:!0}},setup:function(t){var n,o=y(),l="";if(null!==(n=t.model.field)&&void 0!==n&&n.$type.includes("AttachmentField")){var i=e.ref(o.state.item.id),r=e.ref(o.getters.dataItemId(t.model.component.formTemplateId)),a=e.ref(t.model.component.fieldId);l=window.location.origin+"/api/items/"+i.value+"/"+r.value+"/"+a.value+"/"}var c="";return t.model.component.displayImagesMode&&(c="gallery"==t.model.component.displayImagesMode?"gallery":"carousel"),{htmlWrapperTag:e.computed((function(){var e;return(null===(e=t.model.component.type)||void 0===e?void 0:e.length)>0?t.model.component.type:"div"})),componentType:e.computed((function(){return t.model.component.$type.split(",")[0]})),field:e.computed((function(){return t.model.field})),fieldType:e.computed((function(){var e,n;return null===(e=t.model.field)||void 0===e||null===(n=e.$type)||void 0===n?void 0:n.split(",")[0]})),fileUrl:l,displayImagesMode:c,cssClasses:e.computed((function(){return t.model.component.cssClasses?t.model.component.cssClasses:""}))}},methods:{formatDate:function(e){return ie(e).format("MMM DD, YYYY")},formatToDecimal:function(e,t){return Number(e).toFixed(t)},getSelectedFieldLabels:function(e){return yt.getSelectedFieldLabels(e.options.$values)}}}),mi={class:"fieldType"},pi=e.createElementVNode("hr",null,null,-1),fi={key:0},vi={key:1},Ei={key:2},hi={key:3},gi={key:4},Si={key:5},yi=["href"],Ti=e.createElementVNode("br",null,null,-1),ki=["src"],_i=e.createElementVNode("br",null,null,-1),Ii={key:3,controls:""},Fi=["src","type"],Ci=e.createTextVNode(" Your browser does not support the audio element. "),Bi=e.createElementVNode("hr",null,null,-1);ui.render=function(t,n,o,l,i,r){var a=e.resolveComponent("ImageCarousel"),c=e.resolveComponent("ImageGallery"),s=e.resolveComponent("PdfViewer");return e.openBlock(),e.createElementBlock("div",mi,[pi,"Catfish.Core.Models.Contents.Fields.TextArea"===t.fieldType||"Catfish.Core.Models.Contents.Fields.TextField"===t.fieldType?(e.openBlock(),e.createElementBlock("div",fi,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.field.values.$values,(function(n){return e.openBlock(),e.createElementBlock("div",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.values.$values,(function(n){return e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.htmlWrapperTag),{class:e.normalizeClass(t.cssClasses)},{default:e.withCtx((function(){return[e.createTextVNode(e.toDisplayString(n.value),1)]})),_:2},1032,["class"])})),256))])})),256))])):t.fieldType.includes("Catfish.Core.Models.Contents.Fields.EmailField")||"Catfish.Core.Models.Contents.Fields.MonolingualTextField"===t.fieldType||"Catfish.Core.Models.Contents.Fields.IntegerField"===t.fieldType?(e.openBlock(),e.createElementBlock("div",vi,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.field.values.$values,(function(n){return e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.htmlWrapperTag),{class:e.normalizeClass(t.cssClasses)},{default:e.withCtx((function(){return[e.createTextVNode(e.toDisplayString(n.value),1)]})),_:2},1032,["class"])})),256))])):"Catfish.Core.Models.Contents.Fields.DecimalField"===t.fieldType?(e.openBlock(),e.createElementBlock("div",Ei,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.field.values.$values,(function(n){return e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.htmlWrapperTag),{class:e.normalizeClass(t.cssClasses)},{default:e.withCtx((function(){return[e.createTextVNode(e.toDisplayString(t.formatToDecimal(n.value,2)),1)]})),_:2},1032,["class"])})),256))])):"Catfish.Core.Models.Contents.Fields.DateField"===t.fieldType?(e.openBlock(),e.createElementBlock("div",hi,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.field.values.$values,(function(n){return e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.htmlWrapperTag),{class:e.normalizeClass(t.cssClasses)},{default:e.withCtx((function(){return[e.createTextVNode(e.toDisplayString(t.formatDate(n.value)),1)]})),_:2},1032,["class"])})),256))])):"Catfish.Core.Models.Contents.Fields.OptionsField"===t.fieldType||"Catfish.Core.Models.Contents.Fields.CheckboxField"===t.fieldType||"Catfish.Core.Models.Contents.Fields.RadioField"===t.fieldType||"Catfish.Core.Models.Contents.Fields.SelectField"===t.fieldType?(e.openBlock(),e.createElementBlock("div",gi,[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.htmlWrapperTag),{class:e.normalizeClass(t.cssClasses)},{default:e.withCtx((function(){return[e.createTextVNode(e.toDisplayString(t.getSelectedFieldLabels(t.field)),1)]})),_:1},8,["class"]))])):t.fieldType.includes("Catfish.Core.Models.Contents.Fields.AttachmentField")||"Catfish.Core.Models.Contents.Fields.AudioRecorderField"===t.fieldType?(e.openBlock(),e.createElementBlock("div",Si,["carousel"===t.displayImagesMode?(e.openBlock(),e.createBlock(a,{key:0,model:t.field,fileUrl:t.fileUrl},null,8,["model","fileUrl"])):"gallery"===t.displayImagesMode?(e.openBlock(),e.createBlock(c,{key:1,model:t.field,fileUrl:t.fileUrl},null,8,["model","fileUrl"])):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(t.field.files.$values,(function(n){return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(t.cssClasses)},[n.contentType.includes("pdf")?(e.openBlock(),e.createBlock(s,{key:0,fileUrl:t.fileUrl+n.fileName},null,8,["fileUrl"])):e.createCommentVNode("",!0),n.contentType.includes("pdf")?(e.openBlock(),e.createElementBlock("a",{key:1,href:t.fileUrl+n.fileName},e.toDisplayString(n.originalFileName),9,yi)):e.createCommentVNode("",!0),Ti,n.contentType.includes("image")?(e.openBlock(),e.createElementBlock("img",{key:2,src:t.fileUrl+n.fileName},null,8,ki)):e.createCommentVNode("",!0),_i,n.contentType.includes("audio")?(e.openBlock(),e.createElementBlock("audio",Ii,[e.createElementVNode("source",{src:t.fileUrl+n.fileName,type:n.contentType},null,8,Fi),Ci])):e.createCommentVNode("",!0)],2)})),256))])):e.createCommentVNode("",!0),Bi])};var Di=e.defineComponent({name:"StaticComponent",components:{},props:{model:{type:null,required:!0}},setup:function(t){return{htmlWrapperTag:e.computed((function(){var e;return(null===(e=t.model.type)||void 0===e?void 0:e.length)>0?t.model.type:"div"}))}}}),Ni={class:"staticType"},bi=e.createElementVNode("h3",null,"Static Field",-1);Di.render=function(t,n,o,l,i,r){return e.openBlock(),e.createElementBlock("div",Ni,[bi,(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.htmlWrapperTag),{class:e.normalizeClass(t.model.cssClasses)},{default:e.withCtx((function(){return[e.createTextVNode(e.toDisplayString(t.model.content),1)]})),_:1},8,["class"]))])};var Oi=e.defineComponent({name:"ItemLayout",components:{FieldComponent:ui,StaticComponent:Di},props:s,setup:function(t){var n=y(),o=t.queryParameters;n.commit(dt.SET_ID,o.iid);var l=t.dataAttributes,i=l["selected-components"],r=JSON.parse(i),a=l["is-admin"];n.dispatch(pt.LOAD_ITEM),console.log("components length:"+r.length);var c=r.filter((function(e){return e.$type.includes("StaticText")}));return console.log("static Field:"+c.length),console.log(JSON.stringify(c)),{store:n,item:e.computed((function(){return n.state.item})),queryParams:o,isAdmin:a,components:r,staticFields:c,fields:e.computed((function(){return n.getters.fields(r)}))}},storeConfig:{state:zl,actions:Kl,mutations:Wl,getters:{dataItem:function(e){return function(t){var n,o,l;return null===(n=e.item)||void 0===n||null===(o=n.dataContainer)||void 0===o||null===(l=o.$values)||void 0===l?void 0:l.filter((function(e){return e.templateId===t}))[0]}},field:function(e){return function(t,n){var o,l,i,r,a;return null===(o=e.item)||void 0===o||null===(l=o.dataContainer)||void 0===l||null===(i=l.$values)||void 0===i||null===(r=i.filter((function(e){return e.templateId===t}))[0])||void 0===r||null===(a=r.fields.$values)||void 0===a?void 0:a.filter((function(e){return e.id===n}))}},fields:function(e){return function(t){for(var n=[],o=function(o){var l=t[o].formTemplateId,i=t[o].fieldId;if(void 0!==i&&i){var r,a,c,s,d,u=null===(r=e.item)||void 0===r||null===(a=r.dataContainer)||void 0===a||null===(c=a.$values)||void 0===c||null===(s=c.filter((function(e){return e.templateId===l}))[0])||void 0===s||null===(d=s.fields.$values)||void 0===d?void 0:d.filter((function(e){return e.id===i}))[0],m={component:t[o],field:u};n.push(m)}},l=0;l<(null==t?void 0:t.length);l++)o(l);return n}},dataItemId:function(e){return function(t){var n,o,l,i;return null===(n=e.item)||void 0===n||null===(o=n.dataContainer)||void 0===o||null===(l=o.$values)||void 0===l||null===(i=l.filter((function(e){return e.templateId===t}))[0])||void 0===i?void 0:i.id}}}}}),Ai={class:"item"},Mi=e.createElementVNode("h3",null,"ItemLayout",-1);Oi.render=function(t,n,o,l,i,r){var a=e.resolveComponent("StaticComponent"),c=e.resolveComponent("FieldComponent");return e.openBlock(),e.createElementBlock("div",Ai,[Mi,(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.staticFields,(function(t){return e.openBlock(),e.createBlock(a,{model:t},null,8,["model"])})),256)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.fields,(function(t){return e.openBlock(),e.createBlock(c,{model:t},null,8,["model"])})),256))])};var Li=Object.freeze({__proto__:null,Carousel:d,KeywordSearch:ke,ItemTemplateEditor:it,ItemEditor:at,ItemViewer:Jt,ProcessManager:yn,Grid:An,ChildFormSubmission:il,FormSubmission:Ol,Report:ql,ItemLayout:Oi}),Vi=function(e){Object.entries(Li).forEach((function(t){var n=a(t,2),o=n[0],l=n[1];e.component(o,l)}))},Ri=Object.freeze({__proto__:null,default:Vi,Carousel:d,KeywordSearch:ke,ItemTemplateEditor:it,ItemEditor:at,ItemViewer:Jt,ProcessManager:yn,Grid:An,ChildFormSubmission:il,FormSubmission:Ol,Report:ql,ItemLayout:Oi});return Object.entries(Ri).forEach((function(e){var t=a(e,2),n=t[0],o=t[1];"default"!==n&&(Vi[n]=o)})),Vi}(Vue);