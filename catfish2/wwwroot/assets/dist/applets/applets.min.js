var Applets=function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],l=!0,a=!1;try{for(n=n.call(e);!(l=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);l=!0);}catch(e){a=!0,r=e}finally{try{l||null==n.return||n.return()}finally{if(a)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var l={pageId:{required:!1,type:null},blockId:{required:!1,type:null},appletTitle:{required:!1,type:String},dataAttributes:{required:!1,type:null},queryParameters:{required:!1,type:null}},a=e.defineComponent({name:"Carousel",components:{},props:l,setup:function(e,t){console.log("Carousel setup ..."),console.log("props: ",e),console.log("context: ",t)},mounted:function(){console.log("Carousel mounted ...")}}),c=e.createElementVNode("h2",null,"Carousel",-1),s={class:"row"},u={class:"row"},d={class:"row"};function m(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}}a.render=function(t,n,o,r,i,l){return e.openBlock(),e.createElementBlock("div",null,[c,e.createElementVNode("div",s,"Page Id: "+e.toDisplayString(t.pageId),1),e.createElementVNode("div",u,"Block Id: "+e.toDisplayString(t.blockId),1),e.createElementVNode("div",d,"Data Attributes "+e.toDisplayString(t.dataAttributes),1)])};const p="function"==typeof Proxy;class f{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const t in e.settings){const o=e.settings[t];n[t]=o.defaultValue}const o=`__vue-devtools-plugin-settings__${e.id}`;let r={...n};try{const e=localStorage.getItem(o),t=JSON.parse(e);Object.assign(r,t)}catch(e){}this.fallbacks={getSettings:()=>r,setSettings(e){try{localStorage.setItem(o,JSON.stringify(e))}catch(e){}r=e}},t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function h(e,t){const n=m(),o=m().__VUE_DEVTOOLS_GLOBAL_HOOK__,r=p&&e.enableEarlyProxy;if(!o||!n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&r){const i=r?new f(e,o):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:t,proxy:i}),i&&t(i.proxiedTarget)}else o.emit("devtools-plugin:setup",e,t)}
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var v="store";function y(t){return void 0===t&&(t=null),e.inject(null!==t?t:v)}function g(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function E(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function k(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;_(e,n,[],e._modules.root,!0),S(e,n,t)}function S(t,n,o){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,l={};g(i,(function(e,n){l[n]=function(e,t){return function(){return e(t)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return l[n]()},enumerable:!0})})),t._state=e.reactive({data:n}),t.strict&&function(t){e.watch((function(){return t._state.data}),(function(){}),{deep:!0,flush:"sync"})}(t),r&&o&&t._withCommit((function(){r.data=null}))}function _(e,t,n,o,r){var i=!n.length,l=e._modules.getNamespace(n);if(o.namespaced&&(e._modulesNamespaceMap[l],e._modulesNamespaceMap[l]=o),!i&&!r){var a=T(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){a[c]=o.state}))}var s=o.context=function(e,t,n){var o=""===t,r={dispatch:o?e.dispatch:function(n,o,r){var i=C(n,o,r),l=i.payload,a=i.options,c=i.type;return a&&a.root||(c=t+c),e.dispatch(c,l)},commit:o?e.commit:function(n,o,r){var i=C(n,o,r),l=i.payload,a=i.options,c=i.type;a&&a.root||(c=t+c),e.commit(c,l,a)}};return Object.defineProperties(r,{getters:{get:o?function(){return e.getters}:function(){return F(e,t)}},state:{get:function(){return T(e.state,n)}}}),r}(e,l,n);o.forEachMutation((function(t,n){!function(e,t,n,o){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){n.call(e,o.state,t)}))}(e,l+n,t,s)})),o.forEachAction((function(t,n){var o=t.root?n:l+n,r=t.handler||t;!function(e,t,n,o){(e._actions[t]||(e._actions[t]=[])).push((function(t){var r,i=n.call(e,{dispatch:o.dispatch,commit:o.commit,getters:o.getters,state:o.state,rootGetters:e.getters,rootState:e.state},t);return(r=i)&&"function"==typeof r.then||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}(e,o,r,s)})),o.forEachGetter((function(t,n){!function(e,t,n,o){if(e._wrappedGetters[t])return;e._wrappedGetters[t]=function(e){return n(o.state,o.getters,e.state,e.getters)}}(e,l+n,t,s)})),o.forEachChild((function(o,i){_(e,t,n.concat(i),o,r)}))}function F(e,t){if(!e._makeLocalGettersCache[t]){var n={},o=t.length;Object.keys(e.getters).forEach((function(r){if(r.slice(0,o)===t){var i=r.slice(o);Object.defineProperty(n,i,{get:function(){return e.getters[r]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function T(e,t){return t.reduce((function(e,t){return e[t]}),e)}function C(e,t,n){var o;return null!==(o=e)&&"object"==typeof o&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var B="vuex:mutations",b="vuex:actions",I="vuex",D=0;function w(e,t){h({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:["vuex bindings"]},(function(n){n.addTimelineLayer({id:B,label:"Vuex Mutations",color:N}),n.addTimelineLayer({id:b,label:"Vuex Actions",color:N}),n.addInspector({id:I,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===I)if(n.filter){var o=[];x(o,t._modules.root,n.filter,""),n.rootNodes=o}else n.rootNodes=[M(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===I){var o=n.nodeId;F(t,o),n.state=function(e,t,n){t="root"===n?t:t[n];var o=Object.keys(t),r={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(o.length){var i=function(e){var t={};return Object.keys(e).forEach((function(n){var o=n.split("/");if(o.length>1){var r=t,i=o.pop();o.forEach((function(e){r[e]||(r[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),r=r[e]._custom.value})),r[i]=P((function(){return e[n]}))}else t[n]=P((function(){return e[n]}))})),t}(t);r.getters=Object.keys(i).map((function(e){return{key:e.endsWith("/")?V(e):e,editable:!1,value:P((function(){return i[e]}))}}))}return r}((r=t._modules,(l=(i=o).split("/").filter((function(e){return e}))).reduce((function(e,t,n){var o=e[t];if(!o)throw new Error('Missing module "'+t+'" for path "'+i+'".');return n===l.length-1?o:o._children}),"root"===i?r:r.root._children)),"root"===o?t.getters:t._makeLocalGettersCache,o)}var r,i,l})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===I){var o=n.nodeId,r=n.path;"root"!==o&&(r=o.split("/").filter(Boolean).concat(r)),t._withCommit((function(){n.set(t._state.data,r,n.state.value)}))}})),t.subscribe((function(e,t){var o={};e.payload&&(o.payload=e.payload),o.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(I),n.sendInspectorState(I),n.addTimelineEvent({layerId:B,event:{time:Date.now(),title:e.type,data:o}})})),t.subscribeAction({before:function(e,t){var o={};e.payload&&(o.payload=e.payload),e._id=D++,e._time=Date.now(),o.state=t,n.addTimelineEvent({layerId:b,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:o}})},after:function(e,t){var o={},r=Date.now()-e._time;o.duration={_custom:{type:"duration",display:r+"ms",tooltip:"Action duration",value:r}},e.payload&&(o.payload=e.payload),o.state=t,n.addTimelineEvent({layerId:b,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:o}})}})}))}var N=8702998,O={label:"namespaced",textColor:16777215,backgroundColor:6710886};function V(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function M(e,t){return{id:t||"root",label:V(t),tags:e.namespaced?[O]:[],children:Object.keys(e._children).map((function(n){return M(e._children[n],t+n+"/")}))}}function x(e,t,n,o){o.includes(n)&&e.push({id:o||"root",label:o.endsWith("/")?o.slice(0,o.length-1):o||"Root",tags:t.namespaced?[O]:[]}),Object.keys(t._children).forEach((function(r){x(e,t._children[r],n,o+r+"/")}))}function P(e){try{return e()}catch(e){return e}}var L=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},A={namespaced:{configurable:!0}};A.namespaced.get=function(){return!!this._rawModule.namespaced},L.prototype.addChild=function(e,t){this._children[e]=t},L.prototype.removeChild=function(e){delete this._children[e]},L.prototype.getChild=function(e){return this._children[e]},L.prototype.hasChild=function(e){return e in this._children},L.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},L.prototype.forEachChild=function(e){g(this._children,e)},L.prototype.forEachGetter=function(e){this._rawModule.getters&&g(this._rawModule.getters,e)},L.prototype.forEachAction=function(e){this._rawModule.actions&&g(this._rawModule.actions,e)},L.prototype.forEachMutation=function(e){this._rawModule.mutations&&g(this._rawModule.mutations,e)},Object.defineProperties(L.prototype,A);var $=function(e){this.register([],e,!1)};function R(e,t,n){if(t.update(n),n.modules)for(var o in n.modules){if(!t.getChild(o))return;R(e.concat(o),t.getChild(o),n.modules[o])}}$.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},$.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},$.prototype.update=function(e){R([],this.root,e)},$.prototype.register=function(e,t,n){var o=this;void 0===n&&(n=!0);var r=new L(t,n);0===e.length?this.root=r:this.get(e.slice(0,-1)).addChild(e[e.length-1],r);t.modules&&g(t.modules,(function(t,r){o.register(e.concat(r),t,n)}))},$.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],o=t.getChild(n);o&&o.runtime&&t.removeChild(n)},$.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var j=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var o=e.strict;void 0===o&&(o=!1);var r=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new $(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=r;var i=this,l=this.dispatch,a=this.commit;this.dispatch=function(e,t){return l.call(i,e,t)},this.commit=function(e,t,n){return a.call(i,e,t,n)},this.strict=o;var c=this._modules.root.state;_(this,c,[],this._modules.root),S(this,c),n.forEach((function(e){return e(t)}))},Y={state:{configurable:!0}};j.prototype.install=function(e,t){e.provide(t||v,this),e.config.globalProperties.$store=this,(void 0!==this._devtools?this._devtools:__VUE_PROD_DEVTOOLS__)&&w(e,this)},Y.state.get=function(){return this._state.data},Y.state.set=function(e){},j.prototype.commit=function(e,t,n){var o=this,r=C(e,t,n),i=r.type,l=r.payload,a={type:i,payload:l},c=this._mutations[i];c&&(this._withCommit((function(){c.forEach((function(e){e(l)}))})),this._subscribers.slice().forEach((function(e){return e(a,o.state)})))},j.prototype.dispatch=function(e,t){var n=this,o=C(e,t),r=o.type,i=o.payload,l={type:r,payload:i},a=this._actions[r];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(l,n.state)}))}catch(e){}var c=a.length>1?Promise.all(a.map((function(e){return e(i)}))):a[0](i);return new Promise((function(e,t){c.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(l,n.state)}))}catch(e){}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(l,n.state,e)}))}catch(e){}t(e)}))}))}},j.prototype.subscribe=function(e,t){return E(e,this._subscribers,t)},j.prototype.subscribeAction=function(e,t){return E("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},j.prototype.watch=function(t,n,o){var r=this;return e.watch((function(){return t(r.state,r.getters)}),n,Object.assign({},o))},j.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},j.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),_(this,this.state,e,this._modules.get(e),n.preserveState),S(this,this.state)},j.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){delete T(t.state,e.slice(0,-1))[e[e.length-1]]})),k(this)},j.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},j.prototype.hotUpdate=function(e){this._modules.update(e),k(this,!0)},j.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(j.prototype,Y);var q,U;!function(e){e.SET_SOURCE="SET_SOURCE",e.SET_KEYWORDS="SET_KEYWORDS",e.SET_RESULTS="SET_RESULTS",e.SET_OFFSET="SET_OFFSET",e.SET_PAGE_SIZE="SET_PAGE_SIZE"}(U||(U={}));var G,W,K=(o(q={},U.SET_SOURCE,(function(e,t){e.pageId=t.pageId,e.blockId=t.blockId})),o(q,U.SET_KEYWORDS,(function(e,t){console.log("SET_KEYWORDS Payload: ",t),e.keywordQueryModel=t})),o(q,U.SET_RESULTS,(function(e,t){e.searchResult=t,e.offset=t.first-1})),o(q,U.SET_OFFSET,(function(e,t){e.offset=t})),o(q,U.SET_PAGE_SIZE,(function(e,t){e.max=t})),q);!function(e){e.INIT_FILTER="INIT_FILTER",e.FILTER_BY_KEYWORDS="FILTER_BY_KEYWORDS",e.NEXT_PAGE="NEXT_PAGE",e.PREVIOUS_PAGE="PREVIOUS_PAGE",e.FRESH_SEARCH="FRESH_SEARCH",e.SAVE_KEYWORDS="SAVE_KEYWORDS"}(W||(W={}));var H=(o(G={},W.INIT_FILTER,(function(e){var t=window.location.origin+"/applets/api/keywordsearch/keywords/page/".concat(e.state.pageId,"/block/").concat(e.state.blockId);console.log("Keyword Load API: ",t),fetch(t).then((function(e){return e.json()})).then((function(t){e.commit(U.SET_KEYWORDS,t)}))})),o(G,W.FILTER_BY_KEYWORDS,(function(e){if(console.log("Dispatched Actions.FILTER_BY_KEYWORDS. Query model: ",JSON.stringify(e.state.keywordQueryModel)),e.state.blockId){var t={keywords:e.state.keywordQueryModel,offset:e.state.offset,max:e.state.max};localStorage.setItem(e.getters.searchParamStorageKey,JSON.stringify(t))}var n=window.location.origin+"/applets/api/keywordsearch/items/";console.log("Item Load API: ",n);var o=new FormData;e.state.pageId&&o.append("pageId",e.state.pageId.toString()),e.state.blockId&&o.append("blockId",e.state.blockId.toString()),o.append("offset",e.state.offset.toString()),o.append("max",e.state.max.toString()),o.append("queryParams",JSON.stringify(e.state.keywordQueryModel)),fetch(n,{method:"POST",body:o}).then((function(e){return e.json()})).then((function(t){e.commit(U.SET_RESULTS,t)})).catch((function(e){console.error("Item Load API Error:",e)}))})),o(G,W.NEXT_PAGE,(function(e){e.commit(U.SET_OFFSET,e.state.offset+e.state.max),e.dispatch(W.FILTER_BY_KEYWORDS)})),o(G,W.PREVIOUS_PAGE,(function(e){var t=Math.max(e.state.offset-e.state.max,0);e.commit(U.SET_OFFSET,t),e.dispatch(W.FILTER_BY_KEYWORDS)})),o(G,W.FRESH_SEARCH,(function(e,t){e.commit(U.SET_OFFSET,0),t&&e.commit(U.SET_PAGE_SIZE,t),e.dispatch(W.FILTER_BY_KEYWORDS)})),o(G,W.SAVE_KEYWORDS,(function(e,t){console.log("save keywords action :"+JSON.stringify(t)),e.commit(U.SET_KEYWORDS,t)})),G),Q=e.defineComponent({name:"KeywordFilter",setup:function(){var t=y();return{runFreshSearch:function(){return t.dispatch(W.FRESH_SEARCH)},keywordQueryModel:e.computed((function(){return t.state.keywordQueryModel}))}}}),z={key:0},J={key:0,class:"font-weight-bold"},Z=["value","onUpdate:modelValue"],X={class:"ml-1"};Q.render=function(t,n,o,r,i,l){var a;return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(a=t.keywordQueryModel)||void 0===a?void 0:a.containers,(function(o,r){var i,l;return e.openBlock(),e.createElementBlock("div",{key:o},[(null===(i=t.keywordQueryModel)||void 0===i?void 0:i.containers.length)>1&&(null==o||null===(l=o.name)||void 0===l?void 0:l.length)>0?(e.openBlock(),e.createElementBlock("div",z,e.toDisplayString(o.name),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.fields,(function(o,i){return e.openBlock(),e.createElementBlock("div",{key:o,class:"mb-3"},[o.name.length>0?(e.openBlock(),e.createElementBlock("div",J,e.toDisplayString(o.name),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.values,(function(o,l){return e.openBlock(),e.createElementBlock("div",{key:o},[e.withDirectives(e.createElementVNode("input",{type:"checkbox",value:o,"onUpdate:modelValue":function(e){return t.keywordQueryModel.containers[r].fields[i].selected[l]=e},onChange:n[0]||(n[0]=function(){return t.runFreshSearch&&t.runFreshSearch.apply(t,arguments)})},null,40,Z),[[e.vModelCheckbox,t.keywordQueryModel.containers[r].fields[i].selected[l]]]),e.createElementVNode("label",X,e.toDisplayString(o),1)])})),128))])})),128))])})),128)};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var ee,te,ne,oe=(ee=function(e,n){e.exports=function(){var e=1e3,n=6e4,o=36e5,r="millisecond",i="second",l="minute",a="hour",c="day",s="week",u="month",d="quarter",m="year",p="date",f="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(e,t,n){var o=String(e);return!o||o.length>=t?e:""+Array(t+1-o.length).join(n)+e},E={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),o=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+g(o,2,"0")+":"+g(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var o=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(o,u),i=n-r<0,l=t.clone().add(o+(i?-1:1),u);return+(-(o+(n-r)/(i?r-l:l-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:m,w:s,d:c,D:p,h:a,m:l,s:i,ms:r,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},k="en",S={};S[k]=y;var _=function(e){return e instanceof B},F=function(e,t,n){var o;if(!e)return k;if("string"==typeof e)S[e]&&(o=e),t&&(S[e]=t,o=e);else{var r=e.name;S[r]=e,o=r}return!n&&o&&(k=o),o||!n&&k},T=function(e,n){if(_(e))return e.clone();var o="object"==t(n)?n:{};return o.date=e,o.args=arguments,new B(o)},C=E;C.l=F,C.i=_,C.w=function(e,t){return T(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var B=function(){function t(e){this.$L=F(e.locale,null,!0),this.parse(e)}var y=t.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var o=t.match(h);if(o){var r=o[2]-1||0,i=(o[7]||"0").substring(0,3);return n?new Date(Date.UTC(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,i)):new Date(o[1],r,o[3]||1,o[4]||0,o[5]||0,o[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return C},y.isValid=function(){return!(this.$d.toString()===f)},y.isSame=function(e,t){var n=T(e);return this.startOf(t)<=n&&n<=this.endOf(t)},y.isAfter=function(e,t){return T(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<T(e)},y.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var n=this,o=!!C.u(t)||t,r=C.p(e),d=function(e,t){var r=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return o?r:r.endOf(c)},f=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},h=this.$W,v=this.$M,y=this.$D,g="set"+(this.$u?"UTC":"");switch(r){case m:return o?d(1,0):d(31,11);case u:return o?d(1,v):d(0,v+1);case s:var E=this.$locale().weekStart||0,k=(h<E?h+7:h)-E;return d(o?y-k:y+(6-k),v);case c:case p:return f(g+"Hours",0);case a:return f(g+"Minutes",1);case l:return f(g+"Seconds",2);case i:return f(g+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var n,o=C.p(e),s="set"+(this.$u?"UTC":""),d=(n={},n[c]=s+"Date",n[p]=s+"Date",n[u]=s+"Month",n[m]=s+"FullYear",n[a]=s+"Hours",n[l]=s+"Minutes",n[i]=s+"Seconds",n[r]=s+"Milliseconds",n)[o],f=o===c?this.$D+(t-this.$W):t;if(o===u||o===m){var h=this.clone().set(p,1);h.$d[d](f),h.init(),this.$d=h.set(p,Math.min(this.$D,h.daysInMonth())).$d}else d&&this.$d[d](f);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[C.p(e)]()},y.add=function(t,r){var d,p=this;t=Number(t);var f=C.p(r),h=function(e){var n=T(p);return C.w(n.date(n.date()+Math.round(e*t)),p)};if(f===u)return this.set(u,this.$M+t);if(f===m)return this.set(m,this.$y+t);if(f===c)return h(1);if(f===s)return h(7);var v=(d={},d[l]=n,d[a]=o,d[i]=e,d)[f]||1,y=this.$d.getTime()+t*v;return C.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var o=e||"YYYY-MM-DDTHH:mm:ssZ",r=C.z(this),i=this.$H,l=this.$m,a=this.$M,c=n.weekdays,s=n.months,u=function(e,n,r,i){return e&&(e[n]||e(t,o))||r[n].substr(0,i)},d=function(e){return C.s(i%12||12,e,"0")},m=n.meridiem||function(e,t,n){var o=e<12?"AM":"PM";return n?o.toLowerCase():o},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:C.s(a+1,2,"0"),MMM:u(n.monthsShort,a,s,3),MMMM:u(s,a),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,c,2),ddd:u(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(i),HH:C.s(i,2,"0"),h:d(1),hh:d(2),a:m(i,l,!0),A:m(i,l,!1),m:String(l),mm:C.s(l,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:r};return o.replace(v,(function(e,t){return t||p[e]||r.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(t,r,p){var f,h=C.p(r),v=T(t),y=(v.utcOffset()-this.utcOffset())*n,g=this-v,E=C.m(this,v);return E=(f={},f[m]=E/12,f[u]=E,f[d]=E/3,f[s]=(g-y)/6048e5,f[c]=(g-y)/864e5,f[a]=g/o,f[l]=g/n,f[i]=g/e,f)[h]||g,p?E:C.a(E)},y.daysInMonth=function(){return this.endOf(u).$D},y.$locale=function(){return S[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),o=F(e,t,!0);return o&&(n.$L=o),n},y.clone=function(){return C.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},t}(),b=B.prototype;return T.prototype=b,[["$ms",r],["$s",i],["$m",l],["$H",a],["$W",c],["$M",u],["$y",m],["$D",p]].forEach((function(e){b[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),T.extend=function(e,t){return e.$i||(e(t,B,T),e.$i=!0),T},T.locale=F,T.isDayjs=_,T.unix=function(e){return T(1e3*e)},T.en=S[k],T.Ls=S,T.p={},T}()},ee(ne={path:te,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&ne.path)}},ne.exports),ne.exports),re=oe,ie=e.defineComponent({name:"ItemList",props:{},setup:function(){var t=y(),n=e.ref(25);return{items:e.computed((function(){var e;return null===(e=t.state.searchResult)||void 0===e?void 0:e.items})),freshSearch:function(e){return t.dispatch(W.FRESH_SEARCH,e)},nextPage:function(){return t.dispatch(W.NEXT_PAGE)},previousPage:function(){return t.dispatch(W.PREVIOUS_PAGE)},selectedPageSize:n,count:e.computed((function(){var e;return null===(e=t.state.searchResult)||void 0===e?void 0:e.count})),first:e.computed((function(){var e;return null===(e=t.state.searchResult)||void 0===e?void 0:e.first})),last:e.computed((function(){var e;return null===(e=t.state.searchResult)||void 0===e?void 0:e.last}))}},methods:{formatDate:function(e){return re(e).format("MMM DD, YYYY")}}}),le={class:"itemList"},ae={key:0},ce={key:0},se={key:1},ue=[e.createElementVNode("option",null,"25",-1),e.createElementVNode("option",null,"50",-1),e.createElementVNode("option",null,"100",-1)],de={key:1},me={class:"item"},pe={class:"item-title"},fe=["href"],he={key:1},ve={class:"item-date"},ye={class:"item-subtitle"},ge={class:"categories"},Ee={class:"badge rounded-pill bg-dark text-white m-1"},ke={class:"content"};ie.render=function(t,n,o,r,i,l){var a;return e.openBlock(),e.createElementBlock("div",le,[(null===(a=t.items)||void 0===a?void 0:a.length)>0?(e.openBlock(),e.createElementBlock("div",ae,[t.first>1?(e.openBlock(),e.createElementBlock("span",ce,[e.createElementVNode("i",{class:"fas fa-angle-double-left",onClick:n[0]||(n[0]=function(){return t.previousPage&&t.previousPage.apply(t,arguments)})})])):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(t.first)+"-"+e.toDisplayString(t.last)+" of "+e.toDisplayString(t.count)+" ",1),t.count>t.last?(e.openBlock(),e.createElementBlock("span",se,[e.createElementVNode("i",{class:"fas fa-angle-double-right",onClick:n[1]||(n[1]=function(){return t.nextPage&&t.nextPage.apply(t,arguments)})})])):e.createCommentVNode("",!0),e.createElementVNode("span",null,[e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":n[2]||(n[2]=function(e){return t.selectedPageSize=e}),class:"pull-right",onChange:n[3]||(n[3]=function(e){return t.freshSearch(Number(t.selectedPageSize))})},ue,544),[[e.vModelSelect,t.selectedPageSize]])])])):(e.openBlock(),e.createElementBlock("div",de,"No results found.")),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.items,(function(n){var o;return e.openBlock(),e.createElementBlock("div",{key:n.id},[e.createElementVNode("div",me,[e.createElementVNode("h3",pe,[(null===(o=n.detailedViewUrl)||void 0===o?void 0:o.length)>0?(e.openBlock(),e.createElementBlock("a",{key:0,href:n.detailedViewUrl},e.toDisplayString(n.title),9,fe)):(e.openBlock(),e.createElementBlock("span",he,e.toDisplayString(n.title),1))]),e.createElementVNode("div",ve,e.toDisplayString(t.formatDate(n.date)),1),e.createElementVNode("h5",ye,e.toDisplayString(n.subtitle),1),e.createElementVNode("div",ge,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.categories,(function(t){return e.openBlock(),e.createElementBlock("span",Ee,e.toDisplayString(t),1)})),256))]),e.createElementVNode("div",ke,e.toDisplayString(n.content),1)])])})),128))])};var Se=e.defineComponent({name:"Applet",components:{KeywordFilter:Q,ItemList:ie},props:l,setup:function(t){console.log("Keyword Search setup ...",t);var n=y();n.commit(U.SET_SOURCE,{pageId:t.pageId,blockId:t.blockId});var o,r=localStorage.getItem(n.getters.searchParamStorageKey);return r&&r.length>0&&(o=JSON.parse(r))&&o.keywords?(n.commit(U.SET_KEYWORDS,o.keywords),n.commit(U.SET_OFFSET,o.offset),n.commit(U.SET_PAGE_SIZE,o.max)):n.dispatch(W.INIT_FILTER),e.onMounted((function(){return n.dispatch(W.FILTER_BY_KEYWORDS)})),{keywordQueryModel:e.ref(n.state.keywordQueryModel)}},storeConfig:{state:{keywordQueryModel:null,searchResult:null,offset:0,max:25,pageId:null,blockId:null},actions:H,mutations:K,getters:{searchParamStorageKey:function(e){var t;return(null===(t=e.blockId)||void 0===t?void 0:t.toString())+"SearchParams"}}}}),_e={class:"row"},Fe={class:"col-md-4 text-left"},Te={class:"col-md-8"};Se.render=function(t,n,o,r,i,l){var a=e.resolveComponent("KeywordFilter"),c=e.resolveComponent("ItemList");return e.openBlock(),e.createElementBlock("div",_e,[e.createElementVNode("div",Fe,[e.createVNode(a)]),e.createElementVNode("div",Te,[e.createVNode(c)])])};var Ce,Be;!function(e){e.SET_ID="SET_ID",e.SET_TEMPLATE="SET_TEMPLATE"}(Be||(Be={}));var be,Ie,De=(o(Ce={},Be.SET_ID,(function(e,t){e.Id=t})),o(Ce,Be.SET_TEMPLATE,(function(e,t){e.template=t})),Ce);!function(e){e.LOAD_TEMPLATE="LOAD_TEMPLATE",e.SET_ID="SET_ID"}(Ie||(Ie={}));var we=(o(be={},Ie.LOAD_TEMPLATE,(function(e){var t=window.location.origin+"/applets/api/itemtemplates/".concat(e.state.Id);fetch(t).then((function(e){return e.json()})).then((function(t){var n;e.commit(Be.SET_TEMPLATE,t),console.log("Loaded Template datacontainer: "+JSON.stringify(null===(n=e.state.template)||void 0===n?void 0:n.dataContainer))}))})),o(be,Ie.SET_ID,(function(e,t){e.commit(Be.SET_ID,t)})),be),Ne=e.defineComponent({name:"NotificationEditor",props:{fieldContainer:{required:!1,type:null}},setup:function(){}});Ne.render=function(t,n,o,r,i,l){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h4",null,e.toDisplayString(t.fieldContainer.name.concatenatedContent),1),e.createElementVNode("div",null,e.toDisplayString(t.fieldContainer),1)],64)};var Oe=e.defineComponent({name:"FormEditor",props:["form"],setup:function(){}});Oe.render=function(t,n,o,r,i,l){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h4",null,e.toDisplayString(t.form.name.concatenatedContent),1),e.createElementVNode("div",null,e.toDisplayString(t.form),1)],64)};var Ve=e.defineComponent({name:"MetadatasetEditor",props:["metadataset"],setup:function(){}});Ve.render=function(t,n,o,r,i,l){return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h4",null,e.toDisplayString(t.metadataset.name.concatenatedContent),1),e.createElementVNode("div",null,e.toDisplayString(t.metadataset),1)],64)};var Me=e.defineComponent({name:"ItemTemplate",components:{NotificationEditor:Ne,FormEditor:Oe,MetadatasetEditor:Ve},props:{},setup:function(){var t=y(),n=e.ref(null);return{template:e.computed((function(){return t.state.template})),metadataSets:e.computed((function(){var e;return null===(e=t.state.template)||void 0===e?void 0:e.metadataSets})),dataContainer:e.computed((function(){var e;return null===(e=t.state.template)||void 0===e?void 0:e.dataContainer})),activePanel:n}},methods:{formatDate:function(e){return re(e).format("MMM DD, YYYY")}}}),xe=function(t){return e.pushScopeId("data-v-2579f0c4"),t=t(),e.popScopeId(),t},Pe={class:"container row itemTemplate"},Le={class:"col-md-4"},Ae=[xe((function(){return e.createElementVNode("div",{class:"sectionLabel"},"Overview",-1)}))],$e=[xe((function(){return e.createElementVNode("div",{class:"sectionLabel"},"Notifications",-1)}))],Re=["onClick"],je=[xe((function(){return e.createElementVNode("div",{class:"sectionLabel"},"Forms",-1)}))],Ye=["onClick"],qe=[xe((function(){return e.createElementVNode("div",{class:"sectionLabel"},"Metadata Forms",-1)}))],Ue=["onClick"],Ge={class:"col-md-8"},We={key:0,class:"col-12 wrapper"},Ke=[xe((function(){return e.createElementVNode("h4",null,"Overview",-1)}))],He={key:1,class:"col-12 wrapper"},Qe=[xe((function(){return e.createElementVNode("h4",null,"Notifications",-1)}))],ze={key:0},Je={key:2,class:"col-12 wrapper"},Ze=[xe((function(){return e.createElementVNode("h4",null,"Forms",-1)}))],Xe={key:0},et={key:3,class:"col-12 wrapper"},tt=[xe((function(){return e.createElementVNode("h4",null,"Metadata Forms",-1)}))],nt={key:0};function ot(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}ot("\n.menuEntry[data-v-2579f0c4]{\r\n        border: 1px solid Grey;\r\n        margin: 10px;\r\n        padding: 10px 10px;\n}\n.menuEntry.active[data-v-2579f0c4] {\r\n            background-color: #BBBCAA;\n}\n.sectionLabel[data-v-2579f0c4]{\r\n        font-weight: bold;\n}\n.wrapper[data-v-2579f0c4]{\r\n        margin: 0;\r\n        padding: 0;\n}\r\n"),Me.render=function(t,n,o,r,i,l){var a,c,s,u,d,m=e.resolveComponent("NotificationEditor"),p=e.resolveComponent("FormEditor"),f=e.resolveComponent("MetadatasetEditor");return e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("h3",null,e.toDisplayString(null===(a=t.template)||void 0===a?void 0:a.templateName),1),e.createElementVNode("div",Pe,[e.createElementVNode("div",Le,[e.createElementVNode("div",{class:e.normalizeClass(["col-12 menuEntry","overview"==t.activePanel||null==t.activePanel?"active":""]),onClick:n[0]||(n[0]=function(e){return t.activePanel="overview"})},Ae,2),e.createElementVNode("div",{class:e.normalizeClass(["col-12 menuEntry","notifications"==t.activePanel?"active":""]),onClick:n[1]||(n[1]=function(e){return t.activePanel="notifications"})},$e,2),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(c=t.metadataSets)||void 0===c?void 0:c.filter((function(e){return 1==e.isTemplate})),(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:e.normalizeClass(["col-12 menuEntry",t.activePanel==n.id?"active":""]),onClick:function(e){return t.activePanel=n.id}},e.toDisplayString(n.name.concatenatedContent),11,Re)})),128)),e.createElementVNode("div",{class:"col-12 menuEntry",onClick:n[2]||(n[2]=function(e){return t.activePanel="forms"})},je),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.dataContainer,(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:e.normalizeClass(["col-12 menuEntry",t.activePanel==n.id?"active":""]),onClick:function(e){return t.activePanel=n.id}},e.toDisplayString(n.name.concatenatedContent),11,Ye)})),128)),e.createElementVNode("div",{class:"col-12 menuEntry",onClick:n[3]||(n[3]=function(e){return t.activePanel="metadata-forms"})},qe),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(s=t.metadataSets)||void 0===s?void 0:s.filter((function(e){return 0==e.isTemplate})),(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:e.normalizeClass(["col-12 menuEntry",t.activePanel==n.id?"active":""]),onClick:function(e){return t.activePanel=n.id}},e.toDisplayString(n.name.concatenatedContent),11,Ue)})),128))]),e.createElementVNode("div",Ge,[null==t.activePanel||"overview"==t.activePanel?(e.openBlock(),e.createElementBlock("div",We,Ke)):e.createCommentVNode("",!0),"notifications"==t.activePanel?(e.openBlock(),e.createElementBlock("div",He,Qe)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(u=t.metadataSets)||void 0===u?void 0:u.filter((function(e){return 1==e.isTemplate})),(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:"col-12 wrapper"},[t.activePanel==n.id?(e.openBlock(),e.createElementBlock("div",ze,[e.createVNode(m,{fieldContainer:n},null,8,["fieldContainer"])])):e.createCommentVNode("",!0)])})),128)),"forms"==t.activePanel?(e.openBlock(),e.createElementBlock("div",Je,Ze)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.dataContainer,(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:"col-12 wrapper"},[t.activePanel==n.id?(e.openBlock(),e.createElementBlock("div",Xe,[e.createVNode(p,{form:n},null,8,["form"])])):e.createCommentVNode("",!0)])})),128)),"metadata-forms"==t.activePanel?(e.openBlock(),e.createElementBlock("div",et,tt)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(null===(d=t.metadataSets)||void 0===d?void 0:d.filter((function(e){return 0==e.isTemplate})),(function(n){return e.openBlock(),e.createElementBlock("div",{key:n.id,class:"col-12 wrapper"},[t.activePanel==n.id?(e.openBlock(),e.createElementBlock("div",nt,[e.createVNode(f,{metadataset:n},null,8,["metadataset"])])):e.createCommentVNode("",!0)])})),128))])])],64)},Me.__scopeId="data-v-2579f0c4";var rt=e.defineComponent({name:"ItemTemplateEditor",components:{ItemTemplate:Me},props:l,setup:function(e){var t=y();console.log("Item Template Editor setup ..."),console.log("props: ",JSON.stringify(e));var n=e.queryParameters;return t.dispatch("SET_ID",n.id),t.dispatch("LOAD_TEMPLATE"),{queryParams:n}},storeConfig:{state:{Id:null,template:null},actions:we,mutations:De,getters:{}}}),it=e.createElementVNode("h3",null,"Item Template Editor",-1);rt.render=function(t,n,o,r,i,l){var a=e.resolveComponent("ItemTemplate");return e.openBlock(),e.createElementBlock(e.Fragment,null,[it,e.createElementVNode("div",null,"Item Template ID: "+e.toDisplayString(t.queryParameters.id),1),e.createVNode(a)],64)};var lt=e.defineComponent({name:"ItemEditor",components:{},props:l,setup:function(e,t){return console.log("Editor setup ..."),console.log("props: ",e),console.log("context: ",t),{queryParameters:e.queryParameters}},mounted:function(){console.log("Editor mounted ...")}}),at=e.createElementVNode("h2",null,"Item Ediror",-1);lt.render=function(t,n,o,r,i,l){return e.openBlock(),e.createElementBlock("div",null,[at,e.createElementVNode("div",null,"Item ID: "+e.toDisplayString(t.queryParameters.id),1)])};var ct,st;!function(e){e.SET_ID="SET_ID",e.SET_ITEM="SET_ITEM"}(st||(st={}));var ut,dt=(o(ct={},st.SET_ID,(function(e,t){e.id=t,console.log("Mutations.SET_ID: ",e.id)})),o(ct,st.SET_ITEM,(function(e,t){e.item=t})),ct);!function(e){e.LOAD_ITEM="LOAD_ITEM"}(ut||(ut={}));var mt,pt,ft=o({},ut.LOAD_ITEM,(function(e){var t=window.location.origin+"/applets/api/itemeditor/".concat(e.state.id);fetch(t).then((function(e){return e.json()})).then((function(t){e.commit(st.SET_ITEM,t)}))})),ht={rootDataItem:function(e){var t;return null===(t=e.item)||void 0===t?void 0:t.dataContainer.filter((function(e){return e.isRoot}))[0]},metadataSet:function(e){return function(t){var n,o;return console.log("metadataset getter id: "+JSON.stringify(t)),null===(n=e.item)||void 0===n||null===(o=n.metadataSets)||void 0===o?void 0:o.find((function(e){return e.templateId===t}))}}};!function(e){e[e[void 0]=0]="undefined",e[e.data=1]="data",e[e.metadata=2]="metadata"}(mt||(mt={})),function(e){e[e.AttachmentField=0]="AttachmentField",e[e.CheckboxField=1]="CheckboxField",e[e.CompositeField=2]="CompositeField",e[e.DateField=3]="DateField",e[e.DecimalField=4]="DecimalField",e[e.EmailField=5]="EmailField",e[e.FieldContainerReference=6]="FieldContainerReference",e[e.InfoSection=7]="InfoSection",e[e.IntegerField=8]="IntegerField",e[e.MonolingualTextField=9]="MonolingualTextField",e[e.RadioField=10]="RadioField",e[e.SelectField=11]="SelectField",e[e.TableField=12]="TableField",e[e.TextArea=13]="TextArea",e[e.TextField=14]="TextField"}(pt||(pt={}));var vt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o,r;return t=e,r=[{key:"getSelectedFieldLabels",value:function(e){return null==e?void 0:e.filter((function(e){return e.selected})).map((function(e){var t;return null===(t=e.optionText)||void 0===t?void 0:t.values.map((function(e){return e.value})).join(" / ")})).join(", ")}}],(o=null)&&n(t.prototype,o),r&&n(t,r),e}(),yt=e.defineComponent({name:"Text",props:{model:{type:null,required:!0}},methods:{isUrl:function(e){return(null==e?void 0:e.startsWith("http://"))||(null==e?void 0:e.startsWith("https://"))}}}),gt={key:0},Et=["href"],kt={key:1};yt.render=function(t,n,o,r,i,l){return t.isUrl(t.model.value)?(e.openBlock(),e.createElementBlock("div",gt,[e.createElementVNode("a",{href:t.model.value},e.toDisplayString(t.model.value),9,Et)])):(e.openBlock(),e.createElementBlock("div",kt,e.toDisplayString(t.model.value),1))};var St=e.defineComponent({name:"TextCollection",props:{model:{type:null,required:!0}},components:{Text:yt}});St.render=function(t,n,o,r,i,l){var a=e.resolveComponent("Text");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values,(function(t){return e.openBlock(),e.createElementBlock("div",null,[e.createVNode(a,{model:t},null,8,["model"])])})),256)};var _t=e.defineComponent({name:"TextField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!0},isMultiline:{type:Boolean,required:!1,default:!0}},components:{TextCollection:St}});_t.render=function(t,n,o,r,i,l){var a=e.resolveComponent("TextCollection");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values,(function(t){return e.openBlock(),e.createElementBlock("div",{key:t.id},[e.createVNode(a,{model:t},null,8,["model"])])})),128)};var Ft=e.defineComponent({name:"EmailField",props:{model:{type:null,required:!0},isMultivalue:{type:Boolean,required:!1,default:!1}}});Ft.render=function(t,n,o,r,i,l){return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values,(function(t){return e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(t.value),1)})),256)};var Tt=e.defineComponent({name:"OptionsField",components:{},props:{model:{type:Object,required:!0}},methods:{getSelectedFieldLabels:function(e){return vt.getSelectedFieldLabels(e.options)}}});Tt.render=function(t,n,o,r,i,l){return e.toDisplayString(t.getSelectedFieldLabels(t.model))};var Ct=e.defineComponent({name:"DecimalField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!1},numDecimalPlaces:{type:Number,required:!1,default:2}},methods:{formatToDecimal:function(e,t){return Number(e).toFixed(t)}}});Ct.render=function(t,n,o,r,i,l){return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values,(function(n){return e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(t.formatToDecimal(n,t.numDecimalPlaces)),1)})),256)};var Bt=e.defineComponent({name:"IntegerField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!1}}});Bt.render=function(t,n,o,r,i,l){return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values,(function(t){return e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(t.value),1)})),256)};var bt=e.defineComponent({name:"DateField",props:{model:{type:null,required:!0},isMultivalued:{type:Boolean,required:!1,default:!1}},methods:{formatDate:function(e){return re(e).format("MMM DD, YYYY")}}});bt.render=function(t,n,o,r,i,l){return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.values,(function(n){return e.openBlock(),e.createElementBlock("div",null,e.toDisplayString(t.formatDate(n.value)),1)})),256)};var It=e.defineComponent({name:"ChildFieldContainer",props:{model:null},components:{TextField:_t,EmailField:Ft,OptionsField:Tt,DecimalField:Ct,IntegerField:Bt,DateField:bt},methods:{getFieldType:function(e){var t,n=null==e?void 0:e.modelType.substring(0,e.modelType.indexOf(","));return n=null===(t=n)||void 0===t?void 0:t.substring(n.lastIndexOf(".")+1),pt[n]},isAttachmentField:function(e){return this.getFieldType(e)===pt.AttachmentField},isOptionsField:function(e){return this.getFieldType(e)===pt.CheckboxField||this.getFieldType(e)===pt.RadioField||this.getFieldType(e)===pt.SelectField},isCompositeField:function(e){return this.getFieldType(e)===pt.CompositeField},isDateField:function(e){return this.getFieldType(e)===pt.DateField},isDecimalField:function(e){return this.getFieldType(e)===pt.DecimalField},isEmailField:function(e){return this.getFieldType(e)===pt.EmailField},isFieldContainerReference:function(e){return this.getFieldType(e)===pt.FieldContainerReference},isInfoSection:function(e){return this.getFieldType(e)===pt.InfoSection},isIntegerField:function(e){return this.getFieldType(e)===pt.IntegerField},isMonolingualTextField:function(e){return this.getFieldType(e)===pt.MonolingualTextField},isTableField:function(e){return this.getFieldType(e)===pt.TableField},isTextArea:function(e){return this.getFieldType(e)===pt.TextArea},isTextField:function(e){return this.getFieldType(e)===pt.TextField},cssClass:function(e){return(e.cssClass?e.cssClass:"")+" "+(e.fieldCssClass?e.fieldCssClass:"")}}}),Dt={class:"field-name col-md-3"},wt={class:"field-value col-md-9"},Nt={key:7},Ot={key:8},Vt={key:9},Mt={key:11};It.render=function(t,n,o,r,i,l){var a=this,c=e.resolveComponent("TextField"),s=e.resolveComponent("EmailField"),u=e.resolveComponent("OptionsField"),d=e.resolveComponent("DecimalField"),m=e.resolveComponent("IntegerField"),p=e.resolveComponent("DateField");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.fields,(function(n){return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["row",t.cssClass(n)])},[e.createElementVNode("div",Dt,e.toDisplayString(n.name.concatenatedContent),1),e.createElementVNode("div",wt,[a.isTextField(n)?(e.openBlock(),e.createBlock(c,{key:0,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isTextArea(n)?(e.openBlock(),e.createBlock(c,{key:1,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isEmailField(n)?(e.openBlock(),e.createBlock(s,{key:2,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isOptionsField(n)?(e.openBlock(),e.createBlock(u,{key:3,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isDecimalField(n)?(e.openBlock(),e.createBlock(d,{key:4,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isIntegerField(n)?(e.openBlock(),e.createBlock(m,{key:5,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isDateField(n)?(e.openBlock(),e.createBlock(p,{key:6,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isAttachmentField(t.model)?(e.openBlock(),e.createElementBlock("div",Nt," AttachmentField ")):e.createCommentVNode("",!0),a.isCompositeField(t.model)?(e.openBlock(),e.createElementBlock("div",Ot," CompositeField ")):e.createCommentVNode("",!0),a.isInfoSection(t.model)?(e.openBlock(),e.createElementBlock("div",Vt," InfoSection ")):e.createCommentVNode("",!0),a.isMonolingualTextField(t.model)?(e.openBlock(),e.createBlock(c,{key:10,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isTableField(t.model)?(e.openBlock(),e.createElementBlock("div",Mt," TableField ")):e.createCommentVNode("",!0)])],2)})),256)};var xt=e.defineComponent({name:"FieldContainerReference",components:{ChildFieldContainer:It},props:{model:{type:null,required:!0}},setup:function(t){var n=y(),o=e.ref(t.model.refId);return console.log("refId: "+JSON.stringify(o)),{refId:o,source:e.computed((function(){return n.getters.metadataSet(o.value)}))}}});xt.render=function(t,n,o,r,i,l){var a=e.resolveComponent("ChildFieldContainer");return e.openBlock(),e.createBlock(a,{model:t.source},null,8,["model"])};var Pt=e.defineComponent({name:"FieldContainer",props:{model:null},components:{TextField:_t,EmailField:Ft,OptionsField:Tt,DecimalField:Ct,IntegerField:Bt,DateField:bt,ReferenceField:xt},methods:{getFieldType:function(e){var t,n=null==e?void 0:e.modelType.substring(0,e.modelType.indexOf(","));return n=null===(t=n)||void 0===t?void 0:t.substring(n.lastIndexOf(".")+1),pt[n]},isAttachmentField:function(e){return this.getFieldType(e)===pt.AttachmentField},isOptionsField:function(e){return this.getFieldType(e)===pt.CheckboxField||this.getFieldType(e)===pt.RadioField||this.getFieldType(e)===pt.SelectField},isCompositeField:function(e){return this.getFieldType(e)===pt.CompositeField},isDateField:function(e){return this.getFieldType(e)===pt.DateField},isDecimalField:function(e){return this.getFieldType(e)===pt.DecimalField},isEmailField:function(e){return this.getFieldType(e)===pt.EmailField},isFieldContainerReference:function(e){return this.getFieldType(e)===pt.FieldContainerReference},isInfoSection:function(e){return this.getFieldType(e)===pt.InfoSection},isIntegerField:function(e){return this.getFieldType(e)===pt.IntegerField},isMonolingualTextField:function(e){return this.getFieldType(e)===pt.MonolingualTextField},isTableField:function(e){return this.getFieldType(e)===pt.TableField},isTextArea:function(e){return this.getFieldType(e)===pt.TextArea},isTextField:function(e){return this.getFieldType(e)===pt.TextField},cssClass:function(e){return e.cssClass+" "+e.fieldCssClass}}}),Lt={class:"field-name col-md-3"},At={class:"field-value col-md-9"},$t={key:8},Rt={key:9},jt={key:10},Yt={key:11};Pt.render=function(t,n,o,r,i,l){var a=this,c=e.resolveComponent("ReferenceField"),s=e.resolveComponent("TextField"),u=e.resolveComponent("EmailField"),d=e.resolveComponent("OptionsField"),m=e.resolveComponent("DecimalField"),p=e.resolveComponent("IntegerField"),f=e.resolveComponent("DateField");return e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.model.fields,(function(n){return e.openBlock(),e.createElementBlock("div",null,[a.isFieldContainerReference(n)?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(t.cssClass(n))},[e.createVNode(c,{model:n},null,8,["model"])],2)):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(["row",t.cssClass(n)])},[e.createElementVNode("div",Lt,e.toDisplayString(n.name.concatenatedContent),1),e.createElementVNode("div",At,[a.isTextField(n)?(e.openBlock(),e.createBlock(s,{key:0,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isTextArea(n)?(e.openBlock(),e.createBlock(s,{key:1,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isEmailField(n)?(e.openBlock(),e.createBlock(u,{key:2,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isOptionsField(n)?(e.openBlock(),e.createBlock(d,{key:3,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isDecimalField(n)?(e.openBlock(),e.createBlock(m,{key:4,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isIntegerField(n)?(e.openBlock(),e.createBlock(p,{key:5,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isDateField(n)?(e.openBlock(),e.createBlock(f,{key:6,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isMonolingualTextField(t.model)?(e.openBlock(),e.createBlock(s,{key:7,model:n},null,8,["model"])):e.createCommentVNode("",!0),a.isAttachmentField(t.model)?(e.openBlock(),e.createElementBlock("div",$t," AttachmentField ")):e.createCommentVNode("",!0),a.isCompositeField(t.model)?(e.openBlock(),e.createElementBlock("div",Rt," CompositeField ")):e.createCommentVNode("",!0),a.isInfoSection(t.model)?(e.openBlock(),e.createElementBlock("div",jt," InfoSection ")):e.createCommentVNode("",!0),a.isTableField(t.model)?(e.openBlock(),e.createElementBlock("div",Yt," TableField ")):e.createCommentVNode("",!0)])],2))])})),256)};var qt=e.defineComponent({name:"ItemViewer",components:{FieldContainer:Pt},props:l,setup:function(t){var n=y();console.log("Item Viewer setup ..."),console.log("props: ",JSON.stringify(t));var o=t.queryParameters;return n.commit(st.SET_ID,o.iid),n.dispatch(ut.LOAD_ITEM),{queryParams:o,dataItem:e.computed((function(){return n.getters.rootDataItem}))}},storeConfig:{state:{id:null,item:null},actions:ft,mutations:dt,getters:ht}});ot("\n.field-name[data-v-a52f5804]{\r\n        font-weight:bold !important;\n}\r\n"),qt.render=function(t,n,o,r,i,l){var a=e.resolveComponent("FieldContainer");return t.dataItem?(e.openBlock(),e.createBlock(a,{key:0,model:t.dataItem},null,8,["model"])):e.createCommentVNode("",!0)},qt.__scopeId="data-v-a52f5804";var Ut=Object.freeze({__proto__:null,Carousel:a,KeywordSearch:Se,ItemTemplateEditor:rt,ItemEditor:lt,ItemViewer:qt}),Gt=function(e){Object.entries(Ut).forEach((function(t){var n=r(t,2),o=n[0],i=n[1];e.component(o,i)}))},Wt=Object.freeze({__proto__:null,default:Gt,Carousel:a,KeywordSearch:Se,ItemTemplateEditor:rt,ItemEditor:lt,ItemViewer:qt});return Object.entries(Wt).forEach((function(e){var t=r(e,2),n=t[0],o=t[1];"default"!==n&&(Gt[n]=o)})),Gt}(Vue);